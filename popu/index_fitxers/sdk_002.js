if (!window.STREAM_CONFIGS) { window.STREAM_CONFIGS = {}; };
      window.STREAM_CONFIGS.ENV = window.STREAM_CONFIGS.ENV || 'production';
      window.STREAM_ID = '4a6879e2-33ad-4fa4-8d54-a0d34a51efd6';
      window.STREAM_CONFIGS['4a6879e2-33ad-4fa4-8d54-a0d34a51efd6'] = {"_id":"4a6879e2-33ad-4fa4-8d54-a0d34a51efd6","status":1,"envVars":[],"blockAdDomains":[{"value":"bundle.clearstream.tv","display":"bundle.clearstream.tv"},{"value":"ato.mx","display":"ato.mx"},{"value":"rtb.pretiox.com","display":"rtb.pretiox.com"},{"value":"dotomi.com","display":"dotomi.com"},{"display":"fastclick.net","value":"fastclick.net"}],"blockAdDFPDomains":[],"playlistSortBy":[],"playlistExcludeTags":[],"type":"stream","adPlayerProvider":"aniview","useChannelsAdPlayer":false,"showPlayButtonOnCTA":false,"prefetchPlayer":true,"adsConfig":{"safeAds":false,"whiteOps":{"enabled":false,"sampleRate":30},"displayAd":{"trigger":{"timeout":30},"autoSkipAfter":{"unfilled":10,"timeout":10,"ads":4}}},"logoHeight":65,"logoWidth":40,"mobileHeight":0,"mobileWidth":0,"desktopHeight":0,"desktopWidth":0,"minimizeFixedPadding":10,"minimizeSizePercentage":50,"loop":true,"logo":true,"slotTimeout":5,"errorLimit":40,"midrollDelay":3,"midrollTimeout":10,"midrollTime":7,"vastRetry":0,"itemsListSize":0,"ivtWhiteops":false,"ivtMoat":true,"isGeoExclude":false,"randomFrom":0,"autoplay":true,"playerVersion":"aniview-7","mute":true,"minimizeLocation":"bottom-right","enableCloseButton":true,"disableOnMobile":true,"enableMinimize":false,"debugMode":false,"logoPosition":"right","ivtForensiq":false,"comscorePixel":false,"random":true,"stickyMode":"persistent","showPlaybuzzLogo":false,"autoContinue":true,"nativePlayerVersion":"https://playbuzz-cdn.s3.amazonaws.com/player/2.55.js","adsInterval":15,"adsMode":"breaking-ads","playbackMode":"auto-play","playbackModeMobile":"auto-play","minimizeSizePercentageMobile":40,"breakingAdsMode":"os","showFullScreen":false,"showFullScreenMobile":false,"muteMobile":true,"noMuteOnBlur":false,"pauseOnMobilePageBlur":false,"skipButton":false,"inventoryEventWeight":0,"includeMediaSection":true,"moatSamplingRate":30,"scrollInToViewOverride":false,"maxRun":100,"timeToFirstAd":0,"playbackModeOverride":false,"playerName":"larazon.es","tabletTraffic":"mobile","maxAdsPerContent":0,"skipOffset":3,"monetization":true,"showTimelineReplay":false,"subVersion":"content-player-premium","timeBetweenErrorLimits":7,"minimizeHorizontalFixedPadding":15,"minimizeVerticalFixedPadding":15,"tracking":{"on":true,"mcd_player_error":0,"mcd_player_in":0,"mcd_player_out":0,"mcd_content_progress":0},"components":{"cta":{"enabled":true,"text":"Noticia Completa","color":"#0D3567","desktop":{"enabled":true,"sticky":true},"mobile":{"enabled":true,"sticky":true},"animation":true,"icon":"none"},"titleComponent":{"enabled":false,"desktop":{"sticky":true,"enabled":true},"mobile":{"sticky":true,"enabled":true},"title":{"ad":"We’ll be Back After This Ad","content":"Playing Now"},"textColor":"#fff","backgroundColor":"primary"},"videoGallery":{"enabled":false,"pluginURL":"https://player.avplayer.com/script/2/2.29/plugins/videoPlayListGallery.js","desktop":{"sticky":false,"enabled":true},"mobile":{"sticky":false,"enabled":true}},"paging":{"color":"primary"}},"content":{"userPlaylist":{"enabled":true,"mp4Extension":false,"id":"5fb3d886cc37e400144a90c8"},"rss":{"videoConfig":{"template":"motion_video","size":5,"progressBar":{"enabled":true},"colors":{"primary":"#003472"},"cta":{"showButton":true,"button":{"mobile":{"sticky":true,"enabled":true},"desktop":{"sticky":true,"enabled":true},"enabled":true},"text":"Noticia Completa","coverPlayer":true},"videoTitle":"Última Hora"},"pauseRegeneration":true,"updateInterval":180,"enabled":false,"source":"https://www.larazon.es/rss/lastNews.xml"},"mrss":{"sort":[],"enabled":false,"limit":10},"clientSide":false},"minimizeLocationMobile":"bottom-right","reporting":{"queryParams":[],"passThroughURLParams":{"replace":false},"customParams":[]},"sticky":{"nonPersistentPerSessionMobile":false,"nonPersistentPerSessionDesktop":false,"widthUnitDesktop":"percents","widthUnitMobile":"percents","transitionDesktop":"regular","transitionMobile":"regular","closeButtonBehavior":"continue-on-close","desktopVerticalPadding":15,"mobileVerticalPadding":15,"desktopHorizontalPadding":15,"mobileHorizontalPadding":15,"floatingCloseButton":true,"offsetMobile":{"top":{"type":"pixels","value":"0"}}},"debug":{"logger":false},"forceMinimumSize":true,"adsDelay":0,"name":"larazon.es","desktopChannel":"5d9f518628a0616a5d0cbcab","mobileChannel":"5d9f518628a0616af81998cc","colorTheme":{"progressBar":{"_id":"5e0c89c5a6973a0012123453","from":"#003472","to":"#003472"},"playButton":{"_id":"5e0c89c5a6973a0012123454","from":"#003472","to":"#003472"}},"updatedBy":{"id":"2772ab60-61b6-4be6-b0f9-6e948afe9f34"},"placement":{"_id":"5e36abe821abdf00144a826b","mobile":{"_id":"5e36abe821abdf00144a826c"},"desktop":{"_id":"5e36abe821abdf00144a826d"}},"sdkVersion":"http://playbuzz-cdn.s3.amazonaws.com/stream-sdk/production/55a1007-2021-01-13-07-47-50/sdk.js","channelsHistory":[{"id":"5ef997dc43d94b2c556fc947","type":"desktop"},{"id":"5ef997d37d89f70fdb54ac3b","type":"mobile"},{"id":"5d9f518628a0616a5d0cbcab","type":"desktop"},{"id":"5d9f518628a0616af81998cc","type":"mobile"}],"appearance":{"borderRadius":{"radius":7},"colorPalette":{"primary":"#28A0F9","secondary":"#2080C7"},"font":{"family":"Roboto"}},"targeting":{"bots":{"values":["GOOGLE"],"operator":"exclude"}},"lazy":{"type":"element"},"targetingConfigs":[],"customCSS":".pbs[data-pbs-device=\"desktop\"] {\r\n    bottom: 20px;\r\n}\r\n\r\n.pbs[data-pbs-device=\"mobile\"]{\r\n    min-width: 98vw;\r\n    margin-top: 15px;\r\n}","abTests":{"templates":[{"name":"TrueView","weight":0,"active":false,"config":{"updateDate":"2020-06-28T07:41:30.987Z","updatedBy":{"id":"2736b566-b6e5-4f02-b275-4279c6a2d8e3"},"desktopChannel":"5ef997dc43d94b2c556fc947","mobileChannel":"5ef997d37d89f70fdb54ac3b","rates":{"5ef997d37d89f70fdb54ac3b":{"rs":"0.5"},"5ef997dc43d94b2c556fc947":{"rs":"0.5"}}}},{"name":"Prot Test","weight":0,"active":false,"config":{"updateDate":"2020-09-30T10:50:37.786Z","adsConfig":{"safeAds":true}}},{"name":"Lazy load 5 sec","weight":25,"active":true,"config":{"updateDate":"2020-12-08T16:26:52.273Z","lazy":{"mobileTarget":"body","desktopTarget":"body","delay":"5","type":"element"}}},{"name":"Lazy load 5 sec_T","weight":25,"active":true,"config":{"updateDate":"2020-12-08T16:26:52.273Z","lazy":{"mobileTarget":"body","desktopTarget":"body","delay":"5","mobileTimeDelay":"5","desktopTimeDelay":"5","type":"time"}}}]},"logoImage":"https://cdn.playbuzz.com/logos/4a6879e2-33ad-4fa4-8d54-a0d34a51efd6_1605624891520.png","rates":{"5d9f518628a0616a5d0cbcab":{"rs":"0.5"},"5d9f518628a0616af81998cc":{"rs":"0.5"}},"isFactory":false,"country":"ES","contents":[{"id":"967624bb-4ba3-4acc-80b2-1638dda29a3b","video":{"mp4":{"src":"https://mcd.ex.co/video/upload/v1490095101/landscape967624bb-4ba3-4acc-80b2-1638dda29a3b_1610730787352.mp4"},"jpg":{"src":"https://mcd.ex.co/video/upload/so_4/v1490095101/landscape967624bb-4ba3-4acc-80b2-1638dda29a3b_1610730787352.jpg"},"m3u8":{"src":"https://mcd.ex.co/video/upload/sp_hd/v1490095101/landscape967624bb-4ba3-4acc-80b2-1638dda29a3b_1610730787352.m3u8"}},"title":"Johan Mojica se convierte en el primer fichaje del Elche","source":"playbuzz-playlist","poster":"https://mcd.ex.co/video/upload/so_4/v1490095101/landscape967624bb-4ba3-4acc-80b2-1638dda29a3b_1610730787352.jpg","videoSpecMeta":{"duration":40,"actions":[{"startTime":5,"endTime":12,"type":"cta","data":{"url":"https://www.larazon.es/laotraliga/20210115/tdgh4tcnx5firiomcrkoxvzaqq.html","text":"READ MORE","color":"#fff","backgroundColor":"#000000"}},{"startTime":12,"endTime":19,"type":"cta","data":{"url":"https://www.larazon.es/deportes/20210115/xdu6x74xv5eqnjzc32co6iu7gy.html","text":"READ MORE","color":"#fff","backgroundColor":"#000000"}},{"startTime":19,"endTime":26,"type":"cta","data":{"url":"https://www.larazon.es/tecnologia/20210115/wywe57pztzg6zmrfi6hf4xajvq.html","text":"READ MORE","color":"#fff","backgroundColor":"#000000"}},{"startTime":26,"endTime":33,"type":"cta","data":{"url":"https://www.larazon.es/laotraliga/20210115/27z2rq4k7vdixmak2lghbi6efi.html","text":"READ MORE","color":"#fff","backgroundColor":"#000000"}},{"startTime":33,"endTime":40,"type":"cta","data":{"url":"https://www.larazon.es/economia/20210115/2rtqamy74vcbfdwpcit26efyoe.html","text":"READ MORE","color":"#fff","backgroundColor":"#000000"}}],"items":[{"title":"Johan Mojica se convierte en el primer fichaje del Elche","tags":["La Otra Liga"],"author":"Agencia EFE","date":"2021-01-15T16:59:55.000Z","pubDate":"Fri, 15 Jan 2021 16:59:55 +0000","link":"https://www.larazon.es/laotraliga/20210115/tdgh4tcnx5firiomcrkoxvzaqq.html"},{"title":"La salida del armario de una estrella del 3x3","tags":["Deportes"],"author":"La Razón","date":"2021-01-15T16:57:43.000Z","pubDate":"Fri, 15 Jan 2021 16:57:43 +0000","link":"https://www.larazon.es/deportes/20210115/xdu6x74xv5eqnjzc32co6iu7gy.html"},{"title":"El ‘secuestro de WhatsApp’, el engaño con el que podrían robarnos nuestra cuenta","tags":["Tecnología"],"author":"Alejandro Ortega","date":"2021-01-15T16:57:39.000Z","pubDate":"Fri, 15 Jan 2021 16:57:39 +0000","link":"https://www.larazon.es/tecnologia/20210115/wywe57pztzg6zmrfi6hf4xajvq.html"},{"title":"Peter Lim da el visto bueno al regreso de Juan Mata al Valencia","tags":["La Otra Liga"],"author":"La Otra Liga","date":"2021-01-15T16:55:14.000Z","pubDate":"Fri, 15 Jan 2021 16:55:14 +0000","link":"https://www.larazon.es/laotraliga/20210115/27z2rq4k7vdixmak2lghbi6efi.html"},{"title":"Planes de pensiones: cambios en la fiscalidad para 2021 y alternativas para ahorrar para la jubilación","tags":["Economía"],"author":"S. de la Cruz","date":"2021-01-15T16:54:07.000Z","pubDate":"Fri, 15 Jan 2021 16:54:07 +0000","link":"https://www.larazon.es/economia/20210115/2rtqamy74vcbfdwpcit26efyoe.html"}]},"itemTags":["La Otra Liga"],"context":[]}]};
      if (!window.__EXCO_INTEGRATION_TYPE) { window.__EXCO_INTEGRATION_TYPE = 'default'; };
      var com;!function(m){"use strict";m.com||(m.com={}),m.com.aniview||(m.com.aniview={}),m.com.aniview.player||(m.com.aniview.player={});m.com.aniview.player.avPlayer=function(s){var o,r,a,e,l,i,d=new function(){var a={};this.subscribe=function(t,e,n){a[e]||(a[e]=[]),a[e].push({callback:t,context:n})},this.unsubscribe=function(t,e){if(a[e])for(var n=0;n<a[e].length;n++)if(a[e][n].callback===t){a[e].splice(n,1);break}},this.dispatch=function(t,e,n,i){if(a[t])for(var o=0;o<a[t].length;o++)if(a[t][o]&&"function"==typeof a[t][o].callback)try{a[t][o].callback.call(a[t][o].context,e,n,i)}catch(t){}}},c=this;c.AdLoaded=!1,c.playing=!1,c.muted=!s.autosound;var n,p,u=null,h=null,g=null;s.publisherId&&(s.publisherId=s.publisherId.trim()),s.channelId&&(s.channelId=s.channelId.trim()),l={AdLoaded:[],AdStarted:[],AdStopped:[],AdSkipped:[],AdClosed:[],AdSkippableStateChange:["adSkippableState"],AdSizeChange:["adWidth","adHeight"],AdLinearChange:["adLinear"],AdDurationChange:["adDuration","adRemainingTime"],AdExpandedChange:["adExpanded"],AdRemainingTimeChange:["adRemainingTime"],AdVolumeChange:["adVolume"],AdImpression:[],AdVideoStart:[],AdVideoFirstQuartile:[],AdVideoMidpoint:[],AdVideoThirdQuartile:[],AdVideoComplete:[],AdClickThru:[],AdInteraction:[],AdUserAcceptInvitation:[],AdUserMinimize:[],AdUserClose:[],AdPaused:[],AdPlaying:[],AdLog:[],AdError:[],Inventory:[],InventoryRequest:[],FullScreenRequest:[],AdEvent:[],VPAIDLoadError:[],AdTimeout:[]},document.getElementById("videoSlot"),o&&o.parentNode&&(o.parentNode.removeChild(o),o=null),(o=document.createElement("iframe")).setAttribute("id","AVLoader"+s.position),o.style.display="none",o.src="about:blank",e=function(){var t,e,n="https://player.aniview.com/script/6.1/";!s.baseJsUrl&&""!=s.baseJsUrl||(n=s.baseJsUrl);var i="";isNaN(s.abtest)&&5==Math.floor(20*Math.random())&&(s.abtest=5),5==s.abtest&&(i="ab5"),n=n+"AVmanager"+i+".js?v=1.0&type=s&pid="+s.publisherId;try{(a=o.contentWindow.document.createElement("script")).src=n,a.setAttribute("data-av","AVScript"+s.position),a.type="text/javascript",e=function(){if("function"==typeof o.contentWindow.getVPAIDAd){for(t in r=o.contentWindow.getVPAIDAd(),l)l.hasOwnProperty(t)&&function(a){r.subscribe(function(t,e,n){for(var i=0;i<arguments.length;i++)0<i&&0,0;for(i=0;i<l[a].length;i++)l[a][i].charAt(0).toUpperCase(),l[a][i].slice(1);if("AdEvent"==a&&"function"==typeof c.onEvent&&c.onEvent(t,e,n),"AdLoaded"==a&&(c.AdLoaded=!0,"function"==typeof c.onLoad&&c.onLoad()),"AdImpression"==a&&(c.playing=!0,"function"==typeof c.onPlay&&c.onPlay(t)),"AdVideoFirstQuartile"==a&&"function"==typeof c.onPlay25&&c.onPlay25(),"AdVideoMidpoint"==a&&"function"==typeof c.onPlay50&&c.onPlay50(),"AdVideoThirdQuartile"==a&&"function"==typeof c.onPlay75&&c.onPlay75(),"AdVideoComplete"==a&&(c.playing=!1,"function"==typeof c.onPlay100&&c.onPlay100(t)),"AdClickThru"==a&&"function"==typeof c.onClick&&c.onClick(),"AdPaused"==a&&"function"==typeof c.onPause&&c.onPause(),"AdPlaying"==a&&"function"==typeof c.onResume&&c.onResume(),"AdError"==a&&"function"==typeof c.onError&&c.onError(t),"AdStopped"==a&&"function"==typeof c.onStopped&&c.onStopped(),"AdSkipped"==a&&"function"==typeof c.onSkip&&c.onSkip(),"AdClosed"==a&&"function"==typeof c.onClose&&c.onClose(t),"AdVolumeChange"==a){var o=c.muted;if(void 0!==r.adVolume&&(c.muted=!(0<r.adVolume)),o==c.muted)return;"function"!=typeof c.onUnmute||c.muted?"function"==typeof c.onMute&&c.muted&&(c.onMute(),c.muted=!0):(c.onUnmute(),c.muted=!1)}"ContentImpression"==a&&"function"==typeof c.onContentPlay&&c.onContentPlay(t),"ContentComplete"==a&&"function"==typeof c.onContentPlay100&&c.onContentPlay100(),"ContentPaused"==a&&"function"==typeof c.onContentPaused&&c.onContentPaused(),"ContentPlaying"==a&&"function"==typeof c.onContentPlaying&&c.onContentPlaying(),"Inventory"==a&&"function"==typeof c.onInventory&&c.onInventory(),"InventoryRequest"==a&&"function"==typeof c.onInventoryRequest&&c.onInventoryRequest(t),"FullScreenRequest"==a&&"function"==typeof c.onFullScreenRequest&&c.onFullScreenRequest(t),d.dispatch(a,t,e,n)},a)}(t);!function(){var t,e,n;t={},e=document.getElementById(s.position).parentNode||"BODY"!=document.getElementById(s.position).parentNode.tagName?document.getElementById(s.position).parentNode.clientWidth:document.body.clientWidth||screen.width;1200<Math.floor(e)&&(e=1200);{var i;n=Math.ceil(e/1.777),0==s.height&&100==s.width&&(s.height=n,s.width=e,i=document.documentElement.clientHeight||document.body.clientHeight||screen.height,s.height>i&&(s.height=i,s.width=Math.ceil(1.77*i)))}void 0===s.hideControls&&(s.hidecontrols=!1);(t=s).slot=document.getElementById(s.position),t.videoSlot=document.getElementById("videoSlot"),t.videoSlotCanAutoPlay=!0,t.getviewability=g,r.initAd(s.width,s.height,"normal","","",t)}()}},a.onload=function(){e()},o.contentWindow.document.body.appendChild(a)}catch(t){d.dispatch(l.VPAIDLoadError,t)}},c.play=function(){var t;c.playCalled||(c.playCalled=!0,document.body&&"function"==typeof document.body.appendChild?document.body.appendChild(o):document.getElementById(s.position).appendChild(o),o.contentWindow&&(t=o.contentWindow.document.open(),o.contentWindow.avCallback=e,t.write('<html><body onload="window.avCallback();"></body></html>'),o.contentWindow.document.close()))},c.startAd=function(t){c.AdLoaded&&r.startAd(t)},c.setWaterfallState=function(t,e,n){r&&"function"==typeof r.setWaterfallState&&r.setWaterfallState(t,e,n)},c.unmute=function(){r&&r.setAdVolume(1)},c.mute=function(){try{r&&r.setAdVolume(0)}catch(t){}},c.pause=function(){r&&r.pauseAd()},c.resume=function(){r&&r.resumeAd()},c.skip=function(){r&&r.skipAd()},c.close=function(){r&&"function"==typeof r.stopAd&&r.stopAd(),setTimeout(function(){try{o&&(document.body.removeChild(o),r=o=null)}catch(t){}},3e3)},c.getEvents=function(){var t,e=[];for(t in l)e.push(t);return e},c.updateGui=function(t){try{if("object"==typeof t)for(var e in t){var n=e.toLowerCase();o.contentWindow.AV_PlayerGui.config[n]=t[e],o.contentWindow.AV_PlayerGui.config[e]=t[e],"showTimeline"==e&&"function"==typeof o.contentWindow.AV_PlayerGui.showTimeline&&o.contentWindow.AV_PlayerGui.showTimeline(t[e])}}catch(t){}},c.resize=function(t,e,n){n=n||"normal",r&&r.resizeAd(Math.floor(t),Math.floor(e),n)},c.getAdDuration=function(){if(r)return r.getAdDuration()},c.getAdRemainingTime=function(){if(r)return r.getAdRemainingTime()},c.getAdVolume=function(){if(r)return r.getAdVolume()},c.setAdVolume=function(t){if(r)return r.setAdVolume(t)},c.seek=function(t){if(r)return r.seekAd(t)},c.getContentPaused=function(){if(r)return r.getContentPaused()},this.pauseContent=function(){if(r)return r.pauseContent()},this.resumeContent=function(){if(r)return r.resumeContent()},this.setContentVolume=function(t){if(r)return r.setContentVolume(t)},this.on=function(t,e,n){d.subscribe(e,t,n)},this.off=function(t,e,n){d.unsubscribe(e,t,n)},i=function(){var i=null,o=.5,a=null,s=!1,r=this;function n(){var t=r.getVieabilityInfo(a.el,a.wnd),e=t.vertical.value*t.horizontal.value,n=t.vertical.state;return{inView:o<e,ratio:e,state:n}}function l(){var t=n();i&&i(t.inView,t.ratio,t.state)}this.start=function(t,e,n){return!s&&(!!(a=function(t){var e,n,i=null;try{m.top.location.href;if(i=m.frameElement)for(var o,a=m;a!==m.top;){if((a=(o=i.ownerDocument).defaultView||o.parentWindow)===m.top){n=a,e=i;break}i=a.frameElement}}catch(t){return s=!0,null}if(null==i){if(!(e="object"==typeof t?t:document.getElementById(t)))return s=!0,null;n=m}return{el:e,wnd:n}}(t))&&(n&&(o=n),e&&(a.wnd.addEventListener("resize",l,!0),a.wnd.addEventListener("scroll",l,!0),i=e,setTimeout(l,10)),!0))},this.stop=function(){i&&(a.wnd.removeEventListener("resize",l,!0),a.wnd.removeEventListener("scroll",l,!0),i=null)},this.get=function(t,e){return!s&&a?n():{inView:!1,ratio:0,state:"UNKNOWN"}},this.getHorizontalViewability=function(t,e){var n=e.innerWidth,i=t.getBoundingClientRect().left,o=t.getBoundingClientRect().right,a=o-i;return n<i?{value:0,state:"OUT_RIGHT"}:o<=0?{value:0,state:"OUT_LEFT"}:0<=i&&o<=n?{value:1,state:"IN_HVIEW"}:i<0&&n<o?{value:n/a,state:"LR_TRUNC"}:i<0&&o<=n?{value:o/a,state:"L_TRUNC"}:0<=i&&n<o?{value:(n-i)/a,state:"R_TRUNC"}:{value:0,state:"OUT"}},this.getVerticalViewability=function(t,e){var n=e.innerHeight,i=t.getBoundingClientRect().top,o=t.getBoundingClientRect().bottom,a=o-i;return n<i?{value:0,state:"OUT_BOTTOM"}:o<=0?{value:0,state:"OUT_TOP"}:0<=i&&o<=n?{value:1,state:"IN_VVIEW"}:i<0&&n<o?{value:n/a,state:"BT_TRUNC"}:i<0&&o<=n?{value:o/a,state:"T_TRUNC"}:0<=i&&n<o?{value:(n-i)/a,state:"B_TRUNC"}:{value:0,state:"OUT"}},this.getVieabilityInfo=function(t,e){return{vertical:r.getVerticalViewability(t,e),horizontal:r.getHorizontalViewability(t,e)}}},this.startViewability=function(t,e,n){return(u=u||new i).start(t,e,n)},this.stopViewability=function(){u&&u.stop()},this.getViewability=function(){if(u)return u.get()},g=function(t,e,n){if(t)return h||(h=new i).start(t,e,n),h.get();h.stop()},s.noMuteOnBlur||(n={hidden:void 0,visibilityChange:void 0},void 0!==document.hidden?(n.hidden="hidden",n.visibilityChange="visibilitychange"):void 0!==document.webkitHidden?(n.hidden="webkitHidden",n.visibilityChange="webkitvisibilitychange"):void 0!==document.mozHidden?(n.hidden="mozHidden",n.visibilityChange="mozvisibilitychange"):void 0!==document.msHidden&&(n.hidden="msHidden",n.visibilityChange="msvisibilitychange"),n.hidden&&document.addEventListener(n.visibilityChange,function(t){document[n.hidden]&&c.mute()},!1)),p={addClass:function(t,e){t.style.cssText=e},setfloatingCSS:function(){s.floating.size||(s.floating.size=.5),s.floating.right||(s.floating.right=0),s.floating.bottom||(s.floating.bottom=0),this.floatingCSS="z-index:10000001;position:fixed; bottom:"+s.floating.bottom+"px; right:"+s.floating.right+"px; -webkit-transform:scale("+s.floating.size+"); -webkit-transform-origin:bottom right; transform:scale("+s.floating.size+"); transform-origin:bottom right"},getPlaceholderWidth:function(t){var e=t.parentNode||"BODY"!=t.parentNode.tagName?t.parentNode.clientWidth:document.body.clientWidth||screen.width;return 1020<e&&(e=1020),100!=s.width&&0!=s.height?e=s.width:(s.height=Math.floor(e/1.777),s.width=e),e},hidePlayer:function(t,e){t.style.width=this.getPlaceholderWidth(t)+"px",t.style.height="1px",e.style.position="absolute",e.style.top="-100000px"},showPlayer:function(t,e){t.style.height=s.height+"px",c.resize(s.width,s.height),e.style.top="",e.style.position="",e.style.zIndex="9999999"},startAd:function(t){this.playerInView&&this.playerLoadedFirstTime&&!this.startAdFirstTime&&(this.startAdFirstTime=!0,c.startAd(t))},startViewability:function(i){var o=this,t=!1;s.floting&&!s.floating&&(s.floating=s.floting),(/(android|bb\d+|meego).+mobile|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|ipad|iris|kindle|Android|Silk|lge |maemo|midp|mmp|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\.(browser|link)|vodafone|wap|windows (ce|phone)|xda|xiino/i.test(navigator.userAgent)||/1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s\-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|\-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw\-(n|u)|c55\/|capi|ccwa|cdm\-|cell|chtm|cldc|cmd\-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc\-s|devi|dica|dmob|do(c|p)o|ds(12|\-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(\-|_)|g1 u|g560|gene|gf\-5|g\-mo|go(\.w|od)|gr(ad|un)|haie|hcit|hd\-(m|p|t)|hei\-|hi(pt|ta)|hp( i|ip)|hs\-c|ht(c(\-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i\-(20|go|ma)|i230|iac( |\-|\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\/)|klon|kpt |kwc\-|kyo(c|k)|le(no|xi)|lg( g|\/(k|l|u)|50|54|\-[a-w])|libw|lynx|m1\-w|m3ga|m50\/|ma(te|ui|xo)|mc(01|21|ca)|m\-cr|me(rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(\-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)\-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|\-([1-8]|c))|phil|pire|pl(ay|uc)|pn\-2|po(ck|rt|se)|prox|psio|pt\-g|qa\-a|qc(07|12|21|32|60|\-[2-7]|i\-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h\-|oo|p\-)|sdk\/|se(c(\-|0|1)|47|mc|nd|ri)|sgh\-|shar|sie(\-|m)|sk\-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h\-|v\-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl\-|tdg\-|tel(i|m)|tim\-|t\-mo|to(pl|sh)|ts(70|m\-|m3|m5)|tx\-9|up(\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|\-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(\-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas\-|your|zeto|zte\-/i.test(navigator.userAgent.substr(0,4)))&&(t=!0),s.preloader||(s.preloader={});var a=document.querySelector("#"+s.position);o.addClass(i,"overflow:hidden; -webkit-transition:1s ease height; transition:1s ease height"),s.floating&&0<s.floating.size&&o.setfloatingCSS(),s.playOnView&&!s.autoPlay&&o.hidePlayer(i,a),c.on("AdLoaded",function(){o.playerLoadedFirstTime=!0,o.startAd()}),c.on("AdImpression",function(){s.preloader.type,o.showPlayer(i,a),s.unMuteOnMouseEnter&&!t&&(a.addEventListener("mouseenter",function(t){setTimeout(function(){c.unmute()},5)}),a.addEventListener("mouseleave",function(t){setTimeout(function(){c.mute()},5)})),s.pauseOnBlur&&!t&&m.addEventListener("blur",function(){setTimeout(function(){c.pause()},500)})}),c.on("AdVideoComplete",function(){s.lastFrame||s.preloader.type||o.hidePlayer(i,a)}),c.on("AdSkipped",function(){o.hidePlayer(i,a)}),c.on("AdClosed",function(){o.hidePlayer(i,a)}),c.on("AdError",function(t){var e=t&&t.errorlimit;s.preloader.type||s.passbackUrl?s.passbackUrl&&s.playOnView&&e&&o.showPlayer(i,a):o.hidePlayer(i,a)}),s.playOnView?c.startViewability(i,function(t,e,n){t?(s.preloader.type&&!o.playerInView&&0==s.Preroll&&o.showPlayer(i,a),o.playerInView=!0,c.playing||o.startAd(),(c.playing||""!=s.preloader.type&&s.preloader.type)&&(s.pauseOnUnseen&&c.resume(),o.addClass(a,""))):(c.playing||""!=s.preloader.type&&s.preloader.type)&&("OUT_TOP"===n&&s.floating&&o.addClass(a,o.floatingCSS),s.pauseOnUnseen&&c.pause())},.5):(o.startAdFirstTime=!1,o.playerInView=!0,o.playerLoadedFirstTime=!0,o.startAd(),o.showPlayer(i,a))}},c.startTemplate=function(t){p.startViewability(t)}}}(window),function(){function t(t,e){e=e||{bubbles:!1,cancelable:!1,detail:void 0};var n=document.createEvent("CustomEvent");return n.initCustomEvent(t,e.bubbles,e.cancelable,e.detail),n}"function"!=typeof window.CustomEvent&&(t.prototype=window.Event.prototype,window.CustomEvent=t)}(),function(t){"use strict";t.com||(t.com={}),t.com.aniview||(t.com.aniview={}),t.com.aniview.player||(t.com.aniview.player={});var e=t.com.aniview.player.EventListener=function(){this.listeners={}};e.prototype.listeners=null,e.prototype.event=function(t,e){var n=new CustomEvent(t,{});n.data=e,this.dispatchEvent(n)},e.prototype.addEventListener=function(t,e,n){t in this.listeners||(this.listeners[t]=[]),this.listeners[t].push({callback:e,context:n})},e.prototype.removeEventListener=function(t,e){if(t in this.listeners)for(var n=this.listeners[t],i=0,o=n.length;i<o;i++)if(n[i]===e)return n.splice(i,1),this.removeEventListener(t,e)},e.prototype.dispatchEvent=function(t){if(t.type in this.listeners)for(var e=this.listeners[t.type],n=0,i=e.length;n<i;n++){var o=e[n].context;void 0===o&&(o=this);try{e[n].callback.call(o,t,t.data)}catch(t){}}}}(window),function(t){var e,n,i;function a(){}e=t.aniview||(t.aniview={}),n=e.utils||(e.utils={}),a.clone=function(t){if(null==t||"object"!=typeof t)return t;var e,n=t.constructor();for(e in t)t.hasOwnProperty(e)&&(n[e]=t[e]);return n},a.isMergeableObject=function(t){return t&&"object"==typeof t&&"[object RegExp]"!==Object.prototype.toString.call(t)&&"[object Date]"!==Object.prototype.toString.call(t)},a.emptyTarget=function(t){return Array.isArray(t)?[]:{}},a.cloneIfNecessary=function(t,e){return e&&!0===e.clone&&a.isMergeableObject(t)?a.deepmerge(emptyTarget(t),t,e):t},a.defaultArrayMerge=function(n,t,i){var o=n.slice();return t.forEach(function(t,e){void 0===o[e]?o[e]=a.cloneIfNecessary(t,i):a.isMergeableObject(t)?o[e]=a.deepmerge(n[e],t,i):-1===n.indexOf(t)&&o.push(a.cloneIfNecessary(t,i))}),o},a.mergeObject=function(e,n,i){if(null==n||null==e)return e;var o={};return a.isMergeableObject(e)&&Object.keys(e).forEach(function(t){o[t]=a.cloneIfNecessary(e[t],i)}),Object.keys(n).forEach(function(t){a.isMergeableObject(n[t])&&e[t]?o[t]=a.deepmerge(e[t],n[t],i):o[t]=a.cloneIfNecessary(n[t],i)}),o},a.deepmerge=function(t,e,n){var i=Array.isArray(e),o=(n||{arrayMerge:a.defaultArrayMerge}).arrayMerge||a.defaultArrayMerge;return i?Array.isArray(t)?o(t,e,n):a.cloneIfNecessary(e,n):a.mergeObject(t,e,n)},a.deepmergeall=function(t,n){if(!Array.isArray(t)||t.length<2)throw new Error("first argument should be an array with at least two elements");return t.reduce(function(t,e){return a.deepmerge(t,e,n)})},i=a,n.ObjectUtils=i}(com=com||{}),function(c){"use strict";c.com||(c.com={}),c.com.aniview||(c.com.aniview={}),c.com.aniview.player||(c.com.aniview.player={});var o=c.com.aniview.player.Utils={};o.extendsClass=function(t,e){function n(){}n.prototype=e.prototype,t.prototype=new n},o.getPath=function(t){return t&&-1!=t.indexOf("?")&&(t=t.split("?").shift()),t},o.clone=function(t,e){if(null==t||"object"!=typeof t)return t;var n,i=t.constructor();for(n in t)t.hasOwnProperty(n)&&(i[n]=e&&0<e?o.clone(t[n],e-1):t[n]);return i},o.getExtension=function(t){return(t=o.getPath(t))&&-1!=t.indexOf(".")?t.split(".").pop().toLowerCase():null},o.isOneVideoElement=function(){var t=this.getOS();return"webos"===t||"tizen"===t&&"4"===this.getOSVersion().major},o.isMobile=function(){return!!this.isOneVideoElement()||(this._isMobile||(t=!1,e=navigator.userAgent||navigator.vendor||c.opera,(/(android|bb\d+|meego).+mobile|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\.(browser|link)|vodafone|wap|windows ce|xda|xiino|android|ipad|playbook|silk/i.test(e)||/1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s\-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|\-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw\-(n|u)|c55\/|capi|ccwa|cdm\-|cell|chtm|cldc|cmd\-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc\-s|devi|dica|dmob|do(c|p)o|ds(12|\-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(\-|_)|g1 u|g560|gene|gf\-5|g\-mo|go(\.w|od)|gr(ad|un)|haie|hcit|hd\-(m|p|t)|hei\-|hi(pt|ta)|hp( i|ip)|hs\-c|ht(c(\-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i\-(20|go|ma)|i230|iac( |\-|\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\/)|klon|kpt |kwc\-|kyo(c|k)|le(no|xi)|lg( g|\/(k|l|u)|50|54|\-[a-w])|libw|lynx|m1\-w|m3ga|m50\/|ma(te|ui|xo)|mc(01|21|ca)|m\-cr|me(rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(\-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)\-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|\-([1-8]|c))|phil|pire|pl(ay|uc)|pn\-2|po(ck|rt|se)|prox|psio|pt\-g|qa\-a|qc(07|12|21|32|60|\-[2-7]|i\-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h\-|oo|p\-)|sdk\/|se(c(\-|0|1)|47|mc|nd|ri)|sgh\-|shar|sie(\-|m)|sk\-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h\-|v\-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl\-|tdg\-|tel(i|m)|tim\-|t\-mo|to(pl|sh)|ts(70|m\-|m3|m5)|tx\-9|up(\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|\-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(\-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas\-|your|zeto|zte\-/i.test(e.substr(0,4)))&&(t=!0),this._isMobile=t),this._isMobile);var t,e},o.getBrowser=function(){return this._browser||(-1!=navigator.userAgent.toLowerCase().indexOf("chrome")&&-1!=navigator.vendor.toLowerCase().indexOf("google")?this._browser="chrome":-1!=navigator.userAgent.toLowerCase().indexOf("opera")?this._browser="opera":-1!=navigator.userAgent.toLowerCase().indexOf("firefox")?this._browser="firefox":-1!=navigator.userAgent.toLowerCase().indexOf("safari")||navigator.vendor&&-1!=navigator.vendor.toLowerCase().indexOf("apple")?this._browser="safari":-1!=navigator.userAgent.toLowerCase().indexOf("msie")||1==!!document.documentMode?this._browser="ie":-1!=navigator.userAgent.toLowerCase().indexOf("mozilla")&&(this._browser="edge")),this._browser},o.logLevel=0,o.LOG_LEVEL={DEBUG:3,INFO:2,ERR:1},o.log=function(t,e){if((e=e||o.LOG_LEVEL.INFO)<=o.logLevel){var n=new Date,i="avcp::["+n.getHours()+":"+(n.getMinutes()<10?"0":"")+n.getMinutes()+":"+(n.getSeconds()<10?"0":"")+n.getSeconds()+"] "+t;switch(e){case o.LOG_LEVEL.DEBUG:console.debug?console.debug(i):console.log(i);break;case o.LOG_LEVEL.INFO:console.info(i);break;case o.LOG_LEVEL.ERR:console.error(i)}}},o.getOS=function(){return this._os||(-1!==navigator.appVersion.toLowerCase().indexOf("android")?this._os="android":-1!==navigator.appVersion.toLowerCase().indexOf("mac")&&/iPad|iPhone|iPod/.test(navigator.userAgent)?this._os="ios":-1!==navigator.appVersion.toLowerCase().indexOf("win")?this._os="windows":-1!==navigator.appVersion.toLowerCase().indexOf("mac")?this._os="mac":-1!==navigator.appVersion.toLowerCase().indexOf("x11")?this._os="unix":-1!==navigator.appVersion.toLowerCase().indexOf("web0s")||-1!==navigator.appVersion.toLowerCase().indexOf("webos")?this._os="webos":-1!==navigator.appVersion.toLowerCase().indexOf("tizen")?this._os="tizen":-1!==navigator.appVersion.toLowerCase().indexOf("linux")?this._os="linux":this._os=""),this._os},o.getOSVersion=function(){var t,e=navigator.userAgent.toLowerCase().split(" "),n=null,i=0,o=0;return"tizen"===this.getOS()?-1!==(t=e.indexOf("tizen"))&&(i=(n=e[t+1].split("."))[0]):-1!==(t=e.indexOf("os"))&&(i=(n=e[t+1].split("_"))[0],o=n[1]),{major:i,minor:o}},o.getChromeVersion=function(){var t=navigator.userAgent.match(/Chrom(e|ium)\/([0-9]+)\./);return!!t&&parseInt(t[2],10)},o.httpsReplace=function(t){return"https:"==o.getProtocol()&&(t=(t=(t=t.replace("data1.ani-view.com","gbdl.hs.llnwd.net/v1")).replace("data1.aniview.com","aniview.hs.llnwd.net/d1")).replace(/^http:\/\//i,"https://")),t},o.getProtocol=function(){if(void 0!==o.protocol)return o.protocol;if("http:"==c.location.protocol||"https:"==c.location.protocol)o.protocol=c.location.protocol,o.topWindow=c;else{var t=c,e=t.location.protocol,n=0;try{for(;"http:"!=e&&"https:"!=e&&n<15&&t!==t.parent;)e=(t=t.parent).location.protocol,n++}catch(t){}"http:"==e||"https:"==e?(o.protocol=e,o.topWindow=t):o.protocol="https:"}return o.protocol},o.shuffleArray=function(t,e){var n=t.length;if(e=e||0,n)for(;n!=e&&n--;){var i=Math.floor(Math.random()*(t.length-1)+e),o=t[i];t[i]=t[n],t[n]=o}},o.loadScript=function(t,e){var n=document.createElement("script");n.src=t,n.onload=e,document.getElementsByTagName("head")[0].appendChild(n)},o.fastHash=function(t){var e,n=0;if(0===t.length)return n;for(e=0;e<t.length;e++)n=(n<<5)-n+t.charCodeAt(e),n|=0;return n<0&&(n+=4294967295),n},o.generateRandomString=function(){return this.fastHash(Math.random()+""+Date.now())},o.parseInt=function(t,e,n){return t=parseInt(t),isNaN(t)&&(t=0),t<e?t=e:n<t&&(t=n),t};var i,n=null;o.requestAnimationFrame=function(t,e){(n=n||(c.requestAnimationFrame||c.webkitRequestAnimationFrame||c.mozRequestAnimationFrame||c.oRequestAnimationFrame||c.msRequestAnimationFrame||function(t,e){setTimeout(t,1e3/60)}))(t,e)},o.fullscreenEnabled=function(){var t=document.fullscreenElement||document.mozFullScreenElement||document.webkitFullscreenElement||document.msFullscreenElement||this.fixedFullScreenElement;if(this.fsels&&(this.fsels.content==t||this.fsels.ad==t||this.fsels.container==t))return t},o.setFullScreenElements=function(t){this.fsels=t},o.isFullscreenApiEnabled=function(){return document.fullscreenEnabled||document.webkitFullscreenEnabled||document.mozFullScreenEnabled||document.msFullscreenEnabled},o.requestFullScreenFixed=function(t,e){if(e){if(this.fsPrev)return;this.fsPrev={position:t.style.position,top:t.style.top,left:t.style.left,width:t.style.width,height:t.style.height,zIndex:t.style.zIndex,bodyMargin:t.ownerDocument.body.style.margin},t.style.position="fixed",t.style.top="0px",t.style.left="0px";var n=o.getDeviceDimensionsBasedOnOrientation();t.style.width=n.width,t.style.height=n.height,t.style.zIndex="2147483647",t.ownerDocument.body.style.margin="0",this.fixedFullScreenElement=t}else{if(!this.fsPrev)return;(t=this.fixedFullScreenElement).style.position=this.fsPrev.position,t.style.top=this.fsPrev.top,t.style.left=this.fsPrev.left,t.style.width=this.fsPrev.width,t.style.height=this.fsPrev.height,t.style.zIndex=this.fsPrev.zIndex,t.ownerDocument.body.style.margin=this.fsPrev.bodyMargin,this.fsPrev=null,this.fixedFullScreenElement=null}},o.requestFullscreen=function(t){var e,n,i;this.isFullscreenApiEnabled()?(t.requestFullscreen?(e="fullscreenerror",n="requestFullscreen"):t.mozRequestFullScreen?(e="mozfullscreenerror",n="mozRequestFullScreen"):t.webkitRequestFullscreen?(e="webkitfullscreenerror",n="webkitRequestFullscreen"):t.webkitEnterFullscreen?(e="webkitfullscreenerror",n="webkitEnterFullscreen"):t.msRequestFullscreen?(e="MSFullscreenError",n="msRequestFullscreen"):this.requestFullScreenFixed(t,!0),e&&(i=this,t.addEventListener(e,function(){i.requestFullScreenFixed(t,!0)}),t[n]())):this.requestFullScreenFixed(t,!0)},o.cancelFullscreen=function(){this.requestFullScreenFixed(null,!1),document.cancelFullScreen?document.cancelFullScreen():document.mozCancelFullScreen?document.mozCancelFullScreen():document.webkitCancelFullScreen?document.webkitCancelFullScreen():document.msExitFullscreen&&document.msExitFullscreen()},o.getFullScreenChangeEvent=function(){var t=document;return t.exitFullscreen?"fullscreenchange":t.webkitExitFullscreen||t.webkitCancelFullScreen?"webkitfullscreenchange":t.mozCancelFullScreen?"mozfullscreenchange":t.msExitFullscreen?"MSFullscreenChange":null},o.getWindowWidth=function(){return c.innerWidth||document.documentElement.clientWidth||document.body.clientWidth},o.getWindowHeight=function(){return c.innerHeight||document.documentElement.clientHeight||document.body.clientHeight},o.isResponsiveLayout=function(t,e){return 100==t&&0==e},o.getDeviceDimensionsBasedOnOrientation=function(){function t(){for(var t=1/0,e=0;e<arguments.length;e++)arguments[e]&&arguments[e]<t&&100<arguments[e]&&(t=arguments[e]);return t}var e,n,i=t(screen.clientWidth,screen.availWidth,screen.width,document.documentElement.clientWidth),o=t(screen.clientHeight,screen.availHeight,screen.height,document.documentElement.clientHeight,document.body?document.body.clientHeight:0),a=c.orientation&&90!==c.orientation&&-90!==c.orientation?(e=o*(n=document.documentElement.clientWidth/o),i*n):(e=i*(n=document.documentElement.clientWidth/i),o*n);return{width:e,height:a}},o.__extends=this&&this.__extends||(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])},function(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});o.viewabilityProto=function(){var o=null,a=.5,s=null,l=!1,r=this;function n(){var t=s.iframe?s.baseEl:null,e=r.getVieabilityInfo(s.el,s.wnd,t),n=e.vertical.value*e.horizontal.value,i=e.vertical.state;return{inView:a<=n,ratio:n,state:i,distance:e.vertical.distance}}function d(){var t=n();o&&o(t.inView,t.ratio,t.state,t.distance)}this.checkViewability=function(){d()},this.start=function(t,e,n,i){return!l&&(!!(s=function(t,e){var n,i,o=null,a="object"==typeof t?t:document.getElementById(t);try{c.top.location.href;if(o=c.frameElement)for(var s,r=c;r!==c.top;){if((r=(s=o.ownerDocument).defaultView||s.parentWindow)===c.top){i=r,n=o;break}o=r.frameElement}}catch(t){return l=!0,null}if(null==o){if(!(n=a))return l=!0,null;i=c}return{el:n,wnd:i,baseEl:a,iframe:!(null==o)&&e}}(t,i))&&(n&&(a=n),e&&(s.wnd.addEventListener("resize",d,!0),s.wnd.addEventListener("scroll",d,!0),o=e,setTimeout(d,10)),!0))},this.stop=function(){o&&(s.wnd.removeEventListener("resize",d,!0),s.wnd.removeEventListener("scroll",d,!0),o=null)},this.get=function(t,e){return!l&&s?n():{inView:!1,ratio:0,state:"UNKNOWN"}},this.getHorizontalViewability=function(t,e){var n=e.innerWidth,i=t.getBoundingClientRect().left,o=t.getBoundingClientRect().right,a=o-i;return n<i?{value:0,state:"OUT_RIGHT"}:o<=0?{value:0,state:"OUT_LEFT"}:0<=i&&o<=n?{value:1,state:"IN_HVIEW"}:i<0&&n<o?{value:n/a,state:"LR_TRUNC"}:i<0&&o<=n?{value:o/a,state:"L_TRUNC"}:0<=i&&n<o?{value:(n-i)/a,state:"R_TRUNC"}:{value:0,state:"OUT"}},this.getVerticalViewability=function(t,e,n){var i=e.innerHeight,o=t.getBoundingClientRect().top,a=t.getBoundingClientRect().bottom,s=a-o;return n&&(s=(a=(o+=n.getBoundingClientRect().top)+(n.getBoundingClientRect().bottom-n.getBoundingClientRect().top))-o),i<o?{value:0,state:"OUT_BOTTOM",out:-1}:a<=0?{value:0,state:"OUT_TOP",out:-1}:0<=o&&a<=i?{value:1,state:"IN_VVIEW",out:0,distance:i-o}:o<0&&i<a?{value:i/s,state:"BT_TRUNC",out:-o+a-i}:o<0&&a<=i?{value:a/s,state:"T_TRUNC",out:-o}:0<=o&&i<a?{value:(i-o)/s,state:"B_TRUNC",out:a-i}:{value:0,state:"OUT",out:-1}},this.getVieabilityInfo=function(t,e,n){return{vertical:r.getVerticalViewability(t,e,n),horizontal:r.getHorizontalViewability(t,e,n)}}},o.getEl=function(t){return"object"==typeof t?t:document.getElementById(t)},o.startViewability=function(t,e,n){var i=this.getEl(t);return i.avViewability||(i.avViewability=new o.viewabilityProto),i.avViewability.start(i,e,n)},o.stopViewability=function(t){var e=this.getEl(t);e.avViewability&&e.avViewability.stop()},o.getViewability=function(t){var e=this.getEl(t);if(e.avViewability)return e.avViewability.get()},o.setIniFloatingPropertyX=function(t){this.floatingDocStyle.setProperty("--floatIniX",t.toString()+"px")},o.setIniFloatingPropertyY=function(t){this.floatingDocStyle.setProperty("--floatIniY",t.toString()+"px")},o.setFinFloatingPropertyX=function(t){this.floatingDocStyle.setProperty("--floatFinalX",t.toString()+"px")},o.setFinFloatingPropertyY=function(t){this.floatingDocStyle.setProperty("--floatFinalY",t.toString()+"px")},o.setFloatingProperty=function(t,e){this.setFinFloatingPropertyX(t),this.setFinFloatingPropertyY(e)},o.setFloatingAnimateProperty=function(t,e,n,i){this.setIniFloatingPropertyX(t),this.setIniFloatingPropertyY(e),this.setFinFloatingPropertyX(n),this.setFinFloatingPropertyY(i)};var p=!(o.animateReturnPlayer=function(t,e){var n,i=t.parentElement.getBoundingClientRect(),o=document.documentElement.clientWidth-i.right,a=e.floating.position.includes("bottom")?(n=e.floating.bottom||0,document.documentElement.clientHeight-i.bottom):(n=e.floating.top||0,i.top),s=e.floating.position.includes("right")?e.floating.right:e.floating.left;this.setFloatingAnimateProperty(s,n,o,a),this.floatingDocStyle.setProperty("--floatScale",e.floating.size.toString());var r="animation-duration:"+e.floating.animationDurationMS+"ms; animation-fill-mode: forwards;";switch(e.floating.position){case"bottom-left":r+="-webkit-transform-origin:bottom left; transform-origin:bottom left; animation-name:av-floating-back-bottom-left;";break;case"top-left":r+="-webkit-transform-origin:top left; transform-origin:top left; animation-name:av-floating-back-top-left;";break;case"top-right":r+="-webkit-transform-origin:top right; transform-origin:top right; animation-name:av-floating-back-top-right;";break;case"bottom-right":r+="-webkit-transform-origin:bottom right; transform-origin:bottom right; animation-name:av-floating-back-bottom-right;"}return r});o.setFloating=function(t,e,n,i,o,a){var s,r,l,d;e?(n.floating.floatOnBottom||"T_TRUNC"!==i&&"OUT_TOP"!==i)&&!n.floating.floatOnBottom||(n.floating.animate?(t.style.cssText="",s=null,r=0,r=n.floating.position.includes("bottom")?(s=document.documentElement.clientHeight-t.getBoundingClientRect().bottom,n.floating.bottom||0):(s=t.getBoundingClientRect().top,n.floating.top||0),l=document.documentElement.clientWidth-t.getBoundingClientRect().right,d=n.floating.position.includes("right")?n.floating.right||0:n.floating.left||0,this.setFloatingAnimateProperty(l,s,d,r),this.floatingDocStyle.setProperty("--floatScale",n.floating.size.toString()),t.style.cssText=n.floatingCSS):(t.style.cssText=n.floatingCSS,n.floating.resize&&(n.originalSizes={width:n.width,height:n.height},a(n.width*n.floating.size,n.height*n.floating.size,!0))),p=!0):!p||!n.floating.animate||!n.floating.floatOnBottom&&!o||!t.parentElement||t.parentElement.getBoundingClientRect().bottom>=t.getBoundingClientRect().bottom&&!n.floating.floatOnBottom&&n.floating.position.includes("bottom")||t.parentElement.getBoundingClientRect().bottom>=t.getBoundingClientRect().bottom+t.clientHeight&&!n.floating.floatOnBottom?(t.style.cssText="",n.floating.resize&&a()):t.style.cssText=this.animateReturnPlayer(t,n)},o.isFloating=function(t){return t.floating&&0<t.floating.size},o.setFloatingCSS=function(t){if(!t.floatingCSS)if(t.floating.floatingCSS)t.floating=t.floating.floatingCSS;else{var e,n;switch(t.floating.right||(t.floating.right=0),t.floating.left||(t.floating.left=0),t.floating.top||(t.floating.top=0),t.floating.bottom||(t.floating.bottom=0),t.floating.position?t.floating.position=t.floating.position.toLowerCase():t.floating.position="bottom-right",!t.floating.animate||null===(e=document.getElementsByTagName("head")[0]).querySelector("#av_animate_css")&&((n=document.createElement("style")).type="text/css",n.id="av_animate_css",n.appendChild(document.createTextNode("{--floatScale;--floatIniX;--floatIniY;--floatFinalX;--floatFinalY;}@keyframes av-floating-away-bottom-right{0%{bottom:var(--floatIniY); right:var(--floatIniX); -webkit-transform-origin:bottom right;}100%{transform: scale(var(--floatScale)); -webkit-transform-origin:bottom right; bottom: var(--floatFinalY); right: var(--floatFinalX);}}@keyframes av-floating-away-top-right{0%{top:var(--floatIniY); right:var(--floatIniX); -webkit-transform-origin:top right;}100%{transform: scale(var(--floatScale)); -webkit-transform-origin:top right; top: var(--floatFinalY); right: var(--floatFinalX);}}@keyframes av-floating-away-bottom-left{0%{bottom:var(--floatIniY); right:var(--floatIniX); -webkit-transform-origin:bottom left;}100%{transform: scale(var(--floatScale)); -webkit-transform-origin:bottom left; bottom: var(--floatFinalY); right: var(--floatFinalX);}}@keyframes av-floating-away-top-left{0%{top:var(--floatIniY); right:var(--floatIniX); -webkit-transform-origin:top left;}100%{transform: scale(var(--floatScale)); -webkit-transform-origin:top left; top: var(--floatFinalY); right: var(--floatFinalX);}}@keyframes av-floating-back-bottom-left{0%{ bottom: var(--floatIniY); left:var(--floatIniX);transform: scale(var(--floatScale)); position: fixed}98%{bottom:var(--floatFinalY); right:var(--floatFinalX); transform: scale(1); position: fixed}100%{position: static;}}@keyframes av-floating-back-top-left{0%{ top: var(--floatIniY); left:var(--floatIniX);transform: scale(var(--floatScale)); position: fixed}98%{top:var(--floatFinalY); right:var(--floatFinalX); transform: scale(1); position: fixed}100%{position: static;}}@keyframes av-floating-back-top-right{0%{ top: var(--floatIniY); right:var(--floatIniX);transform: scale(var(--floatScale)); position: fixed}98%{top:var(--floatFinalY); right:var(--floatFinalX); transform: scale(1); position: fixed}100%{position: static;}}@keyframes av-floating-back-bottom-right{0%{ bottom: var(--floatIniY); right:var(--floatIniX);transform: scale(var(--floatScale)); position: fixed}98%{bottom:var(--floatFinalY); right:var(--floatFinalX); transform: scale(1); position: fixed}100%{position: static;}}}")),e.appendChild(n)),t.floating.animate&&!t.floating.animationDurationMS&&(t.floating.animationDurationMS=750),this.floatingDocStyle=document.getElementById(t.position).style,t.floating.position){case"bottom-left":t.floatingCSS="bottom:"+t.floating.bottom+"px; left:"+t.floating.left+"px; -webkit-transform-origin:bottom left; transform-origin:bottom left;",t.floating.animate&&(t.floatingCSS+=" animation-name: av-floating-away-bottom-left;",this.setFloatingProperty(t.floating.left,t.floating.bottom));break;case"top-left":t.floatingCSS="top:"+t.floating.top+"px; left:"+t.floating.left+"px; -webkit-transform-origin:top left; transform-origin:top left;",t.floating.animate&&(t.floatingCSS+=" animation-name: av-floating-away-top-left;",this.setFloatingProperty(t.floating.left,t.floating.top));break;case"top-right":t.floatingCSS="top:"+t.floating.top+"px; right:"+t.floating.right+"px; -webkit-transform-origin:top right; transform-origin:top right;",t.floating.animate&&(t.floatingCSS+=" animation-name: av-floating-away-top-right;",this.setFloatingProperty(t.floating.right,t.floating.top));break;case"bottom-right":t.floatingCSS="bottom:"+t.floating.bottom+"px; right:"+t.floating.right+"px; -webkit-transform-origin:bottom right; transform-origin:bottom right;",t.floating.animate&&(t.floatingCSS+=" animation-name: av-floating-away-bottom-right;",this.setFloatingProperty(t.floating.right,t.floating.bottom))}t.floating.resize?t.floatingCSS+="z-index:10000001;position:fixed;":t.floating.animate?t.floatingCSS+=" animation-duration:"+t.floating.animationDurationMS+"ms; z-index:10000001;position:fixed; animation-fill-mode:forwards; transition: width 20s, height 20s;":t.floatingCSS+="z-index:10000001;position:fixed; transform:scale("+t.floating.size+"); -webkit-transform:scale("+t.floating.size+");"}},o.setStickyCSS=function(t,e){if(!e.stickyCSS){if(e.sticky.floatingCSS)e.sticky=e.sticky.floatingCSS;else switch(e.sticky.right||(e.sticky.right=0),e.sticky.left||(e.sticky.left=0),e.sticky.top||(e.sticky.top=0),e.sticky.bottom||(e.sticky.bottom=0),e.sticky.position?e.sticky.position=e.sticky.position.toLowerCase():e.sticky.position="bottom-right",e.sticky.position){case"bottom-right":e.stickyCSS="z-index:10000001;position:fixed; bottom:"+e.sticky.bottom+"px; right:"+e.sticky.right+"px; -webkit-transform:scale("+e.sticky.size+"); -webkit-transform-origin:bottom right; transform:scale("+e.sticky.size+"); transform-origin:bottom right";break;case"bottom-left":e.stickyCSS="z-index:10000001;position:fixed; bottom:"+e.sticky.bottom+"px; left:"+e.sticky.left+"px; -webkit-transform:scale("+e.sticky.size+"); -webkit-transform-origin:bottom left; transform:scale("+e.sticky.size+"); transform-origin:bottom left";break;case"top-left":e.stickyCSS="z-index:10000001;position:fixed; top:"+e.sticky.top+"px; left:"+e.sticky.left+"px; -webkit-transform:scale("+e.sticky.size+"); -webkit-transform-origin:top left; transform:scale("+e.sticky.size+"); transform-origin:top left";break;case"top-right":e.stickyCSS="z-index:10000001;position:fixed; top:"+e.sticky.top+"px; right:"+e.sticky.right+"px; -webkit-transform:scale("+e.sticky.size+"); -webkit-transform-origin:top right; transform:scale("+e.sticky.size+"); transform-origin:top right"}t.style.cssText=e.stickyCSS}},o.getTrueDomain=function(){try{return function(){var t=null;try{var n=function(t){var e,n=[];do{try{e=e?e.parent:c,t.call(null,e,n)}catch(t){return n.push({referrer:null,location:null,isTop:!1}),n}}while(e!==c.top);return n}(function(e,n){try{n.push({referrer:e.document.referrer||null,location:e.location.href||null,isTop:e===c.top})}catch(t){n.push({referrer:null,location:null,isTop:e===c.top})}});!function(t){try{if(!c.location.ancestorOrigins)return;for(var e=0,n=c.location.ancestorOrigins.length;e<n;e++)t.call(null,c.location.ancestorOrigins[e],e)}catch(t){}}(function(t,e){n[e].ancestor=t});for(var t="",e=(n.length,n.length-1);0<=e;e--)if(!(t=n[e].location)&&0<e&&(t=(t=n[e-1].referrer)||n[e-1].ancestor),t){!!c.location.ancestorOrigins||e==n.length-1&&n[n.length-1].isTop;break}}catch(t){}return t}()}catch(t){return null}},o.logOnPlayer=function(t,e){var n=document.getElementById("player-in-log");n||(t.changeGUI({customHtml:'<div id="player-funnel-wrapper"><div id="player-in-log" style="white-space:pre;height:150px;overflow-y:auto;background-color:lightgray;width:300px;padding:2px;border:1px solid black;"></div></div>'}),n=document.getElementById("player-in-log")),n&&(n.textContent+=e+"\r\n",n.scrollTop=n.scrollHeight)},o.getHostName=function(t){try{t=decodeURIComponent(t),t=decodeURIComponent(t),t=decodeURIComponent(t)}catch(t){}function e(t){return void 0===t||null==t||""==(t=t.trimStr())?"":function(t){if(void 0===t||null==t)return"";if(""==(t=t.trimStr()))return"";var e,n;if(-1<t.indexOf("://"))if(-1<(n=t.split("://"))[0].indexOf("/")||-1<n[0].indexOf(".")||-1<n[0].indexOf("?")||-1<n[0].indexOf("&")){if(n[0]=n[0].trimStr(),0!=n[0].indexOf("//"))return"";e=n[0].split("//")[1].split("/")[0].trimStr().split("?")[0].split("&")[0]}else n[1]=n[1].trimStr(),e=n[1].split("/")[0].trimStr().split("?")[0].split("&")[0];else e=0==t.indexOf("//")?t.split("//")[1].split("/")[0].trimStr().split("?")[0].split("&")[0]:t.split("/")[0].trimStr().split("?")[0].split("&")[0];return e}(t).split(":")[0]}return String.prototype.trimStr=function(){return this.replace(/^\s+|\s+$/g,"")},e(t)},o.checkNativeVideo=function(e){var t=document.createElement("video");t.src="data:audio/mpeg;base64,/+MYxAAAAANIAUAAAASEEB/jwOFM/0MM/90b/+RhST//w4NFwOjf///PZu////9lns5GFDv//l9GlUIEEIAAAgIg8Ir/JGq3/+MYxDsLIj5QMYcoAP0dv9HIjUcH//yYSg+CIbkGP//8w0bLVjUP///3Z0x5QCAv/yLjwtGKTEFNRTMuOTeqqqqqqqqqqqqq/+MYxEkNmdJkUYc4AKqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqq",t.setAttribute("playsinline",!0),t.setAttribute("webkit-playsinline",!0),t.style.display="none",t.muted=!0;var n=t.play(),i=!1;n?(n.then(function(){i||e("ok"),i=!0}).catch(function(t){i||e("error"),i=!0}),setTimeout(function(){i||e("maybe"),i=!0},1e4)):e("maybe")}}(window),function(y){"use strict";y.com||(y.com={}),y.com.aniview||(y.com.aniview={}),y.com.aniview.player||(y.com.aniview.player={});var d,b={contentCap:0,playerCap:0,contentImp:0,playerImp:0,setPlayerCap:function(t){this.playerCap=t||0},setContentCap:function(t){this.contentCap=t||0,this.contentImp=0},isContentCap:function(){return 0<this.contentCap&&this.contentImp>=this.contentCap},isPlayerCap:function(){return 0<this.playerCap&&this.playerImp>=this.playerCap},isCap:function(){return this.isContentCap()||this.isPlayerCap()},getCap:function(){return{content:this.isContentCap(),player:this.isPlayerCap()}},inc:function(){return this.contentImp++,this.playerImp++,this.isCap()}},n=0,C=y.com.aniview.player.AdsController=function(t,e){var n=this;return n.listeners={},n.preloadAdTime=t.config.content.slotTimeout,n.startAdTimeout=t.config.content.startAdTimeout,n.nextAdTimeout=t.config.content.podTimeout,n.container=document.createElement("div"),n.container.id="ads_"+com.aniview.player.Utils.generateRandomString(),n.noAdsOnContentPause=t.config.noAdsOnContentPause,n.container.style.width="100%",n.container.style.height="100%",n.slotX=null,n.abk=!1,n.content=t,n.adConfig=com.aniview.utils.ObjectUtils.clone(n.content.config.adConfig),n.breakingAds=e,n.breakingAds||n.content.config.content.breakingAdsMode===C.BreakingAdsModes.onePlayer?n.breakingAdsMode=n.content.config.content.breakingAdsMode&&n.content.config.content.breakingAdsMode.length?n.content.config.content.breakingAdsMode:C.BreakingAdsModes.default:n.breakingAdsMode=C.BreakingAdsModes.default,n.breakingAds&&(n.breakingAdsStart=isNaN(n.content.config.content.breakingAdsStart)?0:n.content.config.content.breakingAdsStart),n.state=C.stateEnum.none,n.playState=n.content.playStateEnum.none,b.setPlayerCap(n.content.config.content.impCap||0),["run","done","start","pauseSlotTimeout"].forEach(function(t){var e=n[t+"_"+n.breakingAdsMode];e&&(n[t]=e)}),this};C.aEvents={},C.stateEnum={adLoaded:"adloaded",startAd:"startAd",progress:"progress",none:"none",done:"done",playing:"playing",stopAll:"stopAll",impressionCapped:"impressionCapped"},C.BreakingAdsModes={default:"default",keepGoing:"kg",oneSession:"os",onePlayer:"op"};var e=null,w=y.com.aniview.player.Utils,E={player:{},isFirstAd:!0,skip:0};C.getEvents=function(){var t;return null===e&&y.com&&y.com.aniview&&y.com.aniview.player&&y.com.aniview.player.avPlayer&&(t=new y.com.aniview.player.avPlayer({}),e=t.getEvents()),e},e=C.getEvents();for(var t=0;t<e.length;t++){var i=e[t];C.aEvents[i]=i}C.prototype.container=null,C.prototype.slots=null,C.prototype.content=null,C.prototype.setRef1=function(t,e,n){t.ref1||(t.ref1=""),"string"==typeof t.ref1?t.ref1=t.ref1+"&"+e+"="+n:"object"==typeof t.ref1&&(t.ref1[e]=""+n)},C.prototype.setSlotX=function(t){var e=null;(this.slotX=t)&&(t.selected=!0,t.sid=++n,t.adsCount=0,e=t.time),this.log("setSlotX, time: "+e+" id: "+n)},C.prototype.run_op=function(t,e,n,i,o){if(this.state!==C.stateEnum.stopAll&&!b.isCap()&&!this.abk)if(null!=y.com.aniview.player.avPlayer){if(0!=this.content.active){this.slots||(this.slots=[]),n=!1;var a=this,s=Math.round(t||0);this.failedOnPreroll,this.failedOnPreroll=!1;if(a.state!==C.stateEnum.startAd&&this.slotX&&s>this.slotX.time+(this.slotX.timeout||10)&&(a.slotX=null),null==a.slotX)for(var r=0;r<this.slots.length;r++){var l=this.slots[r];if(l&&!l.selected&&(-1==l.time&&0<e&&(l.time=e),0<=l.time)){var d=Math.max(l.time-l.preloadAdTime,0);if(s<=l.time&&d<=s){a.state==C.stateEnum.none&&a.setState(C.stateEnum.progress),a.load(l,a.content.getWidth(),a.content.getHeight()),a.setSlotX(l);break}}}return a.slotX&&(0==a.slotX.time&&(n=!0),a.state==C.stateEnum.progress||(a.state==C.stateEnum.adLoaded?(a.slotX.time==s||0!==a.slotX.time&&Math.abs(a.slotX.time==s)<5)&&a.start(a.slotX):a.state==C.stateEnum.done||(a.state,C.stateEnum.startAd))),this.preload=o&&n,!!n&&"preroll"}}else n&&(this.failedOnPreroll=!0)},C.prototype.run=function(t,e,n,i,o){if(this.state!==C.stateEnum.stopAll&&!b.isCap()&&!this.abk)if(null!=y.com.aniview.player.avPlayer){if(0!=this.content.active){this.slots||(this.slots=[]),n=!1;var a,s,r=this,l=Math.round(t),d=Math.round(e),c=this.failedOnPreroll&&0===l;if(this.failedOnPreroll=!1,r.state==C.stateEnum.none){if(this.breakingAds){var p=isNaN(l)?0:l,u={time:0<p?p+this.breakingAds:this.breakingAdsStart,type:"ad",adConfig:r.content.config.adConfig,adType:"ba"};if(this.breakingAdsMode!==C.BreakingAdsModes.keepGoing&&this.breakingAdsMode!==C.BreakingAdsModes.oneSession||(u.adConfig.loop=!0,isNaN(this.breakingAds)||(u.adConfig.midrolltime=+this.breakingAds)),this.breakingAdsMode===C.BreakingAdsModes.keepGoing||this.breakingAdsMode===C.BreakingAdsModes.oneSession)this.slots=[];else for(var h=this.slots.length-1;0<=h;h--)0!==this.slots[h].time&&this.slots.splice(h,1);this.slots.length||this.slots.push(u)}for(h=0;h<this.slots.length;h++){var g=this.slots[h],m=this.getSlotTimeout(g);if(g){if(g.adConfig||(g.adConfig={}),this.breakingAds&&0!==g.time){r.setState(C.stateEnum.progress),r.load(g,r.content.getWidth(),r.content.getHeight()),r.setSlotX(g);break}if(0==g.time&&(isNaN(l)||c)){this.setState(C.stateEnum.progress),r.setSlotX(g),r.timeout=g.timeout+g.time;var v=r.content.getWidth(),f=r.content.getHeight();com.aniview.player.Utils.fullscreenEnabled()&&(v=screen.width,f=screen.height,w.fixedFullScreenElement&&(v=w.fixedFullScreenElement.clientWidth,f=w.fixedFullScreenElement.clientHeight)),"ba"!==g.adType&&(n=!0),i=i&&n,r.load(g,v,f,i);break}if(g.time<m&&0!=g.time){g.time=m,r.setState(C.stateEnum.progress),r.timeout=g.timeout+g.time,r.load(g,r.content.getWidth(),r.content.getHeight()),r.setSlotX(g);break}if(l==(g.postroll&&!isNaN(d)?d:g.time)-m&&0!=g.time&&(E.isFirstAd||this.breakingAdsMode!==C.BreakingAdsModes.onePlayer)){r.setState(C.stateEnum.progress),r.timeout=g.timeout+g.time,r.load(g,r.content.getWidth(),r.content.getHeight()),r.setSlotX(g);break}if(l==g.time&&0!=g.time&&this.breakingAdsMode===C.BreakingAdsModes.onePlayer&&!E.isFirstAd){r.timeout=g.timeout+g.time,g.time>E.skip&&(g.player=E.player,r.start(r.slotX),E.skip=g.time,r.setSlotX(g));break}}}}else{r.state==C.stateEnum.progress?(0==r.slotX.time&&"ba"!=r.slotX.adType&&(n=!0),r.timeout):r.state==C.stateEnum.adLoaded&&(this.preload||l>=r.slotX.time||isNaN(l))?(0==r.slotX.time&&this.breakingAdsMode!=C.BreakingAdsModes.oneSession&&(n=!0),this.preload&&(a=1e3*this.getSlotTimeout(r.slotX)+1e3*this.getSlotStartTimeout(r.slotX),r.startSlotTimeout(r.slotX,a)),s=r.slotX.preroll&&0!==r.slotX.time,r.slotX.postroll||s||r.start(r.slotX)):r.state==C.stateEnum.done?(this.breakingAdsMode!==C.BreakingAdsModes.onePlayer?r.destroyAdPlayer():this.setState(C.stateEnum.none),r.breakingAds&&(r.slots=[])):r.state==C.stateEnum.startAd&&r.slotX&&0==r.slotX.time&&this.breakingAdsMode!==C.BreakingAdsModes.oneSession&&this.breakingAdsMode!==C.BreakingAdsModes.keepGoing&&(n=!0)}return this.preload=o&&n,!!n&&"preroll"}}else n&&(this.failedOnPreroll=!0)},C.prototype.getPrerollSlot=function(t){if(!t||"object"!=typeof t)return!1;for(var e,n=0;n<t.length;n++)if((e=t[n])&&(e.preroll||0==e.time))return e;return!1},C.prototype.getPostrollSlot=function(t){if(Array.isArray(t)&&!(t.length<=0))for(var e=0;e<t.length;++e)if(t[e]&&t[e].postroll)return t[e]},C.prototype.destroyAdPlayer=function(t){if(this.slotX){try{this.removeIvents(this.slotX.player),this.slotX.player.close()}catch(t){}this.clearSlotTimeout(this.slotX),this.slotX.player=null,this.removeAdsManagerAfterXSec(this.slotX.div.id,this.container.id,t)}this.setState(C.stateEnum.none),this.slotX=null,this.log("Destroy player",w.LOG_LEVEL.DEBUG)},C.prototype.checkCap=function(){return b.getCap()},C.prototype.continue=function(t,e){if(this.breakingAdsMode!==C.BreakingAdsModes.default&&this.breakingAdsMode!==C.BreakingAdsModes.onePlayer)return!1;if(++this.slotX.adsCount,!b.isCap()&&!e&&this.slotX.adsCount<this.slotX.maxAds&&t!==C.aEvents.AdTimeout){var n=1e3*this.getSlotNextAdTimeout(this.slotX);return this.breakingAdsMode===C.BreakingAdsModes.onePlayer&&this.setWaterfallState(!0,!0),this.setState(C.stateEnum.startAd),this.startSlotTimeout(this.slotX,n),!0}return!1},C.prototype.done_op=function(t,e,n,i){var o,a=i&&i.errorlimit;n!==y.com.aniview.player.video.VideoTag.Events.ContentUserClose&&this.continue(n,a)||(a&&(this.event(n,{adsId:this.container.id,errorlimit:a,errorInfo:i}),this.destroyAdPlayer()),this.setWaterfallState(!1,n!==C.aEvents.AdError),this.state!==C.stateEnum.done&&(o=C.stateEnum.adLoaded,this.setState(o),this.event(C.aEvents.AdClosed,{adsId:this.container.id})),this.setSlotX(null),this.log("done_op, state: "+this.state+" errLimit: "+a+" reason: "+n))},C.prototype.done=function(t,e,n,i){var o,a=i&&i.errorlimit,s=!1;(this.breakingAdsMode===C.BreakingAdsModes.keepGoing||this.breakingAdsMode===C.BreakingAdsModes.oneSession)&&this.content.config.content.bAImpressionCapping&&this.content.config.content.bAImpressionCapping<=e&&(this.log("Exit on capping limit"),t=!(s=!(this.content.preroll=!1))),this.continue(n,a)||this.state!==C.stateEnum.done&&(o=C.stateEnum.adLoaded,t||(this.breakingAdsMode===C.BreakingAdsModes.oneSession||s?(o=s?C.stateEnum.impressionCapped:C.stateEnum.stopAll,n&&this.event(n,{adsId:this.container.id,errorlimit:a,errorInfo:i}),this.destroyAdPlayer()):(this.breakingAdsMode===C.BreakingAdsModes.default&&(n&&this.event(n,{adsId:this.container.id}),this.destroyAdPlayer()),o=C.stateEnum.done)),this.setState(o),this.event(C.aEvents.AdClosed,{adsId:this.container.id}))},C.prototype.removeAdsManagerAfterXSec=function(n,i,t){var o=this;n&&null!=o&&(isNaN(t)&&(t=2e3),setTimeout(function(){try{var t=document.getElementById(i),e=document.getElementById(n);e&&t&&t.removeChild(e)}catch(t){o.log("Failed removing child",w.LOG_LEVEL.ERR)}},t))},C.prototype.init=function(t,e,n,i){var o=!1;this.slotX&&(this.slotX.preroll&&(this.slotX.time=0),this.breakingAdsMode===C.BreakingAdsModes.default&&(this.state===C.stateEnum.progress||this.state===C.stateEnum.adLoaded)&&this.slotX.adConfig&&t[0]&&t[0].adConfig&&(o=this.slotX.adConfig.channelId===t[0].adConfig.channelId));var a=this.state===C.stateEnum.impressionCapped;this.breakingAdsMode!==C.BreakingAdsModes.default&&!a||(!a&&o||(null!=this.slotX&&(this.removeIvents(this.slotX.player),e||this.removeAdsManagerAfterXSec(this.slotX.div.id,this.container.id)),this.slotX=null,this.breakingAdsMode!==C.BreakingAdsModes.onePlayer&&(this.prerollSlot=null),this.setState(C.stateEnum.none)),this.slots=com.aniview.player.Utils.clone(t)),this.breakingAdsMode===C.BreakingAdsModes.onePlayer&&(this.slots=com.aniview.player.Utils.clone(t)),E.skip=0;var s,r,l,d=b.isCap();t&&b.setContentCap(n||0),this.slots&&(s=this.slots,(r=i)&&s&&0==r.time&&Object.assign&&(l=r,s[0]&&0==s[0].time&&(l=Object.assign({},s[0]),l=Object.assign(l,r),s.shift()),s.unshift(l)),this.slots.forEach(function(t){t.selected=!1,t.preloadAdTime=isNaN(t.preloadAdTime)?isNaN(t.preloadTime)?5:t.preloadTime:t.preloadAdTime,t.adConfig||(t.adConfig={})})),this.breakingAdsMode!=C.BreakingAdsModes.keepGoing&&this.breakingAdsMode!=C.BreakingAdsModes.oneSession||d&&!b.isCap()&&this.slotX&&this.slotX.player&&this.slotX.player.setWaterfallState(!0,!0)},C.prototype.initNextPreroll=function(t,e){},C.prototype.load=function(e,t,n,i){if(!b.isCap()){var o=this;if(this.breakingAdsMode!=C.BreakingAdsModes.onePlayer?(e.adConfig=com.aniview.utils.ObjectUtils.mergeObject(this.adConfig,e.adConfig),e.adConfig=this.overrideAdConfig(e.adConfig)):e.adConfig=this.adConfig,d&&this.breakingAdsMode===C.BreakingAdsModes.onePlayer||(e.div=document.createElement("div"),e.div.id="aniview_slot_"+com.aniview.player.Utils.generateRandomString(),e.div.style.position="absolute",this.container.appendChild(e.div),e.adConfig.position=e.div.id),e.adConfig.width=t,e.adConfig.height=n,e.adConfig.autoPlay=this.breakingAdsMode==C.BreakingAdsModes.oneSession&&!this.noAdsOnContentPause,e.adConfig.nativeVideo=!0,e.adConfig.showbigplay=!1,e.adConfig.closeButton=!1,e.adConfig.contentPlayer=!0,e.adConfig.contentvideo=this.content.tag.video.element,this.adConfig.oneVideoElement&&(e.adConfig.format="html5"),e.adConfig.advideoslot=this.content.oneVideoElem&&(this.breakingAdsMode!=C.BreakingAdsModes.keepGoing&&this.breakingAdsMode!=C.BreakingAdsModes.oneSession&&this.breakingAdsMode!=C.BreakingAdsModes.onePlayer||"ios"===com.aniview.player.Utils.getOS()&&this.content.config.showFullScreen)?this.content.tag.video.adsElement:null,this.content.config.useImageVideo&&(e.adConfig.advideoslot=null,e.adConfig.nativeVideo=!1),e.adConfig.baseJsUrl)try{delete e.adConfig.baseJsUrl}catch(t){}e.adConfig.baseJsUrlDev&&(e.adConfig.baseJsUrl=e.adConfig.baseJsUrlDev),e.adConfig.baseJsUrlwl&&(e.adConfig.baseJsUrl=e.adConfig.baseJsUrlwl),e.adConfig.fullscreen=this.content.config.showFullScreen&&(!w.isMobile()||this.content.config.mobile.showFullScreen),e.adConfig.fullscreen&&(e.adConfig.fsmode=w.isMobile()?this.content.config.mobile.fullScreenMode?this.content.config.mobile.fullScreenMode:"fixed":"full"),e.adConfig.imaflags&&(e.adConfig.imaAutoplay=!i),e.adConfig.noInlineVideo=this.content.config.noInlineVideo;var a=this.content.getLastVolume();this.content.oneVideoElem&&a&&this.content.config.syncVolume?e.adConfig.autosound=!0:(e.adConfig.advideoslot&&(e.adConfig.advideoslot.muted=!0),e.adConfig.autosound=!1),e.adConfig.imaflags&&(e.adConfig.imaMuted=!e.adConfig.autosound),e.maxAds=isNaN(e.maxAds)?1:+e.maxAds,isNaN(e.adConfig.maximp)||(e.maxAds=Math.min(e.maxAds,+e.adConfig.maximp)),this.breakingAdsMode===C.BreakingAdsModes.onePlayer||this.breakingAds&&(this.breakingAdsMode===C.BreakingAdsModes.keepGoing||this.breakingAdsMode===C.BreakingAdsModes.oneSession)?e.adConfig.contentAdsContainer=this.content.nonLinearInnerDiv:isNaN(e.adConfig.maximp)&&(e.adConfig.maximp=e.maxAds);var s,r=e.time;if(0!=e.time||this.content.firstSessionPlayed||(r=-2),0<this.content.getContentDuration()&&this.setRef1(e.adConfig,"AV_DURATION",this.content.getContentDuration()),this.content.getContentUrl()&&this.setRef1(e.adConfig,"AV_VIDEOURL",this.content.getContentUrl()),this.setRef1(e.adConfig,"AV_SLOTT",0<r||-2==r?r:0),e.adConfig.ctinfo=this.content.ctInfo,d&&this.breakingAdsMode===C.BreakingAdsModes.onePlayer)e.player=d;else{d=e.player=new y.com.aniview.player.avPlayer(e.adConfig),this.initIvents(e.player,o,t,n),E.player=e.player,this.log("load() - calling ads player play()",w.LOG_LEVEL.DEBUG),e.player.play();try{var l=document.getElementById("AVLoader"+e.div.id).contentDocument.getElementsByTagName("script")[0];l.onerror=function(t){try{o.abk=t.currentTarget.dataset.av=="AVScript"+e.div.id}catch(t){o.log("Can't set abk",w.LOG_LEVEL.ERR)}o.done()},l.onended=function(t){o.done()},l.oninvalid=function(t){o.done()},l.oncancel=function(t){o.done()},l.onabort=function(t){o.done()}}catch(t){o.log("Failed getting av manager loader",w.LOG_LEVEL.ERR)}}"ba"!==e.adType&&(s=1e3*this.getSlotTimeout(e)+1e3*this.getSlotStartTimeout(e),this.startSlotTimeout(e,s))}},C.prototype.startSlotTimeout=function(t,e){var n,i=this;this.log("setting slot timeoutFunc: "+e,w.LOG_LEVEL.DEBUG),n=function(){i.state===C.stateEnum.progress||i.state===C.stateEnum.startAd?i.preload?t.timeoutFunc=setTimeout(n,1e3):(i.log("Ad removed by timeout with state "+i.state+", slot time: "+t.time,w.LOG_LEVEL.INFO),i.done(!1,!1,C.aEvents.AdTimeout)):(i.state,C.stateEnum.adLoaded)},i.clearSlotTimeout(t),t.timeoutFunc=setTimeout(n,e)},C.prototype.clearSlotTimeout=function(t){t.timeoutFunc&&(clearTimeout(t.timeoutFunc),t.timeoutFunc=null)};var o=!(C.prototype.log=function(t,e){w.log("AdsController::"+this.container.id+" - "+t,e)});C.prototype.start_op=function(t){var e;d?(this.setState(C.stateEnum.startAd),o?(this.setWaterfallState(!1),this.setWaterfallState(!0,!0),e=1e3*this.getSlotTimeout(t)+1e3*this.getSlotStartTimeout(t),this.startSlotTimeout(t,e),w.log("AdsController::start setWaterfallState",w.LOG_LEVEL.DEBUG)):(o=!0,d.startAd(!0),w.log("AdsController::start startAd",w.LOG_LEVEL.DEBUG))):w.log("AdsController::start none",w.LOG_LEVEL.DEBUG)},C.prototype.start=function(t){t&&t.player&&(this.setState(C.stateEnum.startAd),t.player.startAd(!0))},C.prototype.AdsEventFunc={},C.prototype.setState=function(t){this.log("Changing ad state to: "+t,w.LOG_LEVEL.DEBUG),this.state=t},C.prototype.initIvents=function(o,a,t,e){var s=this;s.width=t,s.height=e;var r=this.breakingAds&&(this.breakingAdsMode===C.BreakingAdsModes.keepGoing||this.breakingAdsMode===C.BreakingAdsModes.oneSession);o.onInventory=function(){!o||s.width==t&&s.height==e||o.resize(s.width,s.height,w.fullscreenEnabled()?"fullscreen":"normal")},o.onPlay=function(t){a.log("player.onPlay, slot: "+a.slotX.sid),!b.inc()&&a.breakingAdsMode!==C.BreakingAdsModes.onePlayer||o.setWaterfallState(!1),a.content.preroll=!1,a.setState(C.stateEnum.playing),a.clearSlotTimeout(a.slotX),a.playState=a.content.playStateEnum.playing,a.event(C.aEvents.AdVideoStart),o.resize(s.width,s.height,w.fullscreenEnabled()?"fullscreen":"normal");try{var e,n;w.isMobile()&&!a.content.firstGesture||(a.content.config.syncVolume?(e=a.content.getLastVolume())?(n=this,setTimeout(function(){n.unmute(e)},10)):this.mute(e):a.slotX.adConfig.startVolume&&0<a.slotX.adConfig.startVolume&&(n=this,setTimeout(function(){n.unmute(a.slotX.adConfig.startVolume)},10)))}catch(t){}},o.onLoad=function(t){var e=a.content.getContentCurrentTime(),n=a.slotX.time;a.state!=C.stateEnum.progress&&a.state!=C.stateEnum.adLoaded||(a.content.started&&!a.preload&&a===a.content.ads&&(!0===a.content.preroll||e==n&&0==n)?(a.log("Preroll!! Starting slot"),a.start(a.slotX,!0)):a.state!=C.stateEnum.adLoaded&&a.setState(C.stateEnum.adLoaded))},o.onReady=function(t){a.event(C.aEvents.AdStarted)},o.onPlay100=function(t){a.playState=a.content.playStateEnum.none,a.done(r&&!a.content.preroll,0,C.aEvents.AdVideoComplete)},o.onStopped=function(){a.playState===a.content.playStateEnum.playing&&o.onError&&o.onError({})},o.onError=function(t,e){var n=a.playState,i=!1;!r||n!=a.content.playStateEnum.playing||t&&t.errorlimit||(i=!0),a.playState=a.content.playStateEnum.none,(t&&t.errorlimit||n==a.content.playStateEnum.playing)&&(t&&t.errorlimit&&a.log("Exit on error limit"),a.content.preroll=!1,a.done(i,0,C.aEvents.AdError,t))},o.onClose=function(t,e){a.playState=a.content.playStateEnum.none,a.done(r&&!a.content.preroll,0)},o.onPause=function(t){a.playState=a.content.playStateEnum.paused},o.onResume=function(t){a.playState=a.content.playStateEnum.playing},o.onMute=function(t){a.content.config.syncVolume&&a.content.mute(!0)},o.onUnmute=function(t){a.content.config.syncVolume&&a.content.unmute(!0)},o.onSkip=function(t){a.playState=a.content.playStateEnum.none,a.done(r&&!a.content.preroll,0,C.aEvents.AdSkipped)},o.onClick=function(t,e){},o.onFullScreenRequest=function(t){a.content.adsFullScreenRequest(t)};for(var n=C.getEvents(),i=0;i<n.length;i++){!function(i){o.on(i,a.AdsEventFunc[i]=function(t,e,n){s.event(i,{p1:t,p2:e,p3:n})})}(n[i])}},C.prototype.removeIvents=function(t){if(t){t.onInventory=null,t.onPlay=null,t.onLoad=null,t.onReady=null,t.onPlay25=null,t.onPlay50=null,t.onPlay75=null,t.onPlay100=null,t.onError=null,t.onClose=null,t.onPause=null,t.onResume=null,t.onMute=null,t.onUnmute=null,t.onSkip=null,t.onClick=null;var e,n=this.AdsEventFunc;for(e in n)n.hasOwnProperty(e)&&t.off(e,n[e])}},C.prototype.play=function(){this.slotX&&this.slotX.player&&(this.slotX.player.playing?this.slotX.player.resume():this.slotX.player.play())},C.prototype.pause=function(){this.slotX&&this.slotX.player&&this.slotX.player.pause()},C.prototype.skip=function(){this.slotX&&this.slotX.player&&(this.getPlayState()==this.content.playStateEnum.playing||this.getPlayState()==this.content.playStateEnum.paused)&&(this.slotX.player.pause(),this.slotX.player.skip())},C.prototype.setWaterfallState=function(t,e,n){if(y.com.aniview.player.Utils.log("setWaterfallState, active: "+t+", force: "+e,y.com.aniview.player.Utils.LOG_LEVEL.DEBUG),this.slotX&&this.slotX.player&&this.slotX.player.setWaterfallState){if(this.noAdsOnContentPause&&this.userPausedContent&&t)return;this.slotX.player.setWaterfallState(t,e,n)}},C.prototype.setUserPausedContent=function(t){this.noAdsOnContentPause&&t!=this.userPausedContent&&(!(this.userPausedContent=t)&&b.isCap()||this.setWaterfallState(!t,!0,!0))},C.prototype.mute=function(){this.slotX&&this.slotX.player&&this.slotX.player.mute()},C.prototype.unmute=function(){this.slotX&&this.slotX.player&&this.slotX.player.unmute()},C.prototype.setSize=function(t,e,n){this.width=t,this.height=e,this.slotX&&this.slotX.player&&this.slotX.player.resize(t,e,n)},C.prototype.updateGui=function(t){this.slotX&&this.slotX.player&&this.slotX.player.updateGui(t)},C.prototype.getSlotTimeout=function(t){return t.firstAdTimeOut||t.nextAdTimeout||t.timeout||this.preloadAdTime||this.preloadTime||15},C.prototype.getSlotStartTimeout=function(t){return t.startAdTimeout||this.startAdTimeout||5},C.prototype.getSlotNextAdTimeout=function(t){return t.nextAdTimeout||this.nextAdTimeout||5},C.prototype.pauseSlotTimeout_op=function(){},C.prototype.pauseSlotTimeout=function(){var t,e;this.slotX&&this.slotX.timeoutFunc&&"ba"!==this.slotX.adType?(t=this.getSlotStartTimeout(this.slotX),e=1e3*(this.slotX.time-this.content.getContentCurrentTime())+t,this.log("Pause slot timeoutFunc with remaining of: "+e,w.LOG_LEVEL.DEBUG),this.clearSlotTimeout(this.slotX)):this.log("pauseSlotTimeout No SlotX or no timeoutFunc found",w.LOG_LEVEL.DEBUG)},C.prototype.continueSlotTimeout=function(){var t,e;this.slotX&&!this.slotX.timeoutFunc&&"ba"!==this.slotX.adType&&(t=this.getSlotStartTimeout(this.slotX),e=1e3*(this.slotX.time-this.content.getContentCurrentTime())+t,this.log("Continue slot timeoutFunc with remaining of: "+e,w.LOG_LEVEL.DEBUG),0<e?this.startSlotTimeout(this.slotX,e):this.content.config.content.breakingAdsMode!==C.BreakingAdsModes.onePlayer&&(this.log("continueSlotTimeout remaining time for timeout was 0 or less",w.LOG_LEVEL.DEBUG),this.done(!1,!1,C.aEvents.AdTimeout)))},C.prototype.fixBreakingAdsOffset=function(t,e){var n;t<e&&this.slotX&&(n=e-t,this.slotX.time=this.slotX.time-n)},C.prototype.getPlayState=function(){return this.playState},C.prototype.changeAdConfig=function(t){this.changedAdConfig=t},C.prototype.overrideAdConfig=function(t){return this.changedAdConfig?com.aniview.utils.ObjectUtils.mergeObject(t,this.changedAdConfig):t},C.prototype.getAdDuration=function(){if(this.slotX&&this.slotX.player)return this.slotX.player.getAdDuration()},C.prototype.getAdRemainingTime=function(){if(this.slotX&&this.slotX.player)return this.slotX.player.getAdRemainingTime()},C.prototype.event=function(t,e){e=e||{},this.log("Ad Event: "+t),t===C.aEvents.AdVolumeChange&&(e.volume=this.slotX.player.getAdVolume());var n=new CustomEvent(t,{});n.data=e,this.dispatchEvent(n)},C.prototype.listeners=null,C.prototype.addEventListener=function(t,e){t in this.listeners||(this.listeners[t]=[]),this.listeners[t].push(e)},C.prototype.removeEventListener=function(t,e){if(t in this.listeners)for(var n=this.listeners[t],i=0,o=n.length;i<o;i++)if(n[i]===e)return n.splice(i,1),this.removeEventListener(t,e)},C.prototype.removeAllEventListeners=function(){this.listeners={}},C.prototype.dispatchEvent=function(t){if(t.type in this.listeners)for(var e=this.listeners[t.type],n=0,i=e.length;n<i;n++)e[n].call(this,t)}}(window),function(m){"use strict";m.com||(m.com={}),m.com.aniview||(m.com.aniview={}),m.com.aniview.player||(m.com.aniview.player={});m._avcp=m.com.aniview.player.AniviewContentPlayer=function(t){var u;function h(t){if(t)for(var e=t.length-1;0<=e;e--){var n=t[e];n.url&&n.url.length&&!(n.url.length<5)||t.splice(e,1)}}function i(t,e){for(var n=t&&t.publisherId?t.publisherId:null,i=0;i<e.length;i++){var o=e[i];if(o)for(var a,s=o.slots,r=0;s&&r<s.length;r++){s[r]&&s[r].adConfig?(a=s[r].adConfig,s[r].adConfig=com.aniview.utils.ObjectUtils.mergeObject(t,a),!n&&s[r].adConfig&&s[r].adConfig.publisherId&&(n=s[r].adConfig.publisherId)):s[r]&&(s[r].adConfig=com.aniview.utils.ObjectUtils.mergeObject({},t))}}return n}function g(e){var n=this;function i(){"playlist"!=e.content.type&&n.dispatcher.event(com.aniview.player.events.Events.InitContentsSuccess,n.config.content.contents)}function t(){return Math.floor(65536*(1+Math.random())).toString(16).substring(1)}this.active=!0,n.guid=t()+t()+"-"+t()+"-"+t()+"-"+t()+"-"+t()+t()+t(),n.firstSessionPlayed=!1,n.userPause=!1,n.state="init",n.initInternalEvents(),n.setPlayerOwner("none"),u=n.playStateEnum.none,n.initConfig(e);var o=document.getElementById(e.position),a=document.createElement("div"),s=document.createElement("div");if(a.id=e.position+"Container",s.id=e.position+"Wrapper",s.classList.add("avp-p-wrapper"),s.appendChild(a),o.appendChild(s),n.container=a,n.wrapper=s,n.pos=o,!n.container)throw"Player container not found";n.container.style.backgroundColor="#000000",n.container.style.position="relative",n.initPlugins(n.config),n.initContent(n.config),n.initTracking(e),e.autoPlay&&e.detectAutoPlay&&m.com.aniview.player.Utils.isMobile()?(n.config.autoplayDetection=!0,m.com.aniview.player.Utils.checkNativeVideo(function(t){n.config.autoplayDetection=!1,e.simAutoplayError&&(t="error"),"error"==t?"images"==e.detectAutoPlayAction?(n.config.useImageVideo=!0,n.config.autoPlay=!0):(n.config.autoPlay=!1,n.gui.update()):n.config.autoPlay=!0,i(),n.callNextContent&&n.nextContent()})):i()}var l,e=t.playerDomain||"player.avplayer.com";g.libraryHLS="https://"+e+"/script/2/2.55/libs/hls.min.js",g.XlibraryDASH="https://"+e+"/script/2/2.9/libs/dash.all.min.js",g.preloadAdTime=10,g.pixelEnums={playingError:"c10",playerLoaded:"c9",contentImpression:"c8",contentCompleted:"c7",adsImpression:"c6",adsInventory:"c5"},g.prototype.playStateEnum={none:"none",playing:"playing",paused:"paused"},g.prototype.container=null,g.prototype.tag=null,g.prototype.dispatcher=null,g.prototype.content=null,g.prototype.config=null,g.prototype.playedContent=[],g.prototype.nextContentTimeout=-1,g.prototype.started=!1,g.prototype.error=!1,g.prototype.preroll=!1,g.prototype.postroll=!1,g.prototype.state="none",g.prototype.plugins={},g.prototype.oneVideoElement=!1,g.getEvents=function(){return com.aniview.player.AdsController.getEvents().concat(m.com.aniview.player.video.VideoTag.getExternalEvents()).concat(m.com.aniview.player.PlayerGUI.getExternalEvents())},g.prototype.checkConfig=function(t){if(null==t)throw"Parameter 'config' must not be undefined";m.navigator&&m.navigator.connection&&m.navigator.connection.saveData&&(t.autoPlay=!1),t.logLevel&&(m.com.aniview.player.Utils.logLevel=t.logLevel),t&&t.content&&h(t.content.contents);for(var e=["position","content","content.contents","width","height"],n=0;n<e.length;n++)for(var i=e[n].split("."),o=t,a="config",s=0;s<i.length;s++){var r=i[s];if(a+="."+r,null==o[r])throw"Parameter '"+a+"' must not be undefined";o=o[r]}var l,d={autoPlay:!0,contentAutoLoad:!0,showTimelineReplay:!1,showPrevButton:!0,showPauseButton:!0,showNextButton:!0,showBigPrevNext:!0,showSoundButton:!0,showVolumeControl:!0,showVerticalVolume:!1,showFullScreen:!0,showDuration:!0,hideGuiOnMouseout:!0,syncVolume:!1,handleFirstGesture:!0,gui:{},hideGuiTimeout:2,timelineMode:"default",moveXSec:!1,xSec:10,spinner:"default",theme:"default",themeColor:"#ff0000",delayBeforeNext:4,mobile:{},noInlineVideo:!1},c={};for(l in d)null==t[l]&&(t[l]=d[l]);if(m.com.aniview.player.Utils.isMobile()&&t.autoPlay){if("webos"!==m.com.aniview.player.Utils.getOS()&&-1!==m.com.aniview.player.Utils.getOS().indexOf("tizen")&&(t.newVolume=0,t.syncVolume=!1),t.mobile)for(var p in t.mobile)t[p]=t.mobile[p];for(var u in t.mobile||(t.mobile={}),c)null==t.mobile[u]&&(t[u]=c[u])}},g.prototype.init=function(t){var e,n=com.aniview.player.Utils;this.oneVideoElement=n.isOneVideoElement(),void 0!==this.config.adConfig?this.config.adConfig.oneVideoElement=this.oneVideoElement:this.config.adConfig={oneVideoElement:this.oneVideoElement},this.setContentList(t,!1),this.config.originalOrder=this.config.order,this.config.content.order&&(e=this.config.content.randomFrom?this.config.content.randomFrom:0,m.com.aniview.player.Utils.shuffleArray(this.config.content.contents,e));var i=this.config.content.contents[0];this.content=i;var o="";try{o=i.url}catch(t){}var a,s,r={libraryHLS:g.libraryHLS,hlsConfig:this.config.content.hlsConfig,libraryDASH:g.XlibraryDASH,dashConfig:this.config.content.dashConfig,src:o,autoPlay:this.config.autoPlay,volume:this.config.startVolume,noInlineVideo:this.config.noInlineVideo,useImageVideo:this.config.useImageVideo};this.tag=new com.aniview.player.video.VideoTag(r,this.publisherId,this.config.trackTraffic),this.tag.container.style.position="absolute",this.tag.container.style.width="100%",this.tag.container.style.height="100%",this.tag.show(),this.container.appendChild(this.tag.container),this.sendPixel(g.pixelEnums.playerLoaded),this.gui=new com.aniview.player.PlayerGUI(this),this.gui.stateLoading(),this.config.customCss&&(this.config.noCssBreak?this.gui.addStyle(this.config.customCss):(a='[data-id="'+this.gui.container.dataset.id+'"]',s=(s=this.config.customCss.replace(/}/gi,"} "+a)).substring(0,s.length-(a.length+1)),this.gui.addStyle(a+" "+s))),this.gui.setPoster(i),this.gui.showPoster(),this.gui.container.style.position="absolute",this.gui.container.style.zIndex=1,this.updateSize(),this.container.appendChild(this.gui.container),this.gui.sharedGui.style.zIndex=4,this.container.appendChild(this.gui.sharedGui),(this.config.closeButton||this.config.floating&&this.config.floating.closeButton)&&this.gui.updateSharedParameter(),this.gui.postInit(),this.nonLinearContainer=document.createElement("div"),this.nonLinearContainer.style.position="absolute",this.nonLinearContainer.style.width="100%",this.nonLinearContainer.style.height="90px",this.nonLinearContainer.className="nonl-container";var l=document.createElement("div");l.style.overflow="hidden",this.nonLinearInnerDiv=document.createElement("div"),this.nonLinearInnerDiv.id="nonl",this.nonLinearInnerDiv.style.width="100%",this.nonLinearInnerDiv.style.height="100%",this.nonLinearContainer.appendChild(l).appendChild(this.nonLinearInnerDiv);var d=this.getContentIndex(this.getContent());d<0&&(d=0);var c=this.hasBreakingAds(d);this.ads=new com.aniview.player.AdsController(this,c),this.setAdsContainer(this.ads),this.initEvents(this,this.tag,this.gui,this.ads),this.tag.setVideoTagConfig(r),this.tag.addVideoAttributes(),this.isContentAutoLoad&&this.tag.initVideo(),this.prepareIosVideoElements(this.tag.video.element,this.tag.video.adsElement),com.aniview.player.Utils.setFullScreenElements({container:this.container,content:this.tag.video.element,ad:this.tag.video.adsElement})},g.prototype.initTracking=function(t){var o=this,e=com.aniview.player.Utils.getProtocol(),n=t.tracking||{},i=n.trackDomain||"track1.avplayer.com",a=n.cmsPublisherId||"",s=n.widgetId||"",r=com.aniview.player.Utils.getHostName(n.domain||com.aniview.player.Utils.getTrueDomain())||"",l=n.subid||"",d=n.cd1||"",c=n.cd2||"",p=n.cd3||"",u=n.app||"",h=100!=t.width?t.width:this.container.clientWidth,g=0!=t.height?t.height:this.container.clientHeight;this.ctInfo={enabled:n.enabled,tUrl:e+"//"+i+"/ctrack?",tData:"&pid="+o.publisherId+"&r="+r+"&sn="+l+"&cd1="+d+"&cd2="+c+"&cd3="+p+"&app="+u+"&wi="+h+"&he="+g+"&test=",lastTimeTrack:0,playTime:0,paused:!1,firstPlay:!0,lastMuted:0==this.config.startVolume,extra:"",duration:null,url:null,trackParams:"",id:"",title:"",setTrackParams:function(){this.enabled&&(this.trackParams="pt=2&cmid="+a+"&cwid="+s+"&cvid="+(this.id||""))},getPixel:function(){return this.tUrl+this.trackParams+this.tData}},this.ctInfo.setTrackParams();var m=com.aniview.player.events.Events;[[m.ContentSourceChanged,null,function(t,e){o.ctInfo.adClosed=!1,o.ctInfo.adImp=!1,o.ctInfo.firstPlay=!0,o.ctInfo.url=e&&e.src||"",o.ctInfo.duration=o.content.duration||"",o.ctInfo.title=o.content.title||"",o.ctInfo.id=o.content.id||"",o.ctInfo.platform=o.content.platform||"",o.ctInfo.keywords=o.content.keywords||"",o.ctInfo.cparam1=o.content.cparam1||"",o.ctInfo.cparam2=o.content.cparam2||"",o.ctInfo.cparam3=o.content.cparam3||"",o.ctInfo.setTrackParams()}],[m.ContentSizeChange,null,function(t,e){}],[m.ContentDurationChange,null,function(t,e){var n=!isNaN(e)&&e||o.content.duration||"";0<e&&(o.ctInfo.duration=n,o.ctInfo.setTrackParams())}],[m.ContentVideoStart,"cply",function(){return o.ctInfo.lastTimeTrack=0,!(o.ctInfo.paused=!1)}],[m.ContentVideoFirstQuartile,"cfqt"],[m.ContentVideoMidpoint,"cmdp"],[m.ContentVideoThirdQuartile,"ctqt"],[m.ContentVideoComplete,"cmpt"],[m.ContentClickThru,"cclk"],[m.AdImpression,null,function(){o.ctInfo.adImp=!0}],[m.AdClosed,null,function(){o.ctInfo.adImp=!1,o.ctInfo.adClosed=!0}],[m.ContentPaused,"cpau",function(){return!o.ctInfo.imp}],[m.ContentPlaying,"cres",function(){return!o.ctInfo.firstPlay&&!o.ctInfo.adClosed||(o.ctInfo.firstPlay=!1,o.ctInfo.adClosed=!1)}],[m.ContentError,"cerr"],[m.ContentNextClicked,"cnxt"],[m.ContentPrevClicked,"cprv"],[m.ContentTimeChange,null,function(t,e){var n,i=!isNaN(e)&&e||o.getContentCurrentTime();isNaN(i)||0==i||(0<(n=i-o.ctInfo.lastTimeTrack)&&(o.ctInfo.playTime+=n),o.ctInfo.lastTimeTrack=i,10<=o.ctInfo.playTime&&(o.track("ctpl","&cppt="+o.ctInfo.playTime),o.ctInfo.playTime=0))}],[m.ContentVolumeChange,null,function(){var t=o.getMuted();t!=o.ctInfo.lastMuted&&(o.ctInfo.lastMuted=t,o.track(t?"cmut":"cunm"))}]].forEach(function(e){o.on(e[0],function(){var t=!0;"function"==typeof e[2]&&(t=e[2].apply(o,arguments)),t&&e[1]&&(o.track(e[1],o.ctInfo.extra),o.ctInfo.extra="")})}),o.track("cpll")},g.prototype.track=function(t,e){var n=e||"";if(this.ctInfo.enabled){var i="";try{var o=com.aniview.player.Utils.getViewability(this.pos),i=o&&"undefined"!==o.ratio?Math.floor(100*o.ratio):"-1"}catch(t){i="-1"}(new Image).src=this.ctInfo.getPixel()+"&vi="+i+"&e="+t+n+"&cb="+Date.now()}},g.prototype.initInternalEvents=function(){this.dispatcher=new com.aniview.player.EventListener;var e=this;this.dispatcher.addEventListener(com.aniview.player.events.Events.InitContentsSuccess,function(t){e.init(t.data.contents),e.state="ready",t.data.async&&e.updateContent(),e.startWhenReady&&t.data.contents.length?e.nextContent():e.gui.changeSpinnerState(!1)}),this.dispatcher.addEventListener(com.aniview.player.events.Events.InitContentsError,function(t){})},g.prototype.initConfig=function(t){if(null==t)throw"Parameter 'config' must not be undefined";this.checkConfig(t);var e=com.aniview.utils.ObjectUtils.clone(t);this.config=e,this.isContentAutoLoad=this.config.contentAutoLoad,this.oneVideoElem=!e.oneVideoElem||e.oneVideoElem;var n=e.adConfig;return this.publisherId=i(n,e.content.contents),this.adsAllowed=this.config.content.breakingAdsMode!==com.aniview.player.AdsController.BreakingAdsModes.oneSession||!this.config.content.adsDelay,e},g.prototype.initPlugins=function(t){var e=this,n=t.plugins;if(n)for(var i in n)try{var o,a,s=(a=n[i]).name,r=a.config?a.config:{};"Playlist"===s?(o=document.createElement("script"),r.src&&(o.src=r.src,o&&(o.onload=function(){e.plugins[s]=new com.aniview.player[s](e.config,e,r.settings),r.settings&&!0===r.settings.hidePlaylist&&e.hidePlaylist()},document.getElementsByTagName("head")[0].appendChild(o)))):e.plugins[s]=new com.aniview.player.plugins[s](e,r)}catch(t){}},g.prototype.initContent=function(t){var e,n,i,o=this;"playlist"==t.content.type?(o.setContentList([],!1),o.plugins.AVCms?o.plugins.AVCms.setPlaylist(t):(i={message:"No plugin",code:500},this.dispatcher.event(com.aniview.player.events.Events.InitContentsError,i))):(e=t.adConfig,n=t.content.contents,o.mergeSlotsConfigs(n,t.content.slotDefaults,t.content.commonSlots),n=o.mergeAdConfigs(n,e),i={contents:t.content.contents=n,async:!1},o.dispatcher.event(com.aniview.player.events.Events.InitContentsSuccess,i))},g.prototype.closePlayer=function(){this.close();var t=this.pos;t.removeChild(this.container.parentNode),this.ads.done(!1,!1,m.com.aniview.player.video.VideoTag.Events.ContentUserClose),t.style=""},g.prototype.stopFloating=function(){var t=this;com.aniview.player.Utils.setFloating(t.wrapper,!1,t.config,!1,!1,function(){t.getSize()}),delete t.config.floating,delete t.config.floatingCSS,t.config.closeButton||t.gui.removeElementByClass(".avp-p-cn-close  ",!0)},g.prototype.startFloating=function(t){var i=this;i.config.floating=t;var e,n,o=m.com.aniview.player.Utils;o.isFloating(i.config)&&(e=i.config.floating.closeButton&&!i.config.closeButton,o.setFloatingCSS(i.config),e&&!i.config.closeButton&&i.gui.updateSharedParameter(),(n=i.getViewability()).inView?(o.setFloating(i.wrapper,!1,i.config,n.state,t.viewFromBottom,function(){i.getSize()}),e&&(i.container.querySelector(".avp-p-cn-close").style.display="none")):o.setFloating(i.wrapper,!0,i.config,n.state,t.viewFromBottom,function(t,e,n){i.setSize(t,e,n)}))},g.prototype.updateContentList=function(t){var e=this.config;h(t),e.adConfig&&(this.publisherId=i(e.adConfig,t)),this.setContentList(t),this.dispatcher.event(com.aniview.player.events.Events.ContentListChanged,t),this.skipAd(),this.nextContent()},g.prototype.getViewability=function(){return com.aniview.player.Utils.getViewability(this.pos)},g.prototype.updateCTInfo=function(t){this.ctInfo&&Object.assign&&Object.assign(this.ctInfo,t)},g.prototype.mergeSlotsConfigs=function(t,e,n){if(e||n)for(var i=0;i<t.length;++i){var o=t[i];if(o){var a=o.slots||[],s=a.slice();if(n&&n.push&&n.forEach(function(t){for(var e=0;e<a.length;++e){var n=a[e];if(t.time===n.time){s[e]=com.aniview.utils.ObjectUtils.mergeObject(t,n);break}}e===a.length&&s.push(t)}),e)for(var r=0;s&&r<s.length;++r)s[r]&&(s[r]=com.aniview.utils.ObjectUtils.mergeObject(e,s[r]));o.slots=s.sort(function(t,e){return t.preroll||e.postroll&&(!isNaN(t.time)||t.postroll)?-1:t.postroll&&(!isNaN(e.time)||e.postroll)||e.preroll||isNaN(t.time)&&!t.postroll?1:t.time<0&&0<=e.time||e.time<0&&0<=t.time?e.time-t.time:t.time>e.time?0:-1})}}},g.prototype.mergeAdConfigs=function(t,e){for(var n=0;n<t.length;n++){var i=t[n];if(i)for(var o,a,s=i.slots,r=0;s&&r<s.length;r++)s[r]&&s[r].adConfig&&(o=s[r].adConfig,a=com.aniview.utils.ObjectUtils.mergeObject(e,o),s[r].adConfig=a)}return t},g.prototype.getOrder=function(){return this.config.content.order},g.prototype.setOrder=function(t){this.config.content.order=t},g.prototype.getSlotTimeout=function(){var t=this.config.content;if("object"==typeof t.slot){if(!isNaN(t.slot.preloadAdTime))return+t.slot.preloadAdTime;if(!isNaN(t.slot.timeout))return+t.slot.timeout}return+t.slotTimeout},g.prototype.setSlotTimeout=function(t){var e=this.config.content;"object"!=typeof e.slot&&(e.slot={}),e.slot.preloadAdTime=+t,e.slot.timeout=+t,e.slotTimeout=+t},g.prototype.getContentList=function(){return this.config.content.contents},g.prototype.setContentList=function(t){if(!t)throw"Parameter 'value' must not be undefined";this.config.content.contents=t},g.prototype.getContentCount=function(){return this.getContentList().length},g.prototype.containsContent=function(t){return-1!=this.getContentIndex(t)},g.prototype.getContentAt=function(t){return 0<=t&&t<this.getContentCount()?this.getContentList()[t]:null},g.prototype.getContentById=function(t){for(var e=0;e<this.getContentCount();e++){var n=this.getContentAt(e);if(n.id==t)return n}return null},g.prototype.getContentIndex=function(t){return this.getContentList().indexOf(t)},g.prototype.setContentRandom=function(){if(this.getContentCount()){for(var t,e=[],n=0;n<this.getContentCount();n++){var i=this.getContentAt(n);-1==this.playedContent.indexOf(i)&&i!=this.getContent()&&e.push(i)}0==e.length&&(e=this.getContentList()),0<e.length&&(t=Math.round(Math.random()*(e.length-1)),this.setContent(e[t]))}},g.prototype.addContent=function(t){this.addContentAt(t,this.getContentCount())},g.prototype.addContentAt=function(t,e){-1==this.getContentIndex(t)&&(0<=e&&e<this.getContentCount()?this.getContentList().splice(e,0,t):this.getContentList().push(t))},g.prototype.removeContent=function(t){this.removeContentAt(this.getContentIndex(t))},g.prototype.removeContentAt=function(t){0<=t&&t<this.getContentCount()&&(this.getContentList().splice(t,1),this.updateContent())},g.prototype.getError=function(){return this.error},g.prototype.getContentClickthrough=function(){var t=this.getContent();if(t&&(t.clickthrough||t.clickThrough))return t.clickthrough||t.clickThrough;if(t.markers&&0<t.markers.length){var e=this.getContentCurrentTime();if(.2<e)for(var n=0;n<t.markers.length;n++)if(e<=t.markers[n].endTime&&e>=t.markers[n].startTime)return t.markers[n].url}return""},g.prototype.getContent=function(){return this.content},g.prototype.setContent=function(t,e){this.plugins.AVCms&&this.plugins.AVCms.setCmsMetadata(t),this.clearNextContentTimeout(),this.content==t&&!e||(this.content=t,this.startPreroll=!1,this.contentFallbacks=[],this.content.fallbacks&&0<this.content.fallbacks.length&&(this.contentFallbacks=this.content.fallbacks.slice(),this.contentFallbacks.sort(function(t,e){try{return t.priority>=e.priority?1:-1}catch(t){return 1}})),this.content.fallbackUrl&&this.contentFallbacks.push({url:this.content.fallbackUrl}),0==this.contentFallbacks.length&&this.contentFallbacks.push({url:this.content.url}),this.updateContent())},g.prototype.updateContent=function(){if(0!=this.active)if("ready"==this.state){if(this.userPause=!1,null!=this.content&&this.containsContent(this.content)){var t=this.firstRun?null:this.firstRun=this.config.content.firstPrerollSlot;this.pausedOnShowAd=!1,this.gui.container.appendChild(this.nonLinearContainer);var e=this.getContentIndex(this.getContent()),n=e===this.getContentCount()-1?0:e+1;this.hasBreakingAds(n);this.ads.init(this.content.slots,!1,this.content.impCap,t);this.getNextContent();this.initAdsEvents();var i,o=this.getContent();"audio"==o.type&&this.gui.setPoster(o),!this.oneVideoElem||(i=this.ads.getPrerollSlot(o.slots))&&(this.ads.prerollSlot=i);var a={src:o.url,mimetype:o.mimetype,contentAutoLoad:this.isContentAutoLoad,autoPlay:this.config.autoPlay,noInlineVideo:this.config.noInlineVideo};this.isContentAutoLoad||"content"==this.playerOwner?(this.tag.init(a),this.dispatcher.event(com.aniview.player.events.Events.ContentSourceChanged,{src:a.src})):this.playerOwner,this.updateSize(),this.isContentAutoLoad||this.handleContentAutoLoad(),this.handleAutoPlay();var s=this.config.startVolume;if(void 0!==this.config.newVolume&&(s=this.config.newVolume),!isNaN(s)&&s?(this.unmute(!0),this.setVolume(s,!0)):this.mute(!0),this.contentMute&&this.mute(!0),-1==this.playedContent.indexOf(this.content))for(this.playedContent.push(this.content);this.playedContent.length>=this.getContentCount();)this.playedContent.shift()}else this.nextContent();this.currentIndex=this.getContentIndex(this.getContent())}else this.startWhenReady=!0},g.prototype.handleContentAutoLoad=function(){this.gui.showUi(!1,!0,!0),this.gui.showPoster()},g.prototype.handleAutoPlay=function(){this.config.autoPlay||this.started?this.config.playOnView&&!this.started||(m.com.aniview.player.Utils.log("Auto played on init",m.com.aniview.player.Utils.LOG_LEVEL.DEBUG),this.play()):this.tag.initiated&&this.tag.video.element.removeAttribute("autoplay")},g.prototype.setAdsContainer=function(t){t.container.style.position="absolute",t.container.style.zIndex=-1,this.container.appendChild(t.container)},g.prototype.log=function(t,e){com.aniview.player.Utils.log("AniviewContentPlayer::"+this.container.id+" - "+t,e)},g.prototype.setContentByIndex=function(t,e){0<=t&&t<this.getContentCount()&&(this.setContent(this.getContentAt(t),e),this.gui.setTitle())},g.prototype.nextContent=function(){var t,e,n;this.config&&!this.config.autoplayDetection?this.getContentCount()&&(n=!1,e=this.getContentIndex(this.getContent()),e++,this.firstcall||(e=0,n=this.firstcall=!0),e>=this.getContentCount()&&(n=!(e=0),this.config.content.order&&(t=this.config.content.randomFrom?this.config.content.randomFrom:0,m.com.aniview.player.Utils.shuffleArray(this.config.content.contents,t))),this.setContentByIndex(e,n)):this.callNextContent=!0},g.prototype.backFromAd=function(){0!=this.active&&(this.content.currentTime=0<=this.content.currentTime&&void 0!==this.content.currentTime?this.content.currentTime:0,this.gui.container.style.zIndex=2,this.oneVideoElement?(this.ads.container.style.zIndex=2,this.tag.container.appendChild(this.tag.video.element)):(this.ads.container.style.zIndex=-1,this.tag.show()))},g.prototype.adClosed=function(){var t,e;0!=this.active&&(this.log("Close Ad"),this.tag.initiated&&!this.oneVideoElement||(e={src:(t=this.getContent()).url,mimetype:t.mimetype,autoPlay:this.config.autoPlay,noInlineVideo:this.config.noInlineVideo},this.isContentAutoLoad?this.tag.init(e):this.handleContentAutoLoad(),this.gui.changeSpinnerState(!1)),this.started&&(this.startPreroll=!1),this.pausedOnShowAd||this.startPreroll||this.postroll?(this.backFromAd(),this.gui.statePlaying(),this.setPlayerOwner("content"),this.pause()):this.isContentAutoLoad&&this.playContent())},g.prototype.prevContent=function(){var t;this.getContentCount()&&(t=this.getContentIndex(this.getContent()),--t<0&&(t=this.getContentCount()-1),this.setContentByIndex(t))},g.prototype.startFirstContent=function(){0===this.getContentIndex(this.getContent())?this.tag.video.setCurrentTime(0):this.setContentByIndex(0,!0)},g.prototype.getWidth=function(){return this.config.width},g.prototype.getHeight=function(){return this.config.height},g.prototype.setSize=function(t,e,n){var i=this.config.width!==t||this.config.height!==e;this.config.width=t,this.config.height=e,n||(this.config.originalSizes={width:t,height:e}),i&&(this.responsiveLayout=void 0),this.updateSize(n),i&&this.dispatcher.event(m.com.aniview.player.video.VideoTag.Events.ContentSizeChange)},g.prototype.getSize=function(){var t;this.config.originalSizes&&(t=this.config.width!==this.config.originalSizes.width||this.config.height!==this.config.originalSizes.width,this.config.width=this.config.originalSizes.width,this.config.height=this.config.originalSizes.height,t&&(this.responsiveLayout=void 0),this.updateSize(!0),t&&this.dispatcher.event(m.com.aniview.player.video.VideoTag.Events.ContentSizeChange))},g.prototype.updateSize=function(t){var e=this.config.height,n=this.config.width,i=com.aniview.player.Utils,o=i.fullscreenEnabled();i.fixedFullScreenElement||(this.container.style.position="relative"),void 0!==this.config.width&&null!=this.config.width||(this.config.width=640),void 0!==this.config.height&&null!=this.config.height||(this.config.height=360);var a,s,r,l,d=this.config.width,c=this.config.height;i.fixedFullScreenElement||("100%"==this.config.width&&(this.config.width=d=this.pos.parentNode.clientWidth),"100%"==this.config.height&&(this.config.height=c=this.pos.parentNode.clientHeight),(this.responsiveLayout||i.isResponsiveLayout(this.config.width,this.config.height))&&(o&&this.wrapper&&(this.wrapper.style.maxWidth=this.gui.config.width+"px"),this.config.width=d=this.pos.parentNode.clientWidth,a=this.config.heightRatio?this.config.heightRatio:1.777,this.config.height=c=Math.ceil(this.config.width/a),s=screen.height,90!==m.orientation&&-90!==m.orientation||(s=screen.width),r=(navigator&&navigator.userAgent&&-1<navigator.userAgent.toLowerCase().indexOf("firefox")?0:document.documentElement.clientHeight)||document.body.clientHeight||screen.height,s&&s<r&&(r=s),this.config.height>r&&(this.config.height=c=r,this.config.width=d=this.config.height*a),this.responsiveLayout=!0,!o&&this.wrapper&&(this.wrapper.style.maxWidth="")),i.fullscreenEnabled()&&(c=m.orientation&&90!==m.orientation&&-90!==m.orientation?(d=screen.height,screen.width):(d=screen.width,screen.height))),i.fixedFullScreenElement&&(d=(l=i.getDeviceDimensionsBasedOnOrientation()).width,c=l.height),this.container.style.width=d+"px",this.container.style.height=c+"px",this.caption&&(this.showCaption(!o),this.caption.style.width=d+"px"),this.config.floating&&0<this.config.floating.size&&(this.config.originalSizes&&t?(this.pos.style.width=this.config.originalSizes.width+"px",this.pos.style.height=this.config.originalSizes.height+"px"):(this.pos.style.width=d+"px",this.pos.style.height=c+"px")),this.config.centerPlayer&&(this.container.style.margin="auto"),this.tag&&this.tag.setSize(d,c),this.gui&&this.gui.setSize(d,c),this.ads&&this.ads.setSize(d,c,o?"fullscreen":"normal"),n===d&&e===c||this.dispatcher.event(m.com.aniview.player.video.VideoTag.Events.ContentSizeChange)},g.prototype.showCaption=function(t){this.caption&&(this.caption.style.display=t?"":"none")},g.prototype.getContentDuration=function(){var t=NaN;return this.tag&&this.tag.video&&(t=this.tag.video.getDuration()),(isNaN(t)||t<=0)&&this.config&&this.config.content&&!isNaN(this.config.content.duration)&&(t=this.config.content.duration),t},g.prototype.getContentUrl=function(){return this.tag&&this.tag.video?this.tag.video.getUrl():0},g.prototype.getContentRemainingTime=function(){return this.tag&&this.tag.video?this.tag.video.getRemainingTime():0},g.prototype.getContentCurrentTime=function(){return this.tag&&this.tag.video?this.tag.video.getCurrentTime():0},g.prototype.setContentCurrentTimeAddXSec=function(){this.active&&this.config.moveXSec&&"content"===this.playerOwner&&this.tag.video.setCurrentTimeAddXSec(this.config.xSec)},g.prototype.setContentCurrentTimeReduceXSec=function(){this.active&&this.config.moveXSec&&"content"===this.playerOwner&&this.tag.video.setCurrentTimeReduceXSec(this.config.xSec)},g.prototype.setMoveXSec=function(t){this.config.moveXSec=t},g.prototype.setContentCurrentTime=function(t){if(!this.tag)return 0;var e=this.getContentIndex(this.getContent());e<0&&(e=0),this.hasBreakingAds(e)&&this.ads.fixBreakingAdsOffset(t,this.getContentCurrentTime()),this.tag.video&&this.tag.video.setCurrentTime(t)},g.prototype.getContentBufferTime=function(){return this.tag&&this.tag.video?this.tag.video.getBufferTime():0},g.prototype.getPaused=function(){return"none"==this.playerOwner||!(!this.tag||!this.tag.video)&&this.tag.video.getPaused()},g.prototype.getPauseRequested=function(){return"none"==this.playerOwner||(!this.tag||!this.tag.video||this.tag.video.getPauseRequested())},g.prototype.getEnded=function(){return"none"!=this.playerOwner&&(!(!this.tag||!this.tag.video)&&this.tag.video.getEnded())},g.prototype.play=function(t){var e,n,i;0!=this.active&&this.tag&&(this.started=!0,this.clearNextContentTimeout(),e=this.tag.video.getIsStarted()&&this.getContentCurrentTime()?this.getContentCurrentTime():void 0,e=this.startPreroll?0:e,n=this.getContentDuration(),this.adsAllowed&&(i=this.ads.run(e,n,!this.startPreroll,t)),!1===this.isContentAutoLoad&&t&&(this.isContentAutoLoad=!0,this.updateContent()),"preroll"===i?(this.preroll=!0,"ads"!=!this.playerOwner&&(this.gui.stateLoading(),this.setPlayerOwner("ads"))):"playing"===this.ads.state?(this.preroll=!1,this.ads.play()):(this.playContent(),t&&(this.userPause=!1,this.ads.setUserPausedContent(!1))))},g.prototype.pause=function(t){this.tag&&(m.com.aniview.player.Utils.log("Pause request",m.com.aniview.player.Utils.LOG_LEVEL.DEBUG),this.firstGesture=!0,"playing"===this.ads.state?this.ads.pause():this.tag.video&&(t&&(this.pausedOnShowAd=!0,this.userPause=!0,this.ads.setUserPausedContent(!0)),this.tag.video.pause(),this.ads.pauseSlotTimeout(),this.gui.showInnerGUI(!1,t)))},g.prototype.playContent=function(){var t,e;0!=this.active&&this.tag&&this.tag.video&&(this.firstSessionPlayed=!0,!(t=com.aniview.player.Utils).isMobile()||"ios"!==t.getOS()||(e=t.getOSVersion())&&"9"===e.major&&this.tag.video.setAutoPlay(),this.tag.video.getPaused()&&this.gui.stateLoading(),this.saveContentConfig(),this.backFromAd(),this.gui.hidePoster(),this.started=!0,this.log("play!!"),this.setPlayerOwner("content"),this.tag.video.play(),this.ads.continueSlotTimeout())},g.prototype.pauseContent=function(){this.tag&&this.tag.video&&this.tag.video.pause()},g.prototype.getMuted=function(){return!(!this.tag||!this.tag.video)&&this.tag.video.getMuted()},g.prototype.getLastVolume=function(){if(!this.tag)return 0;var e=0;try{e=this.getMuted()?0:this.tag.video.getVolume()}catch(t){e=void 0!==this.config.newVolume?this.config.newVolume:this.config.startVolume}return e},g.prototype.getVolume=function(t){return!t&&this.ads&&"playing"===this.ads.state?this.ads.slotX.player.getAdVolume():this.tag&&this.tag.video?this.tag.video.getVolume():0},g.prototype.setVolume=function(e,t){if(this.tag)if(this.ads&&"playing"===this.ads.state&&!t)try{this.ads.slotX.player.setAdVolume(e)}catch(t){this.config.newVolume=e,this.tag.video&&this.tag.video.setVolume(e)}else this.config.newVolume=e,this.tag.video&&this.tag.video.setVolume(e)},g.prototype.mute=function(t){!t&&this.ads&&"playing"===this.ads.state?this.ads.mute():this.tag&&this.tag.video&&(this.config.newVolume=0,this.contentMute=!0,this.tag.video.mute())},g.prototype.unmute=function(t){this.ads&&"playing"===this.ads.state&&!t?this.ads.unmute():this.tag&&this.tag.video&&(this.tag.video.getVolume()||this.tag.video.setVolume(1),this.contentMute=!1,this.tag.video.unmute(),this.config.newVolume=this.tag.video.getVolume())},g.prototype.on=function(t,e,n){this.dispatcher.addEventListener(t,e,n)},g.prototype.once=function(t,e,n){this.dispatcher.addEventListener(t,e,n,!0)},g.prototype.playNextPlaylistContent=function(t){var e,n,i;this.tag&&(n=(e=t.getContentIndex(t.getContent()))!==t.getContentCount()-1&&t.config.autoContinue,i=e==t.getContentCount()-1&&t.config.autoLoop,(n||i)&&(m.com.aniview.player.Utils.log("Auto playing next video on playlist",m.com.aniview.player.Utils.LOG_LEVEL.INFO),t.nextContent()))},g.prototype.prepareIosVideoElements=function(e,n){var t,i;function o(t){t?this.config.noInlineVideo||(e&&(e.setAttribute("playsinline",!0),e.setAttribute("webkit-playsinline",!0)),n&&(n.setAttribute("playsinline",t),n.setAttribute("webkit-playsinline",!0))):(e&&(e.removeAttribute("playsinline"),e.removeAttribute("webkit-playsinline")),n&&(n.removeAttribute("playsinline"),n.removeAttribute("webkit-playsinline")))}"ios"==com.aniview.player.Utils.getOS()&&(t=com.aniview.player.Utils.getOSVersion(),i=!0,t&&t.major<=9&&(i=!1),e.addEventListener("webkitbeginfullscreen",function(){l.playContent()}),e.addEventListener("webkitendfullscreen",function(){"content"==l.playerOwner&&(o(!0),i&&l.playContent())}),n.addEventListener("webkitbeginfullscreen",function(){n.play()}),n.addEventListener("webkitendfullscreen",function(){"none"!=l.ads.getPlayState()?(o(!0),i&&n.play()):i&&l.playContent()}))},g.prototype.openFullscreen=function(t){var e,n,i,o=com.aniview.player.Utils,a=this.config.mobile.fullScreenMode?this.config.mobile.fullScreenMode:"full",s=o.getOSVersion(),r=o.getOS();o.isMobile()&&("fixed"==a||"ios"==r&&s&&s.major<=9)?o.requestFullScreenFixed(this.container):"ios"==r?(e=l.tag.video.element,n=l.tag.video.adsElement,i=t?n.paused:l.getPaused(),e.removeAttribute("playsinline"),e.removeAttribute("webkit-playsinline"),n.removeAttribute("playsinline"),n.removeAttribute("webkit-playsinline"),t?(n.pause(),n.play()):(e.pause(),e.play()),i&&l.pause()):o.requestFullscreen(this.container)},g.prototype.adsFullScreenRequest=function(t){t?l.openFullscreen(!0):l.closeFullscreen(!0)},g.prototype.closeFullscreen=function(){var t=com.aniview.player.Utils,e=t.getOSVersion();t.isMobile()&&"ios"==t.getOS()&&e&&9<e.major&&l.tag.video.element.setAttribute("playsinline",!0),t.cancelFullscreen()},g.prototype.initEvents=function(a,s,t,e){function n(t){switch(t.type){case m.com.aniview.player.video.VideoTag.Events.ContentError:case m.com.aniview.player.video.VideoTag.Events.ContentVideoComplete:u=p.playStateEnum.none,t.data.remaining=p.getContentCount()-(p.getContentIndex(p.getContent())+1);break;case m.com.aniview.player.video.VideoTag.Events.contentPaused:u=p.playStateEnum.paused;break;case m.com.aniview.player.video.VideoTag.Events.ContentPlaying:u=p.playStateEnum.playing}p.dispatcher.dispatchEvent(t)}var i,r,l,d,c,p=this;for(i in m.com.aniview.player.video.VideoTag.Events)s.addEventListener(m.com.aniview.player.video.VideoTag.Events[i],n);for(i in m.com.aniview.player.PlayerGUI.Events)t.addEventListener(m.com.aniview.player.PlayerGUI.Events[i],n);a.container&&(d=p.config.viewPercentageRequired,l=r=!1,d=d||.5,p.config.floating&&0<p.config.floating.size&&p.config.floating.size<=1?m.com.aniview.player.Utils.setFloatingCSS(p.config):p.config.sticky&&0<p.config.sticky.size&&p.config.sticky.size<=1&&m.com.aniview.player.Utils.setStickyCSS(p.wrapper,p.config),c=-100,(p.config.sticky||p.config.floating||p.config.playOnView||p.config.pauseOnUnseen)&&m.com.aniview.player.Utils.startViewability(a.pos,function(t,e,n,i){var o;c!==e&&(c=e,p.dispatcher.event(m.com.aniview.player.video.VideoTag.Events.ContentViewabilityChanged,{data:{inView:t,ratio:e,state:n}})),p.config.floatingCSS&&p.config.floating&&((o=t)&&!isNaN(i)&&i/p.getHeight()<d&&(o=!1),"OUT_BOTTOM"===n&&(l=!1),o?(m.com.aniview.player.Utils.setFloating(p.wrapper,!1,p.config,n,l,function(){p.getSize()}),p.config.floating.closeButton&&!p.config.closeButton&&(p.container.querySelector(".avp-p-cn-close").style.display="none"),r=!1):("T_TRUNC"!==n&&"OUT_TOP"!==n||(l=!0),r||(p.config.floating.floatOnBottom||"T_TRUNC"!==n&&"OUT_TOP"!==n)&&!p.config.floating.floatOnBottom||(m.com.aniview.player.Utils.setFloating(p.wrapper,!0,p.config,n,l,function(t,e,n){p.setSize(t,e,n)}),(p.config.floating.closeButton||p.config.closeButton)&&(p.container.querySelector(".avp-p-cn-close").style.display=""),r=!0))),(t||r)&&p.config.playOnView&&p.config.autoPlay&&(p.started&&p.isContentAutoLoad?p.gui.hideUi():(m.com.aniview.player.Utils.log("Auto played on viewability change",m.com.aniview.player.Utils.LOG_LEVEL.DEBUG),p.play())),p.config.pauseOnUnseen&&(!(t||r&&(l||p.config.floating&&p.config.floating.floatOnBottom))||p.userPause&&"ad"!=p.playerOwner?p.pause():p.play())},d)),s.addEventListener(m.com.aniview.player.video.VideoTag.Events.ContentReady,function(t){}),s.addEventListener(m.com.aniview.player.video.VideoTag.Events.LoadedMetadata,function(t){var e,n;"none"==p.playerOwner&&(p.gui.statePlaying(),e=!0,this.oneVideoElem&&(n=this.getContent(),this.ads.getPrerollSlot(n.slots)&&(e=!1)),p.gui.showUi(!1,e,!0),p.gui.showPoster());var i=p.getNextContent();p.ads.initNextPreroll(i&&i.slots,p.getContentDuration())}),this.on("ContentPaused",function(){p.config.showTitle&&p.gui.showElementByClass(".avp-p-ti")}),this.on("ContentPlaying",function(){p.config.showTitle&&p.gui.hideElementByClass(".avp-p-ti")}),s.addEventListener(m.com.aniview.player.video.VideoTag.Events.ContentTimeChange,function(t){isNaN(t.data)||t.data<.5||a.adsAllowed&&a.ads.run(t.data,a.getContentDuration())});function o(t){if(0!=p.active){var e={};if(e.cd1=navigator.userAgent,t.data&&t.data.errorInfo&&(e.cd1+=" --- "+t.data.errorInfo+"---"),t.data&&t.data.message)try{e.cd1||(e.cd1=""),e.cd1+=t.data.message}catch(t){e.cd1="no video element error"}var n=g.pixelEnums.playingError;t.data.pixelEvent&&(n=t.data.pixelEvent),a.sendPixel(n,e),m.com.aniview.player.Utils.log("Error playing video promise",m.com.aniview.player.Utils.LOG_LEVEL.ERR),p.error=!0;var i,o=a.getNextFallbackVideo();t&&t.data&&"NotAllowedError"===t.data.error&&p.setVolume(0),o?(i={src:o,fallback:!0,noInlineVideo:a.config.noInlineVideo},s.init(i),a.handleAutoPlay()):(p.errorCount=p.errorCount?p.errorCount+1:1,p.errorCount<4&&a.playNextPlaylistContent(a))}}s.addEventListener(m.com.aniview.player.video.VideoTag.Events.ContentHLSError,function(t){0!=p.active&&o(t)}),s.addEventListener(m.com.aniview.player.video.VideoTag.Events.ContentHLSRecoverTry,function(t){0!=p.active&&a.play()}),s.addEventListener(m.com.aniview.player.video.VideoTag.Events.ContentError,function(t){0!=p.active&&o(t)}),s.addEventListener(m.com.aniview.player.video.VideoTag.Events.ContentVideoStart,function(t){0!=p.active?(!p.adsAllowed&&p.config.content.adsDelay&&setTimeout(function(){p.adsAllowed||(p.adsAllowed=!0,s.video.getPaused()&&p.ads.run(1,p.getContentDuration()))},1e3*p.config.content.adsDelay),p.nonLinearContainer&&(p.nonLinearContainer.style.display=""),p.ads&&"playing"===p.ads.state&&p.pauseContent(),p.errorCount=0,a.sendPixel(g.pixelEnums.contentImpression)):p.pauseContent()}),s.addEventListener(m.com.aniview.player.video.VideoTag.Events.ContentPlaying,function(t){u=p.playStateEnum.playing,p.gui.statePlaying()}),s.addEventListener(m.com.aniview.player.video.VideoTag.Events.ContentVideoComplete,function(t){if(console.warn("COMPLETED"),0!=p.active)if(u=p.playStateEnum.none,p.oneVideoElem&&"ad"==p.playerOwner)console.warn("PLAYER OWNER");else{if(p.nonLinearContainer&&(p.nonLinearContainer.style.display="none"),a.sendPixel(g.pixelEnums.contentCompleted),p.adsAllowed&&p.ads&&p.ads.slotX&&p.ads.slotX.postroll)return p.postroll=!0,p.ads.start(p.ads.slotX),void p.gui.stateLoading();(p.config.autoContinue||p.config.autoLoop)&&p.playNextPlaylistContent(a)}}),t.addEventListener(m.com.aniview.player.PlayerGUI.Events.ContentClickThrough,function(t){})},g.prototype.setPlayerOwner=function(t){this.playerOwner=t},g.prototype.saveContentConfig=function(){this.content.currentTime=this.getContentCurrentTime()},g.prototype.showAd=function(){if(0!=this.active){this.oneVideoElement&&this.saveContentConfig(),this.setPlayerOwner("ad"),this.gui.statePlayingAd();try{this.pausedOnShowAd=this.userPause}catch(t){this.pausedOnShowAd=!1}this.log("Show Ad");var t=this;setTimeout(function(){t.updateSize()}),this.oneVideoElement||(this.pauseContent(),this.tag.hide()),this.ads.container.style.zIndex=2,this.ads.container.style.visibility="visible",this.gui.container.style.zIndex=-1}},g.prototype.initAdsEvents=function(){var e=this;this.ads.removeAllEventListeners();function t(t){e.dispatcher.dispatchEvent(t)}for(var n in this.ads.addEventListener(com.aniview.player.AdsController.aEvents.AdVideoStart,function(t){e.sendPixel(g.pixelEnums.adsImpression),e.isContentAutoLoad=!0,setTimeout(function(){e.updateSize()},5),e.showAd()}),this.ads.addEventListener(com.aniview.player.AdsController.aEvents.AdClosed,function(t){0!=e.active&&(e.ads.container&&t.data&&e.ads.container.id===t.data.adsId&&e.adClosed(),e.postroll&&(e.postroll=!1,(e.config.autoContinue||e.config.autoLoop)&&e.playNextPlaylistContent(e.ads.content)))}),m.com.aniview.player.AdsController.aEvents)this.ads.addEventListener(m.com.aniview.player.AdsController.aEvents[n],t)},g.prototype.clearNextContentTimeout=function(){-1!=this.nextContentTimeout&&(clearTimeout(this.nextContentTimeout),this.nextContentTimeout=-1)},g.prototype.changeGUI=function(t,e){if(e&&this.ads&&"playing"===this.ads.state&&this.ads.updateGui(e),t&&this.config){var n,i=!1;for(n in t)this.config[n]=t[n],i=!0;if(i)try{this.gui.update()}catch(t){}}},g.prototype.changeAdConfig=function(t){this.ads&&this.ads.changeAdConfig(t)},g.prototype.getSessionId=function(){return this.guid},g.prototype.getPlayState=function(){var t=u;return t==this.playStateEnum.playing&&this.tag&&this.tag.video&&this.tag.video.getPaused()&&(t=this.playStateEnum.paused),{content:t,ads:this.ads?this.ads.getPlayState():this.playStateEnum.none}},g.prototype.getAdDuration=function(){if(this.ads)return this.ads.getAdDuration()},g.prototype.getAdRemainingTime=function(){if(this.ads)return this.ads.getAdRemainingTime()},g.prototype.skipAd=function(){if(this.ads)return this.ads.skip()},g.prototype.setWaterfallState=function(t,e){if(this.ads)return this.ads.setWaterfallState(t,e)},g.prototype.getNextContent=function(){if(this.tag){var t=this.getContentIndex(this.content),e=0;return t!==this.getContentCount()-1&&(e=t+1),this.getContentAt(e)}},g.prototype.isPlayingNextContent=function(){var t=this.getContentIndex(this.getContent());return this.currentIndex+1===t||this.currentIndex===this.getContentCount()-1&&0===t},g.prototype.hasBreakingAds=function(t){return this.config.content.contents[t]&&void 0!==this.config.content.contents[t].breakingAds?this.config.content.contents[t].breakingAds:this.config.content.breakingAds},g.prototype.sendPixel=function(t,e){},g.prototype.getFallbackVideo=function(){var t=null;return this.getContent()&&this.getContent().fallbackUrl?t=this.getContent().fallbackUrl:this.config.content.fallbackUrl&&(t=this.config.content.fallbackUrl),t},g.prototype.getNextFallbackVideo=function(){var t,e;return this.contentFallbacks&&0<this.contentFallbacks.length&&((e=this.contentFallbacks.splice(0,1))&&e[0]&&e[0].url&&(t=e[0].url)),t},g.prototype.close=function(){this.active=!1,this.setWaterfallState(!1,!1),this.skipAd(),this.pause()},g.prototype.hidePlaylist=function(){this.plugins&&this.plugins.Playlist&&this.plugins.Playlist.hidePlaylist()},g.prototype.showPlaylist=function(){this.plugins&&this.plugins.Playlist&&this.plugins.Playlist.showPlaylist()};function n(t){l=new g(t)}return n.prototype.on=function(t,e,n){return l.dispatcher.addEventListener(t,e,n)},n.prototype.nextContent=function(){return l.nextContent()},n.prototype.prevContent=function(){return l.prevContent()},n.prototype.setContentByIndex=function(t){return l.setContentByIndex(t,!0)},n.prototype.getWidth=function(){return l.getWidth()},n.prototype.getHeight=function(){return l.getHeight()},n.prototype.setSize=function(t,e){return l.setSize(t,e)},n.prototype.getContentDuration=function(){return l.getContentDuration()},n.prototype.getContentRemainingTime=function(){return l.getContentRemainingTime()},n.prototype.getContentCurrentTime=function(){return l.getContentCurrentTime()},n.prototype.play=function(t){return l.play(t)},n.prototype.pause=function(){return l.pause(!0)},n.prototype.setContentCurrentTime=function(t){return l.setContentCurrentTime(t)},n.prototype.addXSec=function(){return l.setContentCurrentTimeAddXSec()},n.prototype.reduceXSec=function(){return l.setContentCurrentTimeReduceXSec()},n.prototype.setMoveXSec=function(t){return l.setMoveXSec(t)},n.prototype.mute=function(){return l.mute()},n.prototype.unmute=function(){return l.unmute()},n.prototype.getMuted=function(){return l.getMuted()},n.prototype.getVolume=function(){return l.getVolume()},n.prototype.setVolume=function(t){return l.setVolume(t)},n.prototype.getEvents=function(){return g.getEvents()},n.prototype.resize=function(){return l.updateSize()},n.prototype.changeGUI=function(t,e){l.changeGUI(t,e)},n.prototype.changeAdConfig=function(t){l.changeAdConfig(t)},n.prototype.getPlayState=function(){return l.getPlayState()},n.prototype.getAdDuration=function(){return l.getAdDuration()},n.prototype.getAdRemainingTime=function(){return l.getAdRemainingTime()},n.prototype.getSessionId=function(){return l.getSessionId()},n.prototype.skipAd=function(){return l.skipAd()},n.prototype.addContentAt=function(t,e){return l.addContentAt(t,e)},n.prototype.removeContentAt=function(t){return l.removeContentAt(t)},n.prototype.pauseWaterfall=function(t){return l.setWaterfallState(!1,t)},n.prototype.resumeWaterfall=function(t){return l.setWaterfallState(!0,t)},n.prototype.close=function(){return l.close()},n.prototype.hidePlaylist=function(){return l.hidePlaylist()},n.prototype.showPlaylist=function(){return l.showPlaylist()},n.prototype.closePlayer=function(){return l.closePlayer()},n.prototype.getViewability=function(){return l.getViewability()},n.prototype.updateCTInfo=function(t){return l.updateCTInfo(t)},n.prototype.stopFloat=function(){l.stopFloating()},n.prototype.startFloat=function(t){l.startFloating(t)},n.prototype.updateContentList=function(t){l.updateContentList(t)},new n(t)}}(window),function(M){"use strict";var a;M.com||(M.com={}),M.com.aniview||(M.com.aniview={}),M.com.aniview.player||(M.com.aniview.player={});var P="‒‒:‒‒",s=M.com.aniview.player.PlayerGUI=function(t){this.content=t,a=com.aniview.player.Utils;var e=this.content.config;e.caption=!(!e.closeButtonStyle||!e.closeButtonStyle.outside),this.container=document.createElement("div"),this.container.setAttribute("data-id","gui_"+com.aniview.player.Utils.generateRandomString()),(this.container.controler=this).dispatcher=new com.aniview.player.EventListener,this.sharedGui=document.createElement("div"),this.sharedGui.setAttribute("data-id","sharedGui_"+com.aniview.player.Utils.generateRandomString()),this.sharedGui.classList.add("avp-shared-gui"),this.init(),this.update(!0),this.posterEnabled()&&this.appendPoster(),this.container.addEventListener?this.container.addEventListener(s.Events.ContentClickThrough,this.onClickEvent):this.container.attachEvent("on"+s.Events.ContentClickThrough,this.onClickEvent),com.aniview.player.Utils.isMobile()||this.container.addEventListener(s.Events.ContentDoubleClick,this.onDoubleClickEvent),com.aniview.player.Utils.isMobile()&&(this.container.addEventListener("touchstart",this.onTouch),this.container.addEventListener("touchend",this.onTouch));var n,i="onorientationchange"in M?"orientationchange":"resize",o=this;M.addEventListener(i,function(){void 0!==n&&clearTimeout(n),n=setTimeout(function(){o.content.updateSize(),n=void 0},50)},!1),this.initContentEvents()};s.Events={},s.Events.ContentClickThrough="click",s.Events.ContentDoubleClick="dblclick",s.Events.ContentClickThru="ContentClickThru",s.Events.ContentNextClicked="ContentNextClicked",s.Events.ContentPrevClicked="ContentPrevClicked",s.Events.ContentPlayClicked="ContentPlayClicked",s.Events.ContentPauseClicked="ContentPauseClicked",s.getExternalEvents=function(){var t=[];return t.push(s.Events.ContentClickThru="ContentClickThru"),t.push(s.Events.ContentNextClicked="ContentNextClicked"),t.push(s.Events.ContentPrevClicked="ContentPrevClicked"),t.push(s.Events.ContentPlayClicked="ContentPlayClicked"),t.push(s.Events.ContentPauseClicked="ContentPauseClicked"),t},s.prototype.initContentEvents=function(){function t(t){s.config.showUiOnPause&&s.state.paused&&clearTimeout(s.hideGuiTimeout);var e={"avp-state":t};s.setElementDataByClass(".avp-p-cn-pp",e),s.config.hideGuiOnMouseout?s.setElementDataByClass(".avp-p-cn-bp",e):s.hideElementByClass(".avp-p-cn-bp")}function e(t){s.content.getMuted()&&(t=0),s.setElementDataByClass(".avp-p-cn-s",{"avp-state":0===t?"off":t<.5?"medium":"on"});var e=s.getElementByClass(".avp-p-cn-vi");e&&(e.value=100*t)}var n,s=this,i=com.aniview.player.events.Events,o={};for(n in o[i.ContentPlaying]=function(){t("pause"),e(s.content.getVolume())},o[i.ContentPaused]=function(){t("play")},o[i.ContentTimeChange]=function(t){var e=s.getElementByClass(".avp-p-tl-pr"),n=s.content.getContentDuration();e&&(e.style.width=n?100*r(t.data/n,0,1)+"%":"0%");var i=s.getElementByClass(".avp-p-cn-d-r");i&&(i.innerHTML=l(t.data));var o=s.content.getContentBufferTime(),a=s.getElementByClass(".avp-p-tl-bf");a&&(s.content.getContentDuration()?a.style.width=100*r(o/n,0,1)+"%":a.style.width="0%")},o[i.ContentDurationChange]=function(t){s.setDuration(t.data)},o[M.com.aniview.player.video.VideoTag.Events.LoadedMetadata]=function(t){t.data&&t.data.duration&&s.setDuration(t.data.duration)},o[i.ContentVolumeChange]=function(t){e(t.data)},document.addEventListener(a.getFullScreenChangeEvent(),function(t){s.setElementDataByClass(".avp-p-cn-fs",{"avp-state":a.fullscreenEnabled()?"on":"off"}),s.onFullscreenChange()}),o)s.content.dispatcher.addEventListener(n,o[n])},s.prototype.hideUi=function(t,e,n,i){n||this.hideElementByClass(".avp-p-gui-b"),t||(this.hideElementByClass(".avp-p-cn-bp"),this.hideElementByClass(".avp-hide-gui")),e||(this.hideElementByClass(".avp-p-cn-bprev"),this.hideElementByClass(".avp-p-cn-bnext"),this.hideElementByClass(".avp-p-cn-sec-bnext"),this.hideElementByClass(".avp-p-cn-sec-bprev")),t||e||n||(this.mobileGuiIsVisible=!1),i&&this.hideElementByClass(".avp-p-gui-t")},s.prototype.showUi=function(t,e,n,i){n||this.showElementByClass(".avp-p-gui-b"),t||(this.showElementByClass(".avp-p-cn-bp"),this.showElementByClass(".avp-show-gui")),e||(this.showElementByClass(".avp-p-cn-bprev"),this.showElementByClass(".avp-p-cn-bnext"),this.showElementByClass(".avp-p-cn-sec-bnext"),this.showElementByClass(".avp-p-cn-sec-bprev")),t||e||n||(this.mobileGuiIsVisible=!0),i&&this.showElementByClass(".avp-p-gui-t")},s.prototype.onTouch=function(t){var e=this.controler,n=e.content.config,i=com.aniview.player.Utils.parseInt(n.hideGuiTimeout,0,10);switch(t.type){case"touchstart":clearTimeout(e.hideGuiTimeout);break;case"touchend":e.hideGuiTimeout=setTimeout(function(){e.handleGUITimeout()},1e3*i)}},s.prototype.onClickEvent=function(t){if(!this.controler.state.loading){var e=this.controler,n=e.content.config;if(com.aniview.player.Utils.isMobile()){var i=com.aniview.player.Utils.parseInt(n.hideGuiTimeout,0,10);e.mobileGuiIsVisible?t.currentTarget==t.target&&(e.hideUi(),e.mobileGuiIsVisible=!1,e.contentCTRHandler()):(e.mobileGuiIsVisible=!0,clearTimeout(e.hideGuiTimeout),e.showInnerGUI(!1,!0),e.hideGuiTimeout=setTimeout(function(){e.handleGUITimeout()},1e3*i))}else if(t.currentTarget==t.target||t.target==this.controler.getElementByClass(".avp-p-gui-ch")){if(e.contentCTRHandler())return;this.controler.config.noDefaultClick||t.currentTarget.controler.onPlayClick(),this.controler.dispatcher.dispatchEvent(t)}}},s.prototype.handleGUITimeout=function(t){this.mobileGuiIsVisible=!1;var e=this.content.config,n=this.content.getPaused(),i=this.config.showBigPlayOnPause&&n,o=this.config.showBigPrevNextOnPause&&n,a=e.hideLogoOnMouseout&&!i;e.showUiOnPause&&n||(this.hideUi(i,o,n,a),d(this.container,"p-hover"),com.aniview.player.Utils.fullscreenEnabled())},s.prototype.contentCTRHandler=function(t){var e=!1;try{e=this.content.getContentClickthrough()}catch(t){}if(e){this.config.noPauseOnClickthrough||this.content.pause(!0);var n=M.open(e,"_blank");if(n)return n.focus(),this.event(s.Events.ContentClickThru,{clickThru:e}),n;com.aniview.player.Utils.log("Can't open new window")}return!1},s.prototype.onDoubleClickEvent=function(t){t.currentTarget==t.target&&(this.controler.onFullscreenClick(),this.controler.dispatcher.dispatchEvent(t))},s.prototype.addEventListener=function(t,e){t in this.listeners||(this.listeners[t]=[]),this.listeners[t].push(e)},s.prototype.container=null,s.prototype.content=null,s.prototype.dispatcher=null,s.prototype.config=null,s.prototype.style=null,s.prototype.mobileGuiIsVisible=!1,s.prototype.styles=null,s.prototype.state=null,s.prototype.hideGuiTimeout=-1,s.prototype.seekTime=-1,s.prototype.init=function(){var e=this;this.config={},this.state={},this.style=[],this.styles=[];document.addEventListener("keydown",function(t){39==t.keyCode?e.content.setContentCurrentTimeAddXSec():37==t.keyCode&&e.content.setContentCurrentTimeReduceXSec()});var t,n=this.content.config,i=n.customButtons||{},o={"avp-p-cn-pp":{play:'background-image:url("data:image/svg+xml;base64,PHN2ZyB2ZXJzaW9uPSIxLjEiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyIgeG1sbnM6eGxpbms9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkveGxpbmsiIHg9IjBweCIgeT0iMHB4IiB2aWV3Qm94PSIwIDAgMjMgMjMiIHN0eWxlPSJmaWxsOndoaXRlIiB4bWw6c3BhY2U9InByZXNlcnZlIj48cGF0aCBkPSJNNi45LDN2MTdsMTMuNS04LjVMNi45LDN6Ii8+PC9zdmc+");',pause:'background-image:url("data:image/svg+xml;base64,PHN2ZyB2ZXJzaW9uPSIxLjEiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyIgeG1sbnM6eGxpbms9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkveGxpbmsiIHg9IjBweCIgeT0iMHB4IiB2aWV3Qm94PSIwIDAgMjMgMjMiIHN0eWxlPSJmaWxsOndoaXRlIiB4bWw6c3BhY2U9InByZXNlcnZlIj48cGF0aCBkPSJNNS41LDE5LjVoNHYtMTZoLTRWMTkuNXogTTEzLjUsMy41djE2aDR2LTE2SDEzLjV6Ii8+PC9zdmc+");',replay:'background-image:url("data:image/svg+xml;base64,PHN2ZyB2ZXJzaW9uPSIxLjEiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyIgeG1sbnM6eGxpbms9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkveGxpbmsiIHg9IjBweCIgeT0iMHB4IiB2aWV3Qm94PSIwIDAgMjMgMjMiIHN0eWxlPSJmaWxsOndoaXRlIiB4bWw6c3BhY2U9InByZXNlcnZlIj48cGF0aCBkPSJNMTEuNSwxNy4yYy0xLjUsMC0yLjktMC42LTQtMS43Yy0yLjItMi4yLTIuMi01LjgsMC04YzIuMi0yLjIsNS44LTIuMiw4LDBsLTEuOSwxLjlsNi4xLDEuMWwtMS4xLTYuMWwtMS43LDEuNyBjLTMtMy03LjgtMy0xMC44LDBjLTMsMy0zLDcuOCwwLDEwLjhjMS40LDEuNCwzLjQsMi4yLDUuNCwyLjJzNC0wLjgsNS40LTIuMmwtMS40LTEuNEMxNC40LDE2LjYsMTMsMTcuMiwxMS41LDE3LjJ6Ii8+PC9zdmc+");'},"avp-p-cn-fs":{on:'background-image:url("data:image/svg+xml;base64,PHN2ZyB2ZXJzaW9uPSIxLjEiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyIgeG1sbnM6eGxpbms9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkveGxpbmsiIHg9IjBweCIgeT0iMHB4IiB2aWV3Qm94PSIwIDAgMjMgMjMiIHN0eWxlPSJmaWxsOndoaXRlIiB4bWw6c3BhY2U9InByZXNlcnZlIj48cGF0aCBkPSJNMiwxN2g0djRoM3YtN0gyVjE3eiBNNiw2SDJ2M2g3VjJINlY2eiBNMTcsNlYyaC0zdjdoN1Y2SDE3eiBNMTQsMjFoM3YtNGg0di0zaC03VjIxeiIvPjwvc3ZnPg==");',off:'background-image:url("data:image/svg+xml;base64,PHN2ZyB2ZXJzaW9uPSIxLjEiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyIgeG1sbnM6eGxpbms9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkveGxpbmsiIHg9IjBweCIgeT0iMHB4IiB2aWV3Qm94PSIwIDAgMjMgMjMiIHN0eWxlPSJmaWxsOndoaXRlIiB4bWw6c3BhY2U9InByZXNlcnZlIj48cGF0aCBkPSJNMiw5aDNWNWg0VjJIMlY5eiBNNSwxNEgydjdoN3YtM0g1VjE0eiBNMTgsMThoLTR2M2g3di03aC0zVjE4eiBNMTQsMnYzaDR2NGgzVjJIMTR6Ii8+PC9zdmc+");'},"avp-p-cn-next":'background-image:url("data:image/svg+xml;base64,PHN2ZyB2ZXJzaW9uPSIxLjEiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyIgeG1sbnM6eGxpbms9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkveGxpbmsiIHg9IjBweCIgeT0iMHB4IiB2aWV3Qm94PSIwIDAgMjMgMjMiIHN0eWxlPSJmaWxsOndoaXRlIiB4bWw6c3BhY2U9InByZXNlcnZlIj48cG9seWdvbiBwb2ludHM9IjE5LjIsMTEuNSA4LjksNSA4LjksOC4yIDMuOSw1IDMuOSwxOCA4LjksMTQuOCA4LjksMTgiLz48L3N2Zz4=");',"avp-p-cn-prev":'background-image:url("data:image/svg+xml;base64,PHN2ZyB2ZXJzaW9uPSIxLjEiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyIgeG1sbnM6eGxpbms9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkveGxpbmsiIHg9IjBweCIgeT0iMHB4IiB2aWV3Qm94PSIwIDAgMjMgMjMiIHN0eWxlPSJmaWxsOndoaXRlIiB4bWw6c3BhY2U9InByZXNlcnZlIj48cG9seWdvbiBwb2ludHM9IjMuOCwxMS41IDE0LjEsNSAxNC4xLDguMiAxOS4xLDUgMTkuMSwxOCAxNC4xLDE0LjggMTQuMSwxOCIvPjwvc3ZnPg==");',"avp-p-cn-bnext":'background-image:url("data:image/svg+xml;base64,PHN2ZyB2ZXJzaW9uPSIxLjEiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyIgeG1sbnM6eGxpbms9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkveGxpbmsiIHg9IjBweCIgeT0iMHB4IiB2aWV3Qm94PSIwIDAgMjMgMjMiIHN0eWxlPSJmaWxsOndoaXRlIiB4bWw6c3BhY2U9InByZXNlcnZlIj48cGF0aCBkPSJNNC44LDE4bDEwLjMtNi41TDQuOCw1VjE4eiBNMTYuMiw1djEzaDJWNUgxNi4yeiIvPjwvc3ZnPg==");',"avp-p-cn-bprev":'background-image:url("data:image/svg+xml;base64,PHN2ZyB2ZXJzaW9uPSIxLjEiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyIgeG1sbnM6eGxpbms9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkveGxpbmsiIHg9IjBweCIgeT0iMHB4IiB2aWV3Qm94PSIwIDAgMjMgMjMiIHN0eWxlPSJmaWxsOndoaXRlIiB4bWw6c3BhY2U9InByZXNlcnZlIj48cGF0aCBkPSJNMTguMiw1TDcuOCwxMS41TDE4LjIsMThWNXogTTQuOCw1djEzaDJWNUg0Ljh6Ii8+PC9zdmc+");',"avp-p-cn-replay":'background-image:url("data:image/svg+xml;base64,PHN2ZyB2ZXJzaW9uPSIxLjEiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyIgeG1sbnM6eGxpbms9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkveGxpbmsiIHg9IjBweCIgeT0iMHB4IiB2aWV3Qm94PSIwIDAgMjMgMjMiIHN0eWxlPSJmaWxsOndoaXRlIiB4bWw6c3BhY2U9InByZXNlcnZlIj48cGF0aCBkPSJNMTguMiw1TDcuOCwxMS41TDE4LjIsMThWNXogTTQuOCw1djEzaDJWNUg0Ljh6Ii8+PC9zdmc+");',"avp-p-cn-s":{on:'background-image:url("data:image/svg+xml;base64,PHN2ZyB2ZXJzaW9uPSIxLjEiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyIgeG1sbnM6eGxpbms9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkveGxpbmsiIHg9IjBweCIgeT0iMHB4IiB2aWV3Qm94PSIwIDAgMjMgMjMiIHN0eWxlPSJmaWxsOndoaXRlIiB4bWw6c3BhY2U9InByZXNlcnZlIj48cGF0aCBkPSJNMS43LDguNXY2aDMuNWw1LjYsNXYtMTZsLTUuNiw1SDEuN3ogTTE2LjMsMTEuNWMwLTEuOC0xLTMuMy0yLjUtNHY4QzE1LjMsMTQuOCwxNi4zLDEzLjMsMTYuMywxMS41eiBNMTMuOCwyLjJ2Mi42YzIuOSwwLjksNSwzLjUsNSw2LjdzLTIuMSw1LjgtNSw2Ljd2Mi42YzQuMy0wLjksNy41LTQuNyw3LjUtOS4zUzE4LjEsMy4xLDEzLjgsMi4yeiIvPjwvc3ZnPg==");',off:'background-image:url("data:image/svg+xml;base64,PHN2ZyB2ZXJzaW9uPSIxLjEiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyIgeG1sbnM6eGxpbms9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkveGxpbmsiIHg9IjBweCIgeT0iMHB4IiB2aWV3Qm94PSIwIDAgMjMgMjMiIHN0eWxlPSJmaWxsOndoaXRlIiB4bWw6c3BhY2U9InByZXNlcnZlIj48cGF0aCBkPSJNMTksMi4ybC0xLjYsMS42Yy0xLjEtMC44LTIuMy0xLjMtMy42LTEuNnYyLjZDMTQuNCw1LDE1LDUuMywxNS42LDUuNmwtNC44LDQuOFYzLjVsLTUuNiw1SDEuN3Y2aDMuNUw2LDE1LjIgbC0zLjksMy45bDEuOCwxLjhMMjAuOCw0TDE5LDIuMnogTTEzLjgsMTUuNWMxLjUtMC43LDIuNS0yLjIsMi41LTRjMC0wLjMsMC0wLjUtMC4xLTAuOGwtMi40LDIuNFYxNS41eiBNMjAuMSw2LjlsLTEuOSwxLjkgYzAuNCwwLjksMC42LDEuOCwwLjYsMi44YzAsMy4yLTIuMSw1LjgtNSw2Ljd2Mi42YzQuMy0wLjksNy41LTQuNyw3LjUtOS4zQzIxLjMsOS44LDIwLjksOC4yLDIwLjEsNi45eiBNMTAuOCwxOS41di0zLjRMOSwxNy45IEwxMC44LDE5LjV6Ii8+PC9zdmc+");',medium:'background-image:url("data:image/svg+xml;base64,PHN2ZyB2ZXJzaW9uPSIxLjEiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyIgeG1sbnM6eGxpbms9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkveGxpbmsiIHg9IjBweCIgeT0iMHB4IiB2aWV3Qm94PSIwIDAgMjMgMjMiIHN0eWxlPSJmaWxsOndoaXRlIiB4bWw6c3BhY2U9InByZXNlcnZlIj48cGF0aCBkPSJNMS43LDguNXY2aDMuNWw1LjYsNXYtMTZsLTUuNiw1SDEuN3ogTTEzLjgsNy41djhjMS41LTAuNywyLjUtMi4yLDIuNS00UzE1LjMsOC4yLDEzLjgsNy41eiIvPjwvc3ZnPg==");'},"avp-p-cn-sec-bnext":'background-image:url("data:image/svg+xml;base64,PHN2ZyB2ZXJzaW9uPSIxLjEiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyIgeG1sbnM6eGxpbms9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkveGxpbmsiIHg9IjBweCIgeT0iMHB4IiB2aWV3Qm94PSIwIDAgMjIgMjIiIA0KCSB4bWw6c3BhY2U9InByZXNlcnZlIiBmaWxsPSJ3aGl0ZSI+DQo8Zz4NCgk8cG9seWdvbiBwb2ludHM9IjksNCAxNiwxMSA5LDE4IDEyLDIxIDIyLDExIDEyLDEiLz4NCgk8cG9seWdvbiBwb2ludHM9IjMsMjEgMTMsMTEgMywxIDAsNCA3LDExIDAsMTgiLz4NCjwvZz4NCjwvc3ZnPg0K");',"avp-p-cn-sec-bprev":'background-image:url("data:image/svg+xml;base64,PHN2ZyB2ZXJzaW9uPSIxLjEiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyIgeG1sbnM6eGxpbms9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkveGxpbmsiIHg9IjBweCIgeT0iMHB4IiB2aWV3Qm94PSIwIDAgMjIgMjIiIA0KCSB4bWw6c3BhY2U9InByZXNlcnZlIiBmaWxsPSJ3aGl0ZSIgdHJhbnNmb3JtPSJyb3RhdGUoMTgwKSI+DQo8Zz4NCgk8cG9seWdvbiBwb2ludHM9IjksNCAxNiwxMSA5LDE4IDEyLDIxIDIyLDExIDEyLDEiLz4NCgk8cG9seWdvbiBwb2ludHM9IjMsMjEgMTMsMTEgMywxIDAsNCA3LDExIDAsMTgiLz4NCjwvZz4NCjwvc3ZnPg==");',"avp-p-cn-close":'background-image:url("data:image/svg+xml,%3Csvg%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%20xmlns%3Axlink%3D%22http%3A%2F%2Fwww.w3.org%2F1999%2Fxlink%22%20id%3D%22close-Layer_1%22%20xml%3Aspace%3D%22preserve%22%20height%3D%2223%22%20viewBox%3D%220%200%2022.677%2022.677%22%20width%3D%2223%22%20version%3D%221.1%22%20y%3D%220px%22%20x%3D%220px%22%20enable-background%3D%22new%200%200%2022.677%2022.677%22%3E%09%09%3Cpolygon%20fill%3D%22white%22%20points%3D%2219.346%205.421%2017.256%203.332%2011.338%209.25%205.42%203.332%203.332%205.421%209.25%2011.338%203.332%2017.257%205.42%2019.345%2011.338%2013.427%2017.256%2019.345%2019.346%2017.257%2013.428%2011.338%22%20clip-rule%3D%22evenodd%22%20fill-rule%3D%22evenodd%22%2F%3E%3C%2Fsvg%3E")'};for(t in i)if(i.hasOwnProperty(t))if("string"==typeof o[t])o[t]="";else if("object"==typeof o[t]){var a,s=o[t];for(a in s)s.hasOwnProperty(t)&&"string"==typeof s[a]&&(s[a]="")}V(this.container,"avp-p-gui"),this.container.setAttribute("data-avp-mobile",com.aniview.player.Utils.isMobile()),this.container.setAttribute("data-avp-width",n.width),this.container.setAttribute("data-avp-height",n.height),this.container.setAttribute("data-avp-theme",n.theme),this.container.setAttribute("data-theme-color",n.themeColor?n.themeColor:"#ff0000"),this.addElementsTo(this.container,[{class:"avp-p-gui-b",children:[{class:"avp-p-dk avp-pos-abs"},{class:"avp-p-cn avp-pos-abs",children:[{class:"avp-p-cn-l"},{class:"avp-p-cn-m"},{class:"avp-p-cn-r"}]}]},{class:"avp-p-gui-m"},{class:"avp-p-gui-t"}]),this.style.push(document.createElement("style")),this.style[0].setAttribute("type","text/css"),document.getElementsByTagName("head")[0].appendChild(this.style[0]);var r=this.container.getAttribute("data-id"),l=this.sharedGui.getAttribute("data-id");n.customButtons=n.customButtons||{};var d='[data-id="'+r+'"] *{ direction:ltr!important; color:white; }\n[data-id="'+r+'"] *, [data-id="'+r+'"] div, [data-id="'+r+'"] svg{ display:inline-block; margin:0; padding:0; border:0; -webkit-box-sizing:border-box; box-sizing:border-box; }\n[data-id="'+r+'"] div{ background-position:center center; background-repeat:no-repeat; }\n[data-id="'+r+'"] .avp-pos-abs{ position:absolute; }\n[data-id="'+r+'"] .avp-pointer-none{ pointer-events:none; }\n[data-id="'+r+'"] .avp-invisible{ display: none; }\n[data-id="'+r+'"] .avp-hidden{ visibility: hidden; opacity:0; -webkit-opacity:0; pointer-events:none;}\n[data-id="'+r+'"] .avp-p-gui-b{ -webkit-transition:all 0.3s ease-out; -moz-transition:all 0.3s ease-out; -o-transition:all 0.3s ease-out; transition:all 0.3s ease-out; }\n[data-id="'+r+'"] .avp-hideDisplay{ opacity:0; display:none; visibility:hidden; }\n[data-id="'+r+'"] .avp-bgs-c{ -webkit-background-size:cover; background-size:cover; }\n[data-id="'+r+'"].avp-p-gui{ width:'+n.width+"px; height:"+n.height+'px; position:relative; -webkit-touch-callout:none; -webkit-user-select:none; -moz-user-select:none; user-select:none; background-color:rgba(0,0,0,0); }\n[data-id="'+r+'"] .avp-p-ti{ color:#fff; padding:10px 22px; font-size:19px; z-index:10; font-weight: 700; text-shadow: 0 0 2px rgba(0,0,0,1); -webkit-font-smoothing: antialiased; font-family: Roboto, Arial, sans-serif;max-width:75%;  white-space: nowrap; overflow: hidden; text-overflow: ellipsis;}[data-id="'+r+'"] .avp-p-ti.title-left{ left:20px; }\n[data-id="'+r+'"] .avp-p-ti.title-right{ right:20px; }\n[data-id="'+r+'"] .avp-p-dk{ width:100%; bottom:0; pointer-events:none; left:0; }\n[data-id="'+r+'"] .avp-p-cn, [data-id="'+r+'"] .avp-p-cn > div{ display:-webkit-flex; display:-moz-flex; display:flexbox; display:-ms-flexbox; display:flex; }\n[data-id="'+r+'"] .avp-p-cn, [data-id="'+r+'"] .avp-p-cn { z-index:3 }\n[data-id="'+r+'"] .avp-p-cn-l, [data-id="'+r+'"] .avp-p-cn-r{ -webkit-flex:0 0 auto; -moz-flex:0 0 auto; -ms-flex:0 0 auto; flex:0 0 auto; min-width:1px; min-height:1px; max-width:100%; }\n[data-id="'+r+'"] .avp-p-cn-m{ -webkit-flex:1 1 auto; -moz-flex:1 1 auto; -ms-flex:1 1 auto; flex:1 1 auto; min-width:1px; min-height:1px; max-width:100%; position:relative; }\n[data-id="'+r+'"] .avp-p-cn-l > div, [data-id="'+r+'"] .avp-p-cn-r > div{ -webkit-flex:0 0 auto; -moz-flex:0 0 auto; -ms-flex:0 0 auto; flex:0 0 auto; min-width:1px; min-height:1px; max-width:100%; width:30px; height:30px; }\n[data-id="'+r+'"][data-avp-ui-size="s"] .avp-p-cn-l > div, [data-id="'+r+'"][data-avp-ui-size="s"] .avp-p-cn-r > div{ width:26px; height:26px; }\n[data-id="'+r+'"][data-avp-ui-size="xs"] .avp-p-cn-l > div, [data-id="'+r+'"][data-avp-ui-size="xs"] .avp-p-cn-r > div{ width:22px; height:22px; }\n[data-id="'+r+'"][data-avp-ui-size="xxs"] .avp-p-cn-l > div, [data-id="'+r+'"][data-avp-ui-size="xxs"] .avp-p-cn-r > div{ width:22px; height:22px; }\n[data-id="'+r+'"] .avp-p-cn-pp{ -webkit-background-size:80%; background-size:80%; -ms-flex-order:3; flex-order:3; order:3; }\n[data-id="'+r+'"] .avp-p-cn-fs{ -webkit-background-size:70%; background-size:70%; }\n[data-id="'+r+'"] .avp-p-cn-replay, [data-id="'+r+'"] .avp-p-cn-prev, [data-id="'+r+'"] .avp-p-cn-next{ -webkit-background-size:70%; background-size:70%; }\n[data-id="'+r+'"] .avp-p-cn-bnext, [data-id="'+r+'"] .avp-p-cn-bprev{ width:40px; height:40px; top:50%; -webkit-transform:translateY(-50%); transform:translateY(-50%); background-color:rgba(0,0,0,0.5); -webkit-border-radius:50%; border-radius:50%; background-size:50%; border:1px solid white; z-index: 3;}\n[data-id="'+r+'"][data-avp-ui-size="s"] .avp-p-cn-bnext, [data-id="'+r+'"][data-avp-ui-size="s"] .avp-p-cn-bprev{ width:34px; height:34px; }\n[data-id="'+r+'"][data-avp-ui-size="xs"] .avp-p-cn-bnext, [data-id="'+r+'"][data-avp-ui-size="xs"] .avp-p-cn-bprev{ width:28px; height:28px; }\n[data-id="'+r+'"][data-avp-ui-size="xxs"] .avp-p-cn-bnext, [data-id="'+r+'"][data-avp-ui-size="xxs"] .avp-p-cn-bprev{ width:28px; height:28px; }\n[data-id="'+r+'"] .avp-p-cn-bnext{ right:10px; }\n[data-id="'+r+'"] .avp-p-cn-bprev{ left:10px;}\n[data-id="'+r+'"] .avp-p-cn-bp{ width:80px; height:80px; left:50%; top:50%; margin:-40px 0 0 -40px; background-color:rgba(0,0,0,0.3); -webkit-border-radius:50%; border-radius:50%; background-size:50%; -webkit-transition:0.3s opacity; transition:0.3s opacity; z-index: 3}\n[data-id="'+r+'"][data-avp-ui-size="s"] .avp-p-cn-bp{ width:60px; height:60px; margin:-30px 0 0 -30px; }\n[data-id="'+r+'"][data-avp-ui-size="xs"] .avp-p-cn-bp{ width:48px; height:48px; margin:-24px 0 0 -24px; }\n[data-id="'+r+'"][data-avp-ui-size="xxs"] .avp-p-cn-bp{ width:30px; height:30px; margin:-15px 0 0 -15px; }\n[data-id="'+r+'"] .avp-p-cn-sec-bnext{ width:80px; height:80px; left:75%; top:50%; margin:-40px 0 0 -40px; background-color:rgba(0,0,0,0.3); -webkit-border-radius:50%; border-radius:50%; background-size:35%; -webkit-transition:0.3s opacity; transition:0.3s opacity; z-index: 1; '+o["avp-p-cn-sec-bnext"]+'} \n[data-id="'+r+'"][data-avp-ui-size="s"] .avp-p-cn-sec-bnext{ width:50px; height:50px; margin:-24px 0 0 -30px; }\n[data-id="'+r+'"][data-avp-ui-size="xs"] .avp-p-cn-sec-bnext{ width:48px; height:48px; margin:-24px 0 0 -24px; }\n[data-id="'+r+'"][data-avp-ui-size="xxs"] .avp-p-cn-sec-bnext{ width:30px; height:30px; margin:-15px 0 0 -15px; }\n[data-id="'+r+'"] .avp-p-cn-sec-bprev{ width:80px; height:80px; left:25%; top:50%; margin:-40px 0 0 -40px; background-color:rgba(0,0,0,0.3); -webkit-border-radius:50%; border-radius:50%; background-size:35%; -webkit-transition:0.3s opacity; transition:0.3s opacity; z-index: 1; '+o["avp-p-cn-sec-bprev"]+'}\n[data-id="'+r+'"][data-avp-ui-size="s"] .avp-p-cn-sec-bprev{ width:50px; height:50px; margin:-24px 0 0 -30px; }\n[data-id="'+r+'"][data-avp-ui-size="xs"] .avp-p-cn-sec-bprev{ width:48px; height:48px; margin:-24px 0 0 -24px; }\n[data-id="'+r+'"][data-avp-ui-size="xxs"] .avp-p-cn-sec-bprev{ width:30px; height:30px; margin:-15px 0 0 -15px; }\n'+(n.customButtons["avp-p-cn-pp"]?'[data-id="'+r+'"] .avp-p-cn-bp[data-avp-state="play"] .avp-p-cn-pp-play, [data-id="'+r+'"] .avp-p-cn-pp[data-avp-state="play"] .avp-p-cn-pp-play{ display:block; }\n[data-id="'+r+'"] .avp-p-cn-bp[data-avp-state="pause"] .avp-p-cn-pp-pause, [data-id="'+r+'"] .avp-p-cn-pp[data-avp-state="pause"] .avp-p-cn-pp-pause{ display:block }\n[data-id="'+r+'"] .avp-p-cn-pp[data-avp-state="replay"] .avp-p-cn-pp-replay, [data-id="'+r+'"] .avp-p-cn-pp[data-avp-state="replay"] .avp-p-cn-pp-replay{ display:block }\n':'[data-id="'+r+'"] .avp-p-cn-bp[data-avp-state="play"], [data-id="'+r+'"] .avp-p-cn-pp[data-avp-state="play"]{ '+o["avp-p-cn-pp"].play+' }\n[data-id="'+r+'"] .avp-p-cn-bp[data-avp-state="pause"], [data-id="'+r+'"] .avp-p-cn-pp[data-avp-state="pause"]{ '+o["avp-p-cn-pp"].pause+' }\n[data-id="'+r+'"] .avp-p-cn-pp[data-avp-state="replay"], [data-id="'+r+'"] .avp-p-cn-breplay-i{ '+o["avp-p-cn-pp"].replay+" }\n")+'[data-id="'+r+'"] .avp-p-cn-next{ -ms-flex-order:4; flex-order:4; order:4; '+o["avp-p-cn-next"]+' }\n[data-id="'+r+'"] .avp-p-cn-prev{ -ms-flex-order:2; flex-order:2; order:2; '+o["avp-p-cn-prev"]+' }\n[data-id="'+r+'"] .avp-p-cn-bnext{ '+o["avp-p-cn-bnext"]+' }\n[data-id="'+r+'"] .avp-p-cn-replay { '+o["avp-p-cn-replay"]+' }\n[data-id="'+r+'"] .avp-p-cn-bprev{ '+o["avp-p-cn-bprev"]+' }\n[data-id="'+r+'"] .avp-p-cn-replay{ -ms-flex-order:1; flex-order:1; order:1; }\n[data-id="'+r+'"].avp-p-gui.ads-mode .avp-p-cn-bprev,[data-id="'+r+'"].avp-p-gui.ads-mode .avp-p-cn-bnext { display: none; }\n[data-id="'+r+'"].avp-p-gui.ads-mode .avp-p-cn-d,[data-id="'+r+'"].avp-p-gui.ads-mode .avp-p-cn-l,[data-id="'+r+'"].avp-p-gui.ads-mode .avp-p-cn-m { visibility: hidden; }\n'+(n.customButtons["avp-p-cn-fs"]?'[data-id="'+r+'"] .avp-p-cn-fs[data-avp-state="off"] .avp-p-cn-fs-off{ display:block; }\n[data-id="'+r+'"] .avp-p-cn-fs[data-avp-state="on"] .avp-p-cn-fs-on{ display:block }\n':'[data-id="'+r+'"] .avp-p-cn-fs[data-avp-state="off"]{ '+o["avp-p-cn-fs"].off+' }\n[data-id="'+r+'"] .avp-p-cn-fs[data-avp-state="on"]{ '+o["avp-p-cn-fs"].on+"}\n");d+='[data-id="'+r+'"] .avp-p-cn-s-container{ position:relative; -webkit-transition:0.3s all; transition:0.3s all; }\n[data-id="'+r+'"] .avp-p-cn-s{ -webkit-background-size:75%; background-size:75%; background-position:72% center; height:100%; }\n[data-id="'+r+'"][data-avp-ui-size="xs"] .avp-p-cn-s{width:22px;}\n[data-id="'+r+'"][data-avp-ui-size="s"] .avp-p-cn-s{width:26px;}\n[data-id="'+r+'"][data-avp-ui-size="m"] .avp-p-cn-s{width:33px;}\n'+(n.customButtons["avp-p-cn-s"]?'[data-id="'+r+'"] .avp-p-cn-s[data-avp-state="on"] .avp-p-cn-s-on{ display:block }\n[data-id="'+r+'"] .avp-p-cn-s[data-avp-state="off"] .avp-p-cn-s-off{ display:block; }\n[data-id="'+r+'"] .avp-p-cn-s[data-avp-state="medium"] .avp-p-cn-s-medium{ display:block }\n':'[data-id="'+r+'"] .avp-p-cn-s[data-avp-state="on"]{ '+o["avp-p-cn-s"].on+' }\n[data-id="'+r+'"] .avp-p-cn-s[data-avp-state="off"]{ '+o["avp-p-cn-s"].off+' }\n[data-id="'+r+'"] .avp-p-cn-s[data-avp-state="medium"]{ '+o["avp-p-cn-s"].medium+" }\n"),n.caption&&(d+='[data-id="'+l+'"] #av-caption{position:relative;text-align:center;line-height:18px;}\n[data-id="'+l+'"] #av-close-btn-overlay{display:inline-block;position:relative;z-index:9999999;vertical-align:top;bottom:18px}\n[data-id="'+l+'"] #av-close-btn{position:static;width:18px;height:18px;border:none}'),d+='[data-id="'+l+'"] .avp-p-cn-close{ cursor: pointer; -webkit-opacity: 0.8; opacity: 0.8; background-color: rgb(0, 0, 0); background-color: rgba(0, 0, 0, 0.7);z-index: 9999999; position: absolute; top: 0; left: 0; width: 28px; height: 28px; background-color: rgb(50, 50, 50); background-color: rgba(0, 0, 0, 0.4);background-repeat: no-repeat; background-size: 60%; background-position: center; border-color: white; border-style: solid; border-width: 0 1px 1px 0; -webkit-transition: all 0.15s ease-in-out; -moz-transition: all 0.15s ease-in-out; -o-transition: all 0.15s ease-in-out; transition: all 0.15s ease-in-out;'+o["avp-p-cn-close"]+"}",d+='[data-id="'+r+'"] .bottom-logo { -webkit-transition:bottom 0.3s ease; -moz-transition:bottom 0.3s ease; -ms-transition:bottom 0.3s ease; -o-transition:bottom 0.3s ease; transition:bottom 0.3s ease; bottom: 8px; }\n[data-id="'+r+'"] .nonl-container { -webkit-transition:bottom 0.3s ease; -moz-transition:bottom 0.3s ease; -ms-transition:bottom 0.3s ease; -o-transition:bottom 0.3s ease; transition:bottom 0.3s ease; bottom: 8px; }\n[data-id="'+r+'"] .avp-p-gui-b.avp-hidden ~ .avp-p-gui-t .bottom-logo {bottom: 8px; }\n[data-id="'+r+'"] .top-logo { top: 8px; }\n[data-id="'+r+'"][data-avp-theme="solid"] .bottom-logo { bottom: 40px; }\n[data-id="'+r+'"][data-avp-ui-size="s"][data-avp-theme="solid"] .bottom-logo { bottom: 34px; }\n[data-id="'+r+'"][data-avp-ui-size="xs"][data-avp-theme="solid"] .bottom-logo { bottom: 28px; }\n[data-id="'+r+'"][data-avp-ui-size="xxs"][data-avp-theme="solid"] .bottom-logo { bottom: 22px; }\n[data-id="'+r+'"] .bottom-logo { bottom: 50px; }\n[data-id="'+r+'"][data-avp-ui-size="s"] .bottom-logo { bottom: 50px; }\n[data-id="'+r+'"][data-avp-ui-size="xs"] .bottom-logo { bottom: 41px; }\n[data-id="'+r+'"][data-avp-ui-size="xxs"] .bottom-logo { bottom: 48px; }\n[data-id="'+r+'"] .avp-p-gui-b.avp-hidden ~ .nonl-container {bottom: 8px; }\n[data-id="'+r+'"] .nonl-container { bottom: 50px; left: 0;}\n[data-id="'+r+'"][data-avp-ui-size="s"] .nonl-container { bottom: 50px; }\n[data-id="'+r+'"][data-avp-ui-size="xs"] .nonl-container { bottom: 41px; }\n[data-id="'+r+'"][data-avp-ui-size="xxs"] .nonl-container { bottom: 48px; }\n[data-id="'+r+'"] .avp-p-gui-ch { position: absolute; width: 100%; height: 100% }\n            ',com.aniview.player.Utils.isMobile()||(d+='[data-id="'+r+'"] .avp-btn:not(.avp-hidden){ cursor:pointer; -webkit-opacity:0.8; opacity:0.8; }\n[data-id="'+r+'"] .avp-btn:hover{ cursor:pointer; -webkit-opacity:1; opacity:1; }\n            '),this.addStyle(d)},s.prototype.getUISizeClass=function(t,e){var n=t*e,i=1e5,o=5e4;return i<n&&n<=2e5?"s":o<n&&n<=i?"xs":n<o?"xxs":"m"},s.prototype.setSize=function(t,e){this.container.setAttribute("data-avp-width",t),this.container.setAttribute("data-avp-height",e),this.container.style.width=t+"px",this.container.style.height=e+"px";var n=this.getUISizeClass(t,e);""!=n&&this.container.setAttribute("data-avp-ui-size",n)},s.prototype.update=function(t){var e,n=this.content.config;for(e in n)this.config[e]!=n[e]&&(this.config[e]=n[e],this.updateParameter(e,t))},s.prototype.initCloseButtonStyle=function(t){var e,n,i,o,a;t&&t.outside&&(e=this.closeOverlay.style,n="default","string"!=typeof t.position&&(t.position=n),t.position=t.position.toLowerCase(),t.position===n&&(t.position=t.outside?"top-right":"top-left"),i=t.overlayMargin,isNaN(t.overlayMargin)&&(i=30),o=+t.left,a=+t.right,e.padding=i+"px",e.margin=-i+"px",isNaN(o)||(e.marginLeft=o-i+"px"),isNaN(a)||(e.marginRight=a-i+"px"),"top-left"===t.position?e.float="left":e.float="right")},s.prototype.updateSharedParameter=function(){var t=this,e=this.content.config;e.adConfig.closeEvent=!1,e.caption?(this.addElementsTo(".avp-shared-gui",[{id:"av-caption",children:{id:"av-close-btn-overlay",class:"av-pos-"+e.closeButtonStyle.position,children:{id:"av-close-btn",class:"avp-p-cn-close avp-pos-abs avp-btn",value:this.content.config.customButtons["avp-p-cn-close"]}}}],!0,!0),this.closeOverlay=this.getElementByClass("#av-close-btn-overlay",!0),this.initCloseButtonStyle(e.closeButtonStyle),t.content.caption=this.getElementByClass("#av-caption",!0)):this.addElementsTo(".avp-shared-gui",[{class:"avp-p-cn-close avp-pos-abs avp-btn",value:this.content.config.customButtons["avp-p-cn-close"]}],!0),this.getElementByClass(".avp-p-cn-close",!0).onclick=function(){e.closeButton&&!a.isFloating(e)||e.closeButton&&a.isFloating(e)&&t.content.getViewability().inView||!e.floating||!e.floating.closeButton?t.content.closePlayer():e.floating&&e.floating.closeButton&&t.content.stopFloating()}};var n=!(s.prototype.updateParameter=function(t,e){var n,i,o,a,s,r,l,d,c=this,p=this.content.config,u=this.container.getAttribute("data-id"),h="";switch(t){case"autoPlay":this.getElementByClass(".avp-p-cn-bp")||this.addElementsTo(".avp-p-gui-m",{class:"avp-p-cn-bp avp-pos-abs avp-btn",data:{"avp-state":"play"},value:this.content.config.customButtons["avp-p-cn-bp"]});var g=!p.hideGuiOnMouseout;!0===p.autoPlay?this.hideUi(!1,!1,g):this.showElementByClass(".avp-p-cn-bp"),this.setElementDataByClass(".avp-p-cn-bp",{"avp-state":p.autoPlay?"pause":"play"}),this.getElementByClass(".avp-p-cn-bp").onclick=function(t){c.onPlayClick()};break;case"timelineMode":0!=p.timelineMode&&"none"!=p.timelineMode?(n=null,i="avp-hidden","bottom"===p.timelineMode&&"solid"!=p.theme&&(n={"avp-position":p.timelineMode}),this.addElementsTo("solid"!=p.theme?".avp-p-gui-b":".avp-p-cn-m",{class:"avp-p-tl avp-pos-abs",data:n,children:[{class:"avp-p-tl-bg avp-pos-abs"},{class:"avp-p-tl-bf avp-pos-abs"},{class:"avp-p-tl-mt avp-pos-abs "+i,children:[{class:"avp-p-tl-mt-t avp-pos-abs"}]},{class:"avp-p-tl-pr avp-pos-abs"}]}),this.getElementByClass(".avp-p-tl").onclick=function(t){c.onTimelineClick(t)},this.getElementByClass(".avp-p-tl").onmousemove=function(t){c.onTimelineMove(t)},this.getElementByClass(".avp-p-tl").onmouseout=function(t){c.onTimelineOut(t)},"solid"!=p.theme?h+='[data-id="'+u+'"] .avp-p-tl{ left:'+("bottom"===p.timelineMode?"0":"10")+"px; right:"+("bottom"===p.timelineMode?"0":"10")+"px; bottom:"+("bottom"===p.timelineMode?"0":"40")+'px; height:13px; }\n[data-id="'+u+'"][data-avp-ui-size="s"] .avp-p-tl{ bottom:34px; }\n[data-id="'+u+'"][data-avp-ui-size="xs"] .avp-p-tl{ bottom:28px; }\n[data-id="'+u+'"] .avp-p-tl-bg, [data-id="'+u+'"] .avp-p-tl-bf, [data-id="'+u+'"] .avp-p-tl-mt, [data-id="'+u+'"] .avp-p-tl-pr{ height:3px; }\n[data-id="'+u+'"] .avp-p-tl-mt-t{ background:rgba(0,0,0,0.5); }\n[data-id="'+u+'"] .avp-p-tl-mt-t{ left:100%; -webkit-transition:0.2s transform; -moz-transition:0.2s transform; -ms-transition:0.2s transform; -o-transition:0.2s transform; transition:0.2s transform; }\n[data-id="'+u+'"] .avp-p-tl-mt-t:after{ left:0; border-width:3px 3px 0 0; -webkit-transition:0.2s all; -moz-transition:0.2s all; -ms-transition:0.2s all; -o-transition:0.2s all; transition:0.2s all; border-color:rgba(0,0,0,0.5) transparent; }\n[data-id="'+u+'"] .avp-p-tl-mt-t.mt-l50{ -webkit-transform:translateX(-100%); transform:translateX(-100%); }\n[data-id="'+u+'"] .avp-p-tl-mt-t.mt-l50:after{ left:auto; right:0; border-width:3px 0 0 3px; }\n                            ':h+='[data-id="'+u+'"] .avp-p-tl{ left:10px; right:15px; bottom:13px; height:14px; }\n[data-id="'+u+'"][data-avp-ui-size="s"] .avp-p-tl{ bottom:10px; }\n[data-id="'+u+'"][data-avp-ui-size="xs"] .avp-p-tl{ bottom:7px; }\n[data-id="'+u+'"][data-avp-ui-size="xxs"] .avp-p-tl{ bottom:7px; }\n[data-id="'+u+'"] .avp-p-tl-bg, [data-id="'+u+'"] .avp-p-tl-bf, [data-id="'+u+'"] .avp-p-tl-mt, [data-id="'+u+'"] .avp-p-tl-pr{ height:4px; }\n[data-id="'+u+'"] .avp-p-tl-mt-t{ background:black; right:0; -webkit-transform:translateX(50%); transform:translateX(50%); }\n[data-id="'+u+'"] .avp-p-tl-mt-t:after{ left:50%; margin-left:-3px; border-width:3px 3px 0; border-color:black transparent; }\n                            ',h+='[data-id="'+u+'"] .avp-p-tl{ cursor:pointer; }\n[data-id="'+u+'"] .avp-p-tl-bg, [data-id="'+u+'"] .avp-p-tl-bf, [data-id="'+u+'"] .avp-p-tl-mt, [data-id="'+u+'"] .avp-p-tl-pr{ left:0; bottom:'+("bottom"===p.timelineMode?"0":"5")+'px; background:white; }\n[data-id="'+u+'"] .avp-p-tl-bg{ width:100%; background:rgba(255,255,255,0.2); }\n[data-id="'+u+'"] .avp-p-tl-bf{ width:70%; background:rgba(255,255,255,0.4); }\n[data-id="'+u+'"] .avp-p-tl-mt{ width:40%; background:rgba(255,255,255,0.7); }\n[data-id="'+u+'"] .avp-p-tl-mt-t{ pointer-events:none; color:white; font:normal normal normal 11px/22px arial, helvetica, sans-serif; color:white; padding:0 8px; top:-30px; }\n[data-id="'+u+'"] .avp-p-tl-mt-t:after{ content:""; -webkit-box-sizing:border-box; box-sizing:border-box; position:absolute; bottom:-3px; border-style:solid; }\n[data-id="'+u+'"] .avp-p-tl-pr{ width:20%; background:'+this.container.getAttribute("data-theme-color")+"; }\n                        "):this.removeElementByClass(".avp-p-tl");break;case"showBigPrevNext":0!=p.showBigPrevNext?(i=" avp-hidden",this.addElementsTo(".avp-p-gui-m",[{class:"avp-p-cn-bprev avp-pos-abs avp-btn"+i,value:this.content.config.customButtons["avp-p-cn-bprev"]},{class:"avp-p-cn-bnext avp-pos-abs avp-btn"+i,value:this.content.config.customButtons["avp-p-cn-bnext"]}]),this.getElementByClass(".avp-p-cn-bprev").onclick=function(){c.onPrevClick()},this.getElementByClass(".avp-p-cn-bnext").onclick=function(){c.onNextClick()}):(this.removeElementByClass(".avp-p-cn-bprev"),this.removeElementByClass(".avp-p-cn-bnext"));break;case"moveXSec":0!=p.moveXSec?(i="","none"==this.content.playerOwner&&(i=" avp-hidden"),this.addElementsTo(".avp-p-gui-m",[{class:"avp-p-cn-sec-bprev avp-pos-abs avp-btn"+i,value:this.content.config.customButtons["avp-p-cn-sec-bprev"]},{class:"avp-p-cn-sec-bnext avp-pos-abs avp-btn"+i,value:this.content.config.customButtons["avp-p-cn-sec-bnext"]}]),this.getElementByClass(".avp-p-cn-sec-bprev").onclick=function(){c.content.setContentCurrentTimeReduceXSec()},this.getElementByClass(".avp-p-cn-sec-bnext").onclick=function(){c.content.setContentCurrentTimeAddXSec()}):(this.removeElementByClass(".avp-p-cn-sec-bprev"),this.removeElementByClass(".avp-p-cn-sec-bnext"));break;case"showReplay":0!=p.showReplay?(o=p.replayText?p.replayText:"",this.addElementsTo(".avp-p-gui-m",{class:"avp-p-cn-breplay avp-pos-abs avp-btn",children:[{class:"avp-p-cn-breplay-i"},{class:"avp-p-cn-breplay-t",value:o}]}),this.hideElementByClass(".avp-p-cn-breplay"),this.getElementByClass(".avp-p-cn-breplay").onclick=function(){c.content.getContentIndex(c.content.getContent())==c.content.getContentCount()-1?c.content.nextContent():c.onPlayClick()},h+='[data-id="'+u+'"] .avp-p-cn-breplay{ width:auto; height:40px; left:50%; top:50%; padding:0 21px 0 15px; -webkit-transform:translate(-50%,-50%); background-color:rgba(0,0,0,0.5); -webkit-border-radius:20px; border-radius:20px; border:2px solid white; font-size:0; }\n[data-id="'+u+'"] .avp-p-cn-breplay-i{ width:24px; height:34px; display:inline-block; vertical-align:top; }\n                        ',h+=o?'[data-id="'+u+'"] .avp-p-cn-breplay-t{ display:inline-block; height:36px; color:white; font:normal normal normal 13px/35px arial, helvetica, sans-serif; color:white; margin-left:5px; }\n':'[data-id="'+u+'"] .avp-p-cn-breplay-i{ position:absolute; top:50%; left:50%; -webkit-transform:translate(-50%,-50%); transform:translate(-50%,-50%); }\n'):this.removeElementByClass(".avp-p-cn-breplay");break;case"showTimelineReplay":0!=p.showTimelineReplay?(this.addElementsTo(".avp-p-cn-l",{class:"avp-p-cn-replay avp-btn",value:this.content.config.customButtons["avp-p-cn-replay"]}),this.getElementByClass(".avp-p-cn-replay").onclick=function(){c.firstContentPlayClick()}):this.removeElementByClass(".avp-p-cn-replay");break;case"showPrevButton":0!=p.showPrevButton?(this.addElementsTo(".avp-p-cn-l",{class:"avp-p-cn-prev avp-btn",value:this.content.config.customButtons["avp-p-cn-prev"]}),this.getElementByClass(".avp-p-cn-prev").onclick=function(){c.onPrevClick()}):this.removeElementByClass(".avp-p-cn-prev");break;case"showPauseButton":0!=p.showPauseButton?(this.addElementsTo(".avp-p-cn-l",{class:"avp-p-cn-pp avp-btn",data:{"avp-state":"play"},value:this.content.config.customButtons["avp-p-cn-pp"]}),this.getElementByClass(".avp-p-cn-pp").onclick=function(){c.content.getEnded()?c.content.nextContent():c.onPlayClick()}):this.removeElementByClass(".avp-p-cn-pp");break;case"showNextButton":0!=p.showNextButton?(this.addElementsTo(".avp-p-cn-l",{class:"avp-p-cn-next avp-btn",value:this.content.config.customButtons["avp-p-cn-next"]}),this.getElementByClass(".avp-p-cn-next").onclick=function(){c.onNextClick()}):this.removeElementByClass(".avp-p-cn-next");break;case"showDuration":0!=p.showDuration?(x=".avp-p-cn-l","right"===p.durationPosition&&(x=".avp-p-cn-r"),this.addElementsTo(x,{class:"avp-p-cn-d",children:[{class:"avp-p-cn-d-r",value:P},{class:"avp-p-cn-d-s",value:"/"},{class:"avp-p-cn-d-t",value:P}]}),h+='[data-id="'+u+'"] .avp-p-cn-l > .avp-p-cn-d, [data-id="'+u+'"] .avp-p-cn-r > .avp-p-cn-d,\n[data-id="'+u+'"][data-avp-ui-size="s"] .avp-p-cn-l > .avp-p-cn-d, [data-id="'+u+'"][data-avp-ui-size="s"] .avp-p-cn-r > .avp-p-cn-d,\n[data-id="'+u+'"][data-avp-ui-size="xs"] .avp-p-cn-l > .avp-p-cn-d, [data-id="'+u+'"][data-avp-ui-size="xs"] .avp-p-cn-r > .avp-p-cn-d{ width:auto; }\n[data-id="'+u+'"] .avp-p-cn-r > .avp-p-cn-d{ -ms-flex-order:-1; flex-order:-1; order:-1; padding:0 5px 0 0; }\n[data-id="'+u+'"] .avp-p-cn-r > .timeline-logo{ -ms-flex-order:2; flex-order:2; order:2; width: inherit;}\n[data-id="'+u+'"] .avp-p-cn-r > .avp-p-cn-fs{ -ms-flex-order:10; flex-order:10; order:10;}\n[data-id="'+u+'"] .avp-p-cn-d{ padding:0 5px; color:#ccc; font:normal normal normal 11px/30px arial, helvetica, sans-serif; color:white; white-space:nowrap; min-width: 30px;}\n[data-id="'+u+'"][data-avp-ui-size="m"] .avp-p-cn-d{ line-height:30px !important; }\n[data-id="'+u+'"][data-avp-ui-size="s"] .avp-p-cn-d{ line-height:26px !important; }\n[data-id="'+u+'"][data-avp-ui-size="xs"] .avp-p-cn-d{ line-height:22px !important; }\n[data-id="'+u+'"][data-avp-ui-size="xxs"] .avp-p-cn-d{ line-height:22px !important; }\n[data-id="'+u+'"] .avp-p-cn-d-s{ margin:0 4px; }\n                    '):this.removeElementByClass(".avp-p-cn-d");break;case"showSoundButton":0!=p.showSoundButton?(x=".avp-p-cn-l","right"===p.soundButtonPosition&&(x=".avp-p-cn-r"),this.addElementsTo(x,{class:"avp-p-cn-s-container"}),this.addElementsTo(".avp-p-cn-s-container",{class:"avp-p-cn-s avp-btn",data:{"avp-state":"on"},value:this.content.config.customButtons["avp-p-cn-s"]}),0!=p.showVolumeControl&&"ios"!==com.aniview.player.Utils.getOS()&&(h+='[data-id="'+u+'"] .avp-p-cn-s-container{ -webkit-transition-delay:0.1s; transition-delay:0.1s; }\n[data-id="'+u+'"] .avp-p-cn-v{ width:45px; height:3px; max-width:none; outline:none; opacity:0; pointer-events:none; -webkit-transition:0.3s all; transition:0.3s all; -webkit-transition-delay:0s; transition-delay:0s; z-index:1; }\n[data-id="'+u+'"] input[type=range].avp-p-cn-vi{ width:45px; height:3px; -webkit-appearance:none; background-color:#ffffff; outline:none; }\n[data-id="'+u+'"] input[type=range].avp-p-cn-vi::-ms-track{ background-color:#ffffff; outline:none; border:0; }\n[data-id="'+u+'"] input[type=range].avp-p-cn-vi::-ms-fill{ background-color:'+this.container.getAttribute("data-theme-color")+'; outline:none; border:0; }\n[data-id="'+u+'"] input[type=range].avp-p-cn-vi::-webkit-slider-thumb{ -webkit-appearance:none; border:none; width:11px; height:11px; background-color:white; -webkit-border-radius:50%; border-radius:50%; -webkit-box-shadow:0 0 3px 0 rgba(0,0,0,0.2); box-shadow:0 0 3px 0 rgba(0,0,0,0.2); }\n[data-id="'+u+'"] input[type=range].avp-p-cn-vi::-moz-range-thumb{ -webkit-appearance:none; border:none; width:11px; height:11px; background-color:white; -moz-border-radius:50%; border-radius:50%; -moz-box-shadow:0 0 3px 0 rgba(0,0,0,0.2); box-shadow:0 0 3px 0 rgba(0,0,0,0.2); }\n[data-id="'+u+'"] input[type=range].avp-p-cn-vi::-ms-thumb{ -webkit-appearance:none; border:none; width:11px; height:11px; background-color:white; -ms-border-radius:50%; border-radius:50%; -ms-box-shadow:0 0 3px 0 rgba(0,0,0,0.2); box-shadow:0 0 3px 0 rgba(0,0,0,0.2); }\n[data-id="'+u+'"] .avp-p-cn-s-container:hover{ -webkit-transition-delay:0s; transition-delay:0s; }\n[data-id="'+u+'"] .avp-p-cn-s-container:hover .avp-p-cn-v{ opacity:1; pointer-events:initial; -webkit-transition-delay:0.1s; transition-delay:0.1s; }\n                            ',1!=p.volumeControlVertical?h+='[data-id="'+u+'"] .avp-p-cn-s-container:hover{ width:90px !important; }\n[data-id="'+u+'"] .avp-p-cn-v{ bottom:13px; right:10px; }\n                                ':h+='[data-id="'+u+'"] .avp-p-cn-v{ background:rgba(0,0,0,0.4); width:59px; height:23px; bottom:48px; left:50%; margin-left:-30px; -webkit-transform:rotate(270deg); -moz-transform:rotate(270deg); -o-transform:rotate(270deg); -ms-transform:rotate(270deg); transform:rotate(270deg); -webkit-border-radius:3px; border-radius:3px; }\n[data-id="'+u+'"][data-avp-ui-size="xxs"] .avp-p-cn-v{ height: 17px;bottom: 36px;}\n[data-id="'+u+'"][data-avp-ui-size="s"] .avp-p-cn-v{ bottom:45px; }\n[data-id="'+u+'"][data-avp-ui-size="xs"] .avp-p-cn-v{ bottom:42px; }\n[data-id="'+u+'"] input[type=range].avp-p-cn-vi{ top:10px; left:7px; }\n                                ',this.addElementsTo(".avp-p-cn-s-container",{class:"avp-p-cn-v avp-pos-abs"}),a=this.getElementByClass(".avp-p-cn-v"),(s=document.createElement("input")).type="range",s.className="avp-p-cn-vi avp-pos-abs",s.addEventListener("input",function(t){c.onSoundClick(t)},!1),a.appendChild(s)),this.getElementByClass(".avp-p-cn-s").onclick=function(t){c.content.getMuted()?c.content.unmute():c.content.mute()}):this.removeElementByClass(".avp-p-cn-s-container");break;case"showFullScreen":0!=p.showFullScreen?(this.addElementsTo(".avp-p-cn-r",{class:"avp-p-cn-fs avp-btn",data:{"avp-state":"off"},value:this.content.config.customButtons["avp-p-cn-fs"]}),this.getElementByClass(".avp-p-cn-fs").onclick=function(){c.onFullscreenClick()}):this.removeElementByClass(".avp-p-cn-fs");break;case"spinner":"none"!=p.spinner&&0!=p.spinner?(h+='[data-id="'+u+'"] .avp-spinner{ position: absolute; width:80px; height:80px; left:50%; top:50%; margin:-40px 0 0 -40px; color:'+this.container.getAttribute("data-theme-color")+'; }\n[data-id="'+u+'"] .avp-spinner svg{ position:absolute; left:0; height:80px; width:80px; }\n[data-id="'+u+'"][data-avp-ui-size="s"] .avp-spinner{ -webkit-transform:scale(0.75); transform:scale(0.75); }\n[data-id="'+u+'"][data-avp-ui-size="xs"] .avp-spinner{ -webkit-transform:scale(0.6); transform:scale(0.6); }\n[data-id="'+u+'"][data-avp-ui-size="xxs"] .avp-spinner{ -webkit-transform:scale(0.375); transform:scale(0.375); }\n[data-id="'+u+'"] .avp-spinner-i-default circle{ fill:none; stroke:rgba(255,255,255,0.2); stroke-width:4; -webkit-transform-origin:center center; transform-origin:center center; }\n[data-id="'+u+'"] .avp-spinner-i-default circle+circle{ stroke:white; stroke-linecap:round; }\n[data-id="'+u+'"] .avp-spinner[data-avp-state="spinner"] .avp-spinner-i-default circle+circle{ animation:avpSpinnerCircleDash 1.5s ease infinite, avpSpinnerCircleRotate 1.5s linear infinite; }\n[data-id="'+u+'"] .avp-spinner[data-avp-state="next"] .avp-spinner-i-default circle{ stroke-width:3; }\n[data-id="'+u+'"] .avp-spinner[data-avp-state="next"] .avp-spinner-i-default circle+circle{ stroke-dasharray:238 238; stroke-dashoffset:238; animation:avpSpinnerCircleNext '+p.delayBeforeNext+"s linear 1 both; }\n                            @keyframes avpSpinnerCircleNext{ to { stroke-dashoffset:0; } }\n                            @keyframes avpSpinnerCircleDash{ 0% { stroke-dasharray:1,210; stroke-dashoffset:0; } 50% { stroke-dasharray:170,220; stroke-dashoffset:-50; } 100% { stroke-dasharray:170,220; stroke-dashoffset:-210; } }\n                            @keyframes avpSpinnerCircleRotate{ 0% { stroke:white; transform:rotate(0deg); } 100% { stroke:currentColor; transform:rotate(360deg); } }\n                    ",r='                        <svg version="1.1" xmlns="http://www.w3.org/2000/svg" class="avp-spinner-i-default'+("dots"===p.spinner?" avp-hidden":"")+'">                          <circle cx="40" cy="40" r="38"></circle>                          <circle cx="40" cy="40" r="38"></circle>                        </svg>                    ',"dots"===p.spinner&&(r+='                              <svg width="80" height="80" version="1.1" xmlns="http://www.w3.org/2000/svg" class="avp-spinner-i-dots">                                <circle cx="28" cy="40" r="4"></circle>                                <circle cx="40" cy="40" r="4"></circle>                                <circle cx="52" cy="40" r="4"></circle>                              </svg>                        ',h+='[data-id="'+u+'"] .avp-spinner-i-dots circle{ stroke-width:1; stroke:rgba(0,0,0,0.2); fill:rgba(255,255,255,0.5); animation:avpSpinnerDots 1.4s linear infinite both; }\n[data-id="'+u+'"] .avp-spinner-i-dots circle:nth-child(2){ animation-delay:0.2s; }\n[data-id="'+u+'"] .avp-spinner-i-dots circle:nth-child(3){ animation-delay:0.4s; }\n                                @keyframes avpSpinnerDots{ 0% { fill:rgba(255,255,255,0.4); } 20% { fill:white; } 100% { fill:rgba(255,255,255,0.4); } }\n                        '),this.removeElementByClass(".avp-spinner"),this.addElementsTo(this.container,{class:"avp-spinner avp-pos-abs ",data:{"avp-style":"dots"===p.spinner?"dots":"default","avp-state":"spinner"},value:r}),this.hideElementByClass(".avp-spinner"),this.disableElementByClass(".avp-spinner")):this.removeElementByClass(".avp-spinner");break;case"theme":p.theme&&"solid"===p.theme?h+='[data-id="'+u+'"] .avp-p-cn{ height:40px; left:0; right:0; bottom:0; }\n[data-id="'+u+'"][data-avp-ui-size="s"] .avp-p-cn{ height:34px; left:0; right:0; bottom:0; }\n[data-id="'+u+'"][data-avp-ui-size="xs"] .avp-p-cn{ height:28px; left:0; right:0; bottom:0; }\n[data-id="'+u+'"][data-avp-ui-size="xxs"] .avp-p-cn{ height:28px; left:0; right:0; bottom:0; }\n[data-id="'+u+'"] .avp-p-cn-l{ padding-left:5px; }\n[data-id="'+u+'"] .avp-p-cn-r{ padding-right:5px; }\n[data-id="'+u+'"] .avp-p-cn-l > div, [data-id="'+u+'"] .avp-p-cn-r > div{ margin:5px 0; }\n[data-id="'+u+'"][data-avp-ui-size="s"] .avp-p-cn-l > div, [data-id="'+u+'"][data-avp-ui-size="s"] .avp-p-cn-r > div{ margin:4px 0; }\n[data-id="'+u+'"][data-avp-ui-size="xs"] .avp-p-cn-l > div, [data-id="'+u+'"][data-avp-ui-size="xs"] .avp-p-cn-r > div{ margin:3px 0; }\n[data-id="'+u+'"] .avp-p-dk{ height:40px; background:rgb(30,30,30); background:rgba(0,0,0,0.3); }\n                     ':h+='[data-id="'+u+'"] .avp-p-cn{ height:30px; left:10px; right:10px; bottom:10px; }\n[data-id="'+u+'"][data-avp-ui-size="s"] .avp-p-cn{ height:26px; bottom:8px; }\n[data-id="'+u+'"][data-avp-ui-size="xs"] .avp-p-cn{ height:22px; bottom:6px; }\n[data-id="'+u+'"] .avp-p-dk{ height:70px; background:-webkit-linear-gradient(top, transparent 0%, rgba(0, 0, 0, 0.5) 100%); background:-moz-linear-gradient(top, transparent 0%, rgba(0, 0, 0, 0.5) 100%); background:linear-gradient(to bottom, transparent 0%, rgba(0, 0, 0, 0.5) 100%); }\n[data-id="'+u+'"][data-avp-ui-size="s"] .avp-p-dk{ height:62px; }\n[data-id="'+u+'"][data-avp-ui-size="xs"] .avp-p-dk{ height:54px; }\n                    ';break;case"hideGuiOnMouseout":!1!==p.hideGuiOnMouseout?com.aniview.player.Utils.isMobile()?e||(l=com.aniview.player.Utils.parseInt(c.content.config.hideGuiTimeout,0,10),this.hideGuiTimeout=setTimeout(function(){c.hideUi()},1e3*l)):((c=this).mouseMove||(this.mouseMove=function(){V(c.container,"p-hover"),c.state.loading||(clearTimeout(c.hideGuiTimeout),c.showInnerGUI(!0),c.hideGuiTimeout=setTimeout(function(){c.handleGUITimeout()},1e3*c.config.hideGuiTimeout))}),this.mouseLeave||(this.mouseLeave=function(){var t=c.content.config,e=com.aniview.player.Utils.parseInt(t.hideGuiTimeout,0,10);c.hideGuiTimeout=setTimeout(function(){c.handleGUITimeout()},1e3*e)}),this.mouseEnter||(this.mouseEnter=function(){c.state.loading||(clearTimeout(c.hideGuiTimeout),c.showInnerGUI(!0))}),this.container.addEventListener?(this.container.addEventListener("mouseenter",this.mouseEnter),this.container.addEventListener("mouseleave",this.mouseLeave),this.container.addEventListener("mousemove",this.mouseMove)):(this.container.attachEvent("onmouseover",this.mouseEnter),this.container.attachEvent("onmouseout",this.mouseLeave),this.container.attachEvent("onmspointermove",this.mouseMove))):(this.showElementByClass(".avp-p-gui-b"),this.showElementByClass(".avp-hide-gui"),this.hideUi(!1,!1,!0),this.container.addEventListener?(this.container.removeEventListener("mouseenter",this.mouseEnter),this.container.removeEventListener("mouseleave",this.mouseLeave)):(this.container.detachEvent("onmouseover",this.mouseEnter),this.container.detachEvent("onmouseout",this.mouseLeave)));break;case"logo":if(void 0!==p.logo&&!1!==p.logo){var m=[];Array.isArray(p.logo)?m=p.logo:m.push(p.logo);for(var v=0;v<m.length;v++){var f=!1,y=!1,b=[48,48],C="left",w="top",E="",x=".avp-p-gui-t";void 0!==m[v].url&&!1!==m[v].url&&(f=m[v].url),void 0!==m[v].text&&!1!==m[v].text&&(y=m[v].text),void 0!==m[v].size&&!1!==m[v].size&&(b=m[v].size),void 0!==m[v].width&&!1!==m[v].width&&(b[0]=m[v].width);var k,S="avp-logo-"+v+" top-logo avp-pos-abs";"string"==typeof m[v].position&&(S=0<=m[v].position.indexOf("timeline")?(x=".avp-p-cn-r","avp-logo-"+v+" timeline-logo"):(C=0<=m[v].position.indexOf("right")?"right":"left",w=0<=m[v].position.indexOf("bottom")?"bottom":"top","avp-logo-"+v+" "+(0<=m[v].position.indexOf("bottom")?"bottom-logo":"top-logo")+" avp-pos-abs")),y&&(E+='<div class="avp-logo-'+v+'-t">'+y+"</div>"),E+='<div class="avp-logo-'+v+'-i" style="background-image:url('+f+')"></div>',h+='[data-id="'+u+'"] .avp-logo-'+v+"{ "+C+':8px; }\n[data-id="'+u+'"] .avp-logo-'+v+"-t{ font:normal normal normal 11px/"+b[1]+'px arial, helvetica, sans-serif; color:white; display:inline-block; margin:0 4px 0 0; }\n[data-id="'+u+'"] .avp-logo-'+v+"-i{ display:inline-block; vertical-align:middle; width:"+b[0]+"px; height:"+b[1]+"px; -webkit-background-size:contain; background-size:contain; background-position:"+C+" 0 "+w+' 0; }\n[data-id="'+u+'"][data-avp-ui-size="s"] .avp-logo-'+v+"-i{ width:"+.8*b[0]+"px; height:"+.8*b[1]+'px; }\n[data-id="'+u+'"][data-avp-ui-size="xs"] .avp-logo-'+v+"-i{ width:"+.7*b[0]+"px; height:"+.7*b[1]+'px; }\n[data-id="'+u+'"][data-avp-ui-size="xxs"] .avp-logo-'+v+"-i{ width:"+.5*b[0]+"px; height:"+.5*b[1]+"px; }\n                                ",this.addElementsTo(x,{class:S,value:E}),"string"==typeof m[v].clickThrough&&10<m[v].clickThrough.length&&(k=this.getElementByClass(".avp-logo-"+v))&&function(t,e,n){t&&(t.style.zIndex="1",t.style.cursor="pointer",t.onclick=function(){if(n)try{top.location.href=e}catch(t){n=!1}var t;n||(t=M.open(e,"_blank"))&&t.focus&&t.focus()})}(k,m[v].clickThrough,m[v].redirect)}}break;case"showBigPlayOnPause":var A=this.config.showBigPlayOnPause&&this.content.getPaused();this.hideUi(A,!0);var I=0<this.content.getContentDuration(),T=this.content.getContentIndex(this.content.getContent())==this.content.getContentCount()-1,L=!I&&!T;!A||this.isEndOfContent()||L||this.showElementByClass(".avp-p-cn-bp");break;case"customHtml":!1!==p.customHtml&&((d=this.getElementByClass(".avp-p-gui-ch"))&&this.container.removeChild(d),this.addElementsTo(this.container,[{class:"avp-p-gui-ch"}]),(d=this.getElementByClass(".avp-p-gui-ch")).insertAdjacentHTML("beforeend",p.customHtml));break;case"gui":p.gui.usePoster&&this.appendPoster()}this.addStyle(h)});function r(t,e,n){return t<e?t=e:n<t&&(t=n),t}function l(t){if(isNaN(t))return P;t=Math.round(t);var e=Math.round(t)%60,n=Math.floor(t/60)%60,i=Math.floor(t/60/60)%24,o=Math.floor(t/60/60/24),a=[];return 0<o&&a.push(o),0<i&&((i=i.toString()).length<2&&(i="0"+i),a.push(i)),(n=n.toString()).length<2&&(n="0"+n),a.push(n),(e=e.toString()).length<2&&(e="0"+e),a.push(e),a.join(":")}function i(t,e){return t.className.match(new RegExp("(\\s|^)"+e+"(\\s|$)"))}function V(t,e){i(t,e)||t.classList.add(e)}function d(t,e){i(t,e)&&t.classList.remove(e)}s.prototype.showInnerGUI=function(t,e){var n=0<this.content.getContentDuration(),i=this.content.getContentIndex(this.content.getContent())==this.content.getContentCount()-1,o=!n&&!i,a=this.content.getPaused(),s=!1,r=!1,l=t||!1;this.isEndOfContent()||o||(a?(s=this.config.showUiOnPause||this.content.config.showBigPlayOnPause,r=this.config.showUiOnPause||this.content.config.showBigPrevNextOnPause,l=this.content.config.showTimelineOnPause):(s=this.content.config.showBigPlay,r=this.content.config.showBigPrevNext));var d=com.aniview.player.Utils;(e&&d.isMobile()||(t||e)&&a)&&(l=!0);var c,p=this.content.getPaused()&&n&&this.content.getContentCurrentTime()<=.1;isNaN(p)&&(p=!0),p?(c=this.content.getContent(),this.content.ads.getPrerollSlot(c.slots)&&(r=!1)):this.hideUi(s,r,!1),"none"===this.content.playerOwner&&(r=l=!1);var u=this.content.config.hideLogoOnMouseout&&s;this.showUi(!s,!r,!l,u)},s.prototype.setTitle=function(){var t,e,n,i;this.config.showTitle&&(t="",e="avp-p-ti",n=this.getElementByClass("."+e),this.content.getContent().entry&&(this.content.getContent().entry.name&&(t=this.content.getContent().entry.name),n||(i="right"===this.config.showTitle?"title-right":"title-left",this.addElementsTo(".avp-p-gui-t",{class:e+" avp-pos-abs "+i,value:t}),n=this.getElementByClass("."+e))),n&&(n.innerHTML=t))},s.prototype.posterEnabled=function(){var t=!1;try{t=this.content.config.gui.usePoster||!this.config.contentAutoLoad}catch(t){}var e=com.aniview.player.Utils;return e.isMobile()&&"ios"==e.getOS()||t},s.prototype.appendPoster=function(){var t,e;n||(t=this.container.getAttribute("data-id"),n=!0,e='[data-id="'+t+'"] .avp-p-gui-poster{ top: 0; left: 0; z-index: -1; position: absolute; width: 100%; height: 100%; background-position: center center; background-repeat: no-repeat; background-size: contain; }\n',this.addElementsTo(this.container,[{class:"avp-p-gui-poster"}]),this.addStyle(e))},s.prototype.setPoster=function(t){var e=this.getPosterElement();e&&t&&t.poster&&("audio"==t.type&&(this.isAudio=!0),e.style.backgroundImage="url("+t.poster+")")},s.prototype.getPosterElement=function(){try{return this.posterEnabled()?this.getElementByClass(".avp-p-gui-poster"):!1}catch(t){}return!1},s.prototype.hidePoster=function(){var t;this.isAudio||(t=this.getPosterElement())&&(t.style.display="none",t.style.visibility="hidden")},s.prototype.showPoster=function(){var t=this.getPosterElement();t&&(t.style.display="block",t.style.visibility="visible")},s.prototype.setDuration=function(t){var e=this.getElementByClass(".avp-p-cn-d-t");e&&(e.innerHTML=l(t))},s.prototype.addStyle=function(t){var e;t.length&&-1==this.styles.indexOf(t)&&(this.styles.push(t),this.style[0].styleSheet?(e=this.style.length,this.style[e-1].styleSheet.cssText.length?(this.style.push(document.createElement("style")),this.style[e].setAttribute("type","text/css"),document.getElementsByTagName("head")[0].appendChild(this.style[e]),this.style[e].styleSheet.cssText=t):this.style[e-1].styleSheet.cssText=t):this.style[0].appendChild(document.createTextNode(t)))},s.prototype.addElementsTo=function(t,e,n,i){if("string"==typeof t?t=n?this.content.container.querySelector(t):this.getElementByClass(t):t.appendChild||(t=null),t){e instanceof Array||(e=[e]);for(var o=[],a=0;a<e.length;a++){var s=e[a],r={},r=s.element?document.createElement(s.element):document.createElement("div");if(i?t.insertBefore(r,t.firstChild):t.appendChild(r),o.push(r),s.class&&(r.className=s.class),s.id&&(r.id=s.id),s.text&&(r.innerText=s.text),s.data)for(var l in s.data)r.setAttribute("data-"+[l],s.data[l]);s.value&&(r.innerHTML=s.value),s.children&&this.addElementsTo(r,s.children,n)}}},s.prototype.getElementByClass=function(t,e){return e?this.content.container.querySelector(t):this.container.querySelector(t)},s.prototype.setElementDataByClass=function(t,e){var n=this.getElementByClass(t);if(n)for(var i in e)n.setAttribute("data-"+[i],e[i])},s.prototype.disableElementByClass=function(t){var e=this.getElementByClass(t);e&&V(e,"avp-pointer-none")},s.prototype.enableElementByClass=function(t){var e=this.getElementByClass(t);e&&d(e,"avp-pointer-none")},s.prototype.hideElementByClass=function(t){var e=this.getElementByClass(t);e&&V(e,"avp-hidden")},s.prototype.showElementByClass=function(t){var e=this.getElementByClass(t);e&&d(e,"avp-hidden")},s.prototype.hasElementByClass=function(t){return null!=this.getElementByClass(t)},s.prototype.removeElementByClass=function(t,e){var n=this.getElementByClass(t,e);n&&n.parentNode&&n.parentNode.removeChild(n)},s.prototype.onTimelineOut=function(t){this.seekTime=-1,this.hideElementByClass(".avp-p-tl-mt")},s.prototype.onTimelineMove=function(t){var e,n,i,o,a,s;this.seekTime=-1,0<this.content.getContentDuration()&&((e=this.getElementByClass(".avp-p-tl"))&&((i=(t.clientX-(n=e.getBoundingClientRect()).left)/n.width)<0?i=0:1<i&&(i=1),this.seekTime=i*this.content.getContentDuration(),(o=this.getElementByClass(".avp-p-tl-mt"))&&(-1===this.seekTime?this.hideElementByClass(".avp-p-tl-mt"):(this.showElementByClass(".avp-p-tl-mt"),this.content.getContentDuration()?(a=r(this.seekTime/this.content.getContentDuration(),0,1),o.style.width=100*a+"%",(s=this.getElementByClass(".avp-p-tl-mt-t"))&&(s.innerHTML=l(this.seekTime),"solid"!==this.content.config.theme&&(a<.5?d:V)(s,"mt-l50"))):o.style.width="0%"))))},s.prototype.onTimelineClick=function(t){var e,n,i;0<this.content.getContentDuration()&&((e=this.getElementByClass(".avp-p-tl"))&&((i=(t.clientX-(n=e.getBoundingClientRect()).left)/n.width)<0?i=0:1<i&&(i=1),this.content.setContentCurrentTime(i*this.content.getContentDuration()))),this.hideElementByClass(".avp-p-tl-mt")},s.prototype.handleFirstClick=function(t){this.content.config.handleFirstGesture&&!this.content.firstGesture&&(this.content.firstGesture=!0,this.firstVideoGesture(this.content.tag.video.element,t,this.content.tag.video.getUrl(),!0),this.firstVideoGesture(this.content.tag.video.adsElement,t))},s.prototype.firstVideoGesture=function(t,e,n,i){if(t.paused){n=n||t.src,t.removeAttribute("src");try{t.load();t[e]().then(function(){}).catch(function(t){})}catch(t){}t.src=n}else try{t[e]()}catch(t){}},s.prototype.onPlayClick=function(){var t="play",e=this.content.getPaused();e&&(t="pause"),this.handleFirstClick(t),e?(this.hideUi(),this.mobileGuiIsVisible=!1,this.content.play(!0),this.event(s.Events.ContentPlayClicked)):(this.content.pause(!0),this.event(s.Events.ContentPauseClicked))},s.prototype.onPrevClick=function(){this.hideUi(),this.content.prevContent(),this.event(s.Events.ContentPrevClicked)},s.prototype.firstContentPlayClick=function(){this.hideUi(),this.content.startFirstContent()},s.prototype.onNextClick=function(){this.hideUi(),this.content.nextContent(),this.event(s.Events.ContentNextClicked)},s.prototype.onSoundClick=function(t){var e,n;0!=this.config.showVolumeControl?(e=this.getElementByClass(".avp-p-cn-vi"))&&(n=e.value/100,this.content.setVolume(n),0<n?this.content.unmute():this.content.getMuted()?(this.content.setVolume(1),this.content.unmute()):this.content.mute()):this.content.getMuted()?this.content.unmute():this.content.mute()},s.prototype.onFullscreenClick=function(){var t=com.aniview.player.Utils;t.fullscreenEnabled()?this.content.closeFullscreen():(t.isMobile()&&"ios"===t.getOS()&&this.content.unmute(),this.content.openFullscreen())},s.prototype.onFullscreenChange=function(){var t,e,n,i=com.aniview.player.Utils;i.fullscreenEnabled()?(this.config.originalWidth=this.content.getWidth(),this.config.originalHeight=this.content.getHeight(),n=i.fixedFullScreenElement?(e=(t=i.getDeviceDimensionsBasedOnOrientation()).width,t.height):(this.content.container.style.position="absolute",e=screen.width,screen.height),this.content.container.style.left="0px",this.content.container.style.right="0px",this.content.container.style.top="0px",this.content.setSize(e,n)):(this.content.container.style.position="",this.content.container.style.left="",this.content.container.style.right="",this.content.container.style.top="",this.content.setSize(this.config.originalWidth,this.config.originalHeight))},s.prototype.stateLoading=function(){this.state.loading=!0,d(this.container,"ads-mode"),this.state.ads=!1,this.changeSpinnerState(!0),this.hideUi()},s.prototype.statePlaying=function(){this.state.loading=!1,d(this.container,"ads-mode"),this.state.ads=!1,this.changeSpinnerState(!1),this.hideUi()},s.prototype.statePlayingAd=function(){this.hidePoster(),this.state.loading=!1,V(this.container,"ads-mode"),this.state.ads=!0,this.changeSpinnerState(!1)},s.prototype.changeSpinnerState=function(t){this.state.showSpinner!=t&&((this.state.showSpinner=t)?(this.showElementByClass(".avp-spinner"),this.hideUi(!1,!1,!1)):this.hideElementByClass(".avp-spinner"))},s.prototype.isEndOfContent=function(){return this.content.getEnded()},s.prototype.postInit=function(){var t;"ie"!=com.aniview.player.Utils.getBrowser()||(t=this.getElementByClass(".avp-p-cn-breplay"))&&(t.style.marginLeft="-"+t.clientWidth/2+"px",t.style.marginTop="-"+t.clientHeight/2+"px")},s.prototype.event=function(t,e){var n=new CustomEvent(t,{});n.data=e,this.dispatchEvent(n)},s.prototype.listeners={},s.prototype.removeEventListener=function(t,e){if(t in this.listeners)for(var n=this.listeners[t],i=0,o=n.length;i<o;i++)if(n[i]===e)return n.splice(i,1),this.removeEventListener(t,e)},s.prototype.dispatchEvent=function(t){if(t.type in this.listeners)for(var e=this.listeners[t.type],n=0,i=e.length;n<i;n++)e[n].call(this,t)}}(window),function(t){"use strict";t.com||(t.com={}),t.com.aniview||(t.com.aniview={}),t.com.aniview.player||(t.com.aniview.player={}),t.com.aniview.player.events||(t.com.aniview.player.events={});var e=t.com.aniview.player.events.EventDispatcher=function(){this.events=[]};e.prototype.events=null,e.prototype.hasEventListener=function(t){for(var e in this.events){if(this.events[e].type==t)return!0}return!1},e.prototype.addEventListener=function(t,e,n,i){if(!t)throw"Parameter 'type' must not be undefined";if(!e)throw"Parameter 'callback' must not be undefined";if("function"!=typeof e)throw"Parameter 'callback' must be Function";for(var o in this.events){var a=this.events[o];if(a.type==t&&a.callback==e&&a.context==n&&a.once==i)return}this.events.push({type:t,callback:e,context:n,once:i})},e.prototype.removeEventListener=function(t,e,n,i){for(var o in this.events){var a=this.events[o];if(a.type==t&&a.callback==e&&a.context==n&&a.once==i){this.events.splice(o,1);break}}},e.prototype.dispatchEvent=function(t,e){for(var n=0;n<this.events.length;){var i=this.events[n];i.type==t&&(i.context?i.callback.call(i.context,{type:t,data:e,event:i}):i.callback({type:t,data:e,event:i}),i.once&&(this.events.splice(n,1),n--)),n++}}}(window),function(t){"use strict";t.com||(t.com={}),t.com.aniview||(t.com.aniview={}),t.com.aniview.player||(t.com.aniview.player={}),t.com.aniview.player.events||(t.com.aniview.player.events={});var e=t.com.aniview.player.events.Events={};e.ContentSourceChanged="ContentSourceChanged",e.ContentTimeChange="ContentTimeChange",e.ContentLoaded="ContentLoaded",e.ContentStarted="ContentStarted",e.ContentSkippableStateChange="ContentSkippableStateChange",e.ContentSizeChange="ContentSizeChange",e.ContentDurationChange="ContentDurationChange",e.ContentRemainingTimeChange="ContentRemainingTimeChange",e.ContentVolumeChange="ContentVolumeChange",e.ContentVideoStart="ContentVideoStart",e.ContentVideoFirstQuartile="ContentVideoFirstQuartile",e.ContentVideoMidpoint="ContentVideoMidpoint",e.ContentVideoThirdQuartile="ContentVideoThirdQuartile",e.ContentVideoComplete="ContentVideoComplete",e.ContentClickThru="ContentClickThru",e.ContentUserMinimize="ContentUserMinimize",e.ContentUserClose="ContentUserClose",e.ContentPaused="ContentPaused",e.ContentPlaying="ContentPlaying",e.ContentListChanged="ContentListChanged",e.ContentError="error",e.ContentNextClicked="ContentNextClicked",e.ContentPrevClicked="ContentPrevClicked",e.ContentPlayClicked="ContentPlayClicked",e.ContentPauseClicked="ContentPauseClicked",e.AdLoaded="AdLoaded",e.AdStarted="AdStarted",e.AdStopped="AdStopped",e.AdSkipped="AdSkipped",e.AdSkippableStateChange="AdSkippableStateChange",e.AdSizeChange="AdSizeChange",e.AdLinearChange="AdLinearChange",e.AdDurationChange="AdDurationChange",e.AdExpandedChange="AdExpandedChange",e.AdRemainingTimeChange="AdRemainingTimeChange",e.AdVolumeChange="AdVolumeChange",e.AdImpression="AdImpression",e.AdVideoStart="AdVideoStart",e.AdVideoFirstQuartile="AdVideoFirstQuartile",e.AdVideoMidpoint="AdVideoMidpoint",e.AdVideoThirdQuartile="AdVideoThirdQuartile",e.AdVideoComplete="AdVideoComplete",e.AdClickThru="AdClickThru",e.AdInteraction="AdInteraction",e.AdUserAcceptInvitation="AdUserAcceptInvitation",e.AdUserMinimize="AdUserMinimize",e.AdUserClose="AdUserClose",e.AdPaused="AdPaused",e.AdPlaying="AdPlaying",e.AdLog="AdLog",e.AdBid="AdBid",e.AdError="AdError",e.AdClosed="AdClosed",e.VPAIDLoadError="VPAIDLoadError",e.InitContentsSuccess="InitContentsSuccess",e.InitContentsError="InitContentsError",e.ContentCustomMetadataSuccess="ContentCustomMetadataSuccess",e.ContentCustomMetadataError="ContentCustomMetadataError",e.Playlist={PlaylistNextClicked:"PlaylistNextClicked",PlaylistPrevClicked:"PlaylistPrevClicked",PlaylistItemClicked:"PlaylistItemClicked",UpNextAppears:"UpNextAppears",UpNextDisappears:"UpNextDisappears"}}(window),function(t){"use strict";t.com||(t.com={}),t.com.aniview||(t.com.aniview={}),t.com.aniview.player||(t.com.aniview.player={}),t.com.aniview.player.plugins||(t.com.aniview.player.plugins={});var e=t.com.aniview.player.plugins.AVCms=function(t,e){this.player=t};e.prototype.events=null,e.prototype.player=null,e.prototype.dispatcher=null;var s="embed.avplayer.com";e.prototype.setCmsMetadata=function(e){var n,i=this;e||reject({message:"No content",code:500}),e.kId&&i.player.config.showTitle&&(e.entry?i.player.changeGUI({contentTitle:e.entry.name}):(e.entry={},(n=new XMLHttpRequest).onreadystatechange=function(){var t;4===this.readyState&&(200===this.status?(t=JSON.parse(n.responseText)).data&&t.data.name&&(e.entry=t.data,i.player.changeGUI({contentTitle:t.data.name}),i.player.dispatcher.event(com.aniview.player.events.Events.ContentCustomMetadataSuccess,t.data)):i.player.dispatcher.event(com.aniview.player.events.Events.ContentCustomMetadataError,{message:"Could not get entry",code:500}))},n.open("GET","//"+s+"/api/video/cmsentry/"+e.kId+"?instanceId="+e.iId+"&format=json",!0),n.send()))},e.prototype.setPlaylist=function(){var o,a=this,t=a.player.config.content.kId,e=a.player.config.content.iId;t&&e&&((o=new XMLHttpRequest).onreadystatechange=function(){var t,e,n,i;4===this.readyState&&(200===this.status&&(t=JSON.parse(o.responseText)).data&&t.data.data?(e=a.player.adConfig,n=t.data.data,i={contents:n=a.player.mergeAdConfigs(n,e),async:!0},a.player.dispatcher.event(com.aniview.player.events.Events.InitContentsSuccess,i)):(i={message:"No playlist",code:500},a.player.dispatcher.event(com.aniview.player.events.Events.InitContentsError,i)))},o.open("GET","//"+s+"/api/video/cmsplaylist/"+t+"/entries/"+e+"?instanceId="+e+"&format=json&player=true",!0),o.send())}}(window),function(r){"use strict";r.com||(r.com={}),r.com.aniview||(r.com.aniview={}),r.com.aniview.player||(r.com.aniview.player={}),r.com.aniview.player.plugins||(r.com.aniview.player.plugins={});var t=r.com.aniview.player.plugins.KalturaAnalytics=function(t,e){this.player=t,function(t,e){for(var n=["endpoint","api","uiConfID","partnerID","sessionID"],i=0;i<n.length;i++)e[n[i]]&&(t.config[n[i]]=e[n[i]])}(this,e),this.config.sessionID=t.getSessionId(),this.registerEvents()};function l(t){var e,n=[];for(e in t)t.hasOwnProperty(e)&&n.push(encodeURIComponent(e)+"="+encodeURIComponent(t[e]));return n.join("&")}Date.now=Date.now||function(){return+new Date},t.prototype.player=null,t.prototype.config={endpoint:"videostats.panda-os.com",api:"api_v3/index.php",uiConfID:11,partnerID:11,sessionID:11,objectType:"KalturaStatsEvent",apiVersion:3.1,expiry:86400,format:1,ignoreNull:1},t.prototype.eventMap={ContentVideoStart:2,ContentVideoFirstQuartile:4,ContentVideoMidpoint:5,ContentVideoThirdQuartile:6,ContentVideoComplete:7},t.prototype.registerEvents=function(){var o=this;this.player.dispatcher.addEventListener(r.com.aniview.player.video.VideoTag.Events.ContentVideoStart,function(t){var e,n,i=o.eventMap[t.type];isNaN(i)||(e=o.player.getContent(),n={"event:duration":Math.floor(o.player.getContentDuration()),"event:entryId":e.kId},o.sendPixel(i,n),2===i&&o.sendPixel(3,n))})},t.prototype.sendPixel=function(t,e){e=e||{};var n="https://"+this.config.endpoint+"/"+this.config.api+"?",i=r.com.aniview.player.Utils.getTrueDomain(),o={"event:eventType":t,"event:uiconfId":this.config.uiConfID,"event:partnerId":this.config.partnerID,"event:sessionID":this.config.sessionID,"event:referrer":i,service:"stats",action:"collect",apiVersion:this.config.apiVersion,expiry:this.config.expiry,format:this.config.format,ignoreNull:this.config.ignoreNull},a={"event:objectType":this.config.objectType,"event:isFirstInSession":!1};try{o["event:eventTimestamp"]=Date.now()}catch(t){}var s=n+l(o)+"&"+l(e)+"&"+l(a);(new Image).src=s}}(window),function(t){"use strict";t.com||(t.com={}),t.com.aniview||(t.com.aniview={}),t.com.aniview.player||(t.com.aniview.player={}),t.com.aniview.player.video||(t.com.aniview.player.video={});var n=t.com.aniview.player.Utils,i=t.com.aniview.player.video.BaseVideo=function(){};i.prototype.element=null,i.prototype.eventCallback=null,i.prototype.init=function(t,e,n){this.element=n||this.createElement(),this.element.src=t,this.srcUrl=t},i.prototype.createElement=function(){return document.createElement("video")},i.prototype.event=function(t,e){this.eventCallback&&this.eventCallback(t,e)},i.prototype.dispose=function(){this.element&&(this.element=null)},i.prototype.elementEventCallbacks={},i.prototype.initEvents=function(){if(!this.eventsInited){this.eventsInited=!0;var n=com.aniview.player.events.Events;this.started=!1,this.isStarted=!1;var t,i=this,o=0,a={},e="ended",s="click",r="durationchange",l="error",d="volumechange",c="playing",p="pause",u="timeupdate";for(t in this.elementEventCallbacks[e]=function(){i.element&&!a[n.ContentVideoComplete]&&(a[n.ContentVideoComplete]=!0,i.event(n.ContentVideoComplete))},this.elementEventCallbacks[s]=function(){i.element&&i.event(n.ContentClickThru)},this.elementEventCallbacks[r]=function(t){i.element&&i.event(n.ContentDurationChange,i.element.duration)},this.elementEventCallbacks[l]=function(t){if(i.element){if(i.element.error){if(!i.element.error.message)try{i.element.error.message=""}catch(t){}i.element.error.errorInfo="BaseVideo.js - this.elementEventCallbacks[videoEvents.error]"}i.contentErrorSent||(i.contentErrorSent=!0,i.event(n.ContentError,i.element.error))}},this.elementEventCallbacks[d]=function(){i.element&&i.event(n.ContentVolumeChange,i.element.volume)},this.elementEventCallbacks[c]=function(){i.element&&(i.event(n.ContentPlaying),i.isStarted||(i.isStarted=!0,i.event(n.ContentVideoStart)))},this.elementEventCallbacks[p]=function(){i.element&&!i.element.ended&&i.event(n.ContentPaused)},this.elementEventCallbacks[u]=function(){var t,e;i.element&&(t=i.element.duration,e=i.element.currentTime,o<.25*t&&.25*t<=e?a[n.ContentVideoFirstQuartile]||(a[n.ContentVideoFirstQuartile]=!0,i.event(n.ContentVideoFirstQuartile)):o<.5*t&&.5*t<=e?a[n.ContentVideoMidpoint]||(a[n.ContentVideoMidpoint]=!0,i.event(n.ContentVideoMidpoint)):o<.75*t&&.75*t<=e&&(a[n.ContentVideoThirdQuartile]||(a[n.ContentVideoThirdQuartile]=!0,i.event(n.ContentVideoThirdQuartile))),o=e,i.event(n.ContentTimeChange,o))},this.elementEventCallbacks)this.element.addEventListener(t,this.elementEventCallbacks[t])}},i.prototype.removeAllEventListeners=function(){for(var t in this.elementEventCallbacks)this.element.removeEventListener(t,this.elementEventCallbacks[t])},i.prototype.getPaused=function(){return this.element.paused},i.prototype.getPauseRequested=function(){return this.pauseRequested},i.prototype.getEnded=function(){return this.element.ended},i.prototype.getIsStarted=function(){return this.isStarted},i.prototype.play=function(){var t,e;this.pauseRequested=!1,this.element&&(!n.isMobile()||"ios"!==n.getOS()||(t=n.getOSVersion())&&"9"===t.major&&this.element.load(),-1!==n.getOS().indexOf("tizen")&&(this.element.calledload||(this.element.calledload=!0,this.element.load())),this.initEvents(),(e=this.element.play())&&"function"==typeof e.then&&e.then(function(){n.log("Video promise - start playing",n.LOG_LEVEL.DEBUG)}).catch(function(t){n.log("Exception caught while trying to play video: ",n.LOG_LEVEL.DEBUG),n.log(t,n.LOG_LEVEL.ERR)}))},i.prototype.pause=function(){this.pauseRequested=!0,this.element.pause()},i.prototype.getVolume=function(){return this.element.volume},i.prototype.setVolume=function(t){(this.element.volume=t)&&this.element.removeAttribute("muted")},i.prototype.getMuted=function(){return this.element.muted},i.prototype.mute=function(){this.element.muted=!0},i.prototype.unmute=function(){this.element.muted=!1,this.element.removeAttribute("muted")},i.prototype.getDuration=function(){return this.element.duration},i.prototype.getUrl=function(){return this.srcUrl?this.srcUrl:this.element.src},i.prototype.getCurrentTime=function(){return this.getIsStarted()?this.element.currentTime:0},i.prototype.setCurrentTime=function(t){this.element.currentTime=t},i.prototype.setCurrentTimeAddXSec=function(t){this.getRemainingTime()>t&&(this.element.currentTime+=t)},i.prototype.setCurrentTimeReduceXSec=function(t){this.element.currentTime>=t&&(this.element.currentTime-=t)},i.prototype.getBufferTime=function(){return this.element.buffered&&this.element.buffered.length?this.element.buffered.end(this.element.buffered.length-1):this.getCurrentTime()},i.prototype.getRemainingTime=function(){return this.element.duration-this.element.currentTime},i.prototype.toString=function(){return"BaseVideo"},i.prototype.setAutoPlay=function(){this.element.setAttribute("autoplay",!0)},i.extends=function(t){for(var e in i.prototype)null==t[e]?t[e]=i.prototype[e]:t["super_"+e]=i.prototype[e]}}(window),function(o){"use strict";o.com||(o.com={}),o.com.aniview||(o.com.aniview={}),o.com.aniview.player||(o.com.aniview.player={}),o.com.aniview.player.video||(o.com.aniview.player.video={});var t=o.com.aniview.player.video.DASHVideo=function(t){com.aniview.player.video.BaseVideo.extends(this)};t.prototype.player=null,t.prototype.ready=!1,t.prototype.played=!1,t.prototype.createElement=function(){var t=this.super_createElement();return com.aniview.player.Utils.isMobile()&&t.setAttribute("autoplay",!0),t},t.prototype.init=function(t,e,n){this.element=n||this.createElement();var i=this;o.dashjs?i.initDASH(t):com.aniview.player.Utils.loadScript(e,function(){i.initDASH(t)})},t.prototype.initDASH=function(t){this.player=dashjs.MediaPlayer().create(),this.player.initialize(this.element,t,!1),this.player.getDebug().setLogToBrowserConsole(!1),this.ready=!0;var e=this;this.player.on(dashjs.MediaPlayer.events.STREAM_INITIALIZED,function(){e.played&&e.play()})},t.isSupported=function(){return o.MediaSource=o.MediaSource||o.WebKitMediaSource,o.MediaSource&&"function"==typeof o.MediaSource.isTypeSupported&&o.MediaSource.isTypeSupported('video/mp4; codecs="avc1.42E01E,mp4a.40.2"')},t.prototype.dispose=function(){this.super_dispose(),this.player&&(this.player.reset(),this.player=null)},t.prototype.play=function(){this.pauseRequested=!1,this.played=!0,this.ready&&(this.initEvents(),this.element.play())},t.prototype.pause=function(){this.pauseRequested=!0,this.played=!1,this.ready&&this.element.pause()},t.prototype.toString=function(){return"DASHVideo"}}(window),function(t){"use strict";t.com||(t.com={}),t.com.aniview||(t.com.aniview={}),t.com.aniview.player||(t.com.aniview.player={}),t.com.aniview.player.video||(t.com.aniview.player.video={});var e=t.com.aniview.player.video.ErrorVideo=function(t){com.aniview.player.video.BaseVideo.extends(this),this.element=document.createElement("div"),this.element.innerText="This video not supported for this browser",this.element.src=t};e.prototype.element=null,e.prototype.dispose=function(){this.element&&(this.element=null)},e.prototype.init=function(t){},e.prototype.getPaused=function(){return!0},e.prototype.getPauseRequested=function(){return!0},e.prototype.play=function(){},e.prototype.pause=function(){},e.prototype.getVolume=function(){return 0},e.prototype.setVolume=function(t){},e.prototype.getMuted=function(){return!0},e.prototype.mute=function(){},e.prototype.unmute=function(){},e.prototype.getDuration=function(){return 0},e.prototype.getCurrentTime=function(){return 0},e.prototype.setCurrentTime=function(t){},e.prototype.getBufferTime=function(){return 0},e.prototype.getRemainingTime=function(){return 0},e.prototype.toString=function(){return"ErrorVideo"}}(window),function(a){"use strict";a.com||(a.com={}),a.com.aniview||(a.com.aniview={}),a.com.aniview.player||(a.com.aniview.player={}),a.com.aniview.player.video||(a.com.aniview.player.video={});var s=a.com.aniview.player.Utils,t=a.com.aniview.player.video.HLSVideo=function(t,e){this.shouldPause=!1,com.aniview.player.video.BaseVideo.extends(this),e&&(this.publisherId=t)};t.prototype.player=null,t.prototype.ready=!1,t.prototype.state="none",t.prototype.started=!1,t.prototype.errorsRecovrTries=0,t.prototype.maxRecoverTries=2,t.prototype.createElement=function(){var t=this.super_createElement();return com.aniview.player.Utils.isMobile(),t},t.prototype.sendContentError=function(t){var e;this.contentErrorSent||(this.contentErrorSent=!0,t&&(e={error:t}),this.event(a.com.aniview.player.video.VideoTag.Events.ContentError,e))},t.prototype.init=function(t,e,n,i){this.element=n||this.createElement(),this.libraryHLS=e,this.libraryConfig=i,this.srcUrl=t,this.contentErrorSent=!1;var o=this;a.Hls?o.initHLS(t):com.aniview.player.Utils.loadScript(this.libraryHLS,function(){o.initHLS(t)})},t.prototype.event=function(t,e){this.eventCallback&&this.eventCallback(t,e)},t.prototype.srcChanged=function(t){return!this.player||""!==t&&this.player.url!=t},t.prototype.initHLS=function(n){var i,t,e,o=this;this.publisherId&&(i="type=ec&pid="+this.publisherId,t=function(e,t){e.origOpen||(e.origOpen=e.open,e.open=function(){var t;arguments[1]&&(t=-1<arguments[1].indexOf("?")?"&"+i:"?"+i,arguments[1]=arguments[1]+t),e.origOpen.apply(e,arguments)})}),Hls.isSupported()&&this.srcChanged(n)&&(o.log("Instantiating hls player."),this.destroy(),o.libraryConfig||(o.libraryConfig={}),e={enableWorker:!0,startLevel:o.libraryConfig.startLevel||-1,autoLoadStart:!1,maxBufferLength:o.libraryConfig.maxBufferLength||9,capLevelToPlayerSize:o.libraryConfig.capLevelToPlayerSize||!1,xhrSetup:t},o.libraryConfig.maxMaxBufferLength&&(e.maxMaxBufferLength=o.libraryConfig.maxMaxBufferLength),this.player=new Hls(e),this.player.attachMedia(this.element),this.player.on(Hls.Events.MEDIA_ATTACHED,function(){o.log("Hls.Events.MEDIA_ATTACHED"),o.player.url!=n&&o.player.loadSource(n)}),this.player.on(Hls.Events.MANIFEST_PARSED,function(){if(o.libraryConfig)for(var t in o.libraryConfig)o.libraryConfig.hasOwnProperty(t)&&(o.player[t]=o.libraryConfig[t]);o.log("Hls.Events.MANIFEST_PARSED"),o.ready=!0,o.event(a.com.aniview.player.video.VideoTag.Events.ContentReady),"play"==o.state?(o.log("Hls.play"),o.play()):o.log("that.played == false")}),this.player.on(Hls.Events.ERROR,function(t,e){if(e.fatal){if(1<o.errorsRecovrTries)o.pause(),o.sendContentError(),o.log(e.type+": "+e.details,s.LOG_LEVEL.ERR);else switch(e.type){case Hls.ErrorTypes.NETWORK_ERROR:o.log("fatal network error encountered, try to recover"),e.details!==Hls.ErrorDetails.MANIFEST_LOAD_ERROR&&e.details!==Hls.ErrorDetails.MANIFEST_LOAD_TIMEOUT&&e.details!==Hls.ErrorDetails.MANIFEST_PARSING_ERROR||o.player.loadSource(n),o.player.startLoad();break;case Hls.ErrorTypes.MEDIA_ERROR:0===o.errorsRecovrTries?(o.log("fatal media error encountered, try to recover"),o.player.recoverMediaError(),o.errorsRecovrTries++):1===o.errorsRecovrTries&&(o.log("fatal media error encountered, try to recover"),o.player.swapAudioCodec(),o.player.recoverMediaError(),o.errorsRecovrTries++);break;default:o.pause(),o.sendContentError(),o.log(e.type+": "+e.details,s.LOG_LEVEL.ERR)}o.errorsRecovrTries++}}))},t.isSupported=function(){return a.MediaSource=a.MediaSource||a.WebKitMediaSource,a.MediaSource&&"function"==typeof a.MediaSource.isTypeSupported&&a.MediaSource.isTypeSupported('video/mp4; codecs="avc1.42E01E,mp4a.40.2"')},t.prototype.destroy=function(){this.player&&(this.log("Destroying HLS object",s.LOG_LEVEL.DEBUG),this.player.destroy(),this.player=null)},t.prototype.dispose=function(){this.super_dispose(),this.destroy()},t.prototype.setState=function(t){this.state=t},t.prototype.play=function(){if(this.pauseRequested=!1,this.setState("play"),this.ready&&(!this.playResult||this.playResult.done)){try{this.shouldPause=!1,this.initEvents(),this.playResult=this.element.play()}catch(t){this.log("Video play error. "+t,a.com.aniview.player.Utils.LOG_LEVEL.ERR)}var n,i;this.playResult&&"function"==typeof this.playResult.then&&(n=this,i=setTimeout(function(){n.sendContentError()},2e4),this.playResult.then(function(){n.shouldPause&&(n.shouldPause=!1,n.element.pause()),n.log("Video promise - start playing",s.LOG_LEVEL.DEBUG),clearTimeout(i),n.playResult.done=!0}).catch(function(t){var e;n.log("Exception caught while trying to play video: "+t,s.LOG_LEVEL.DEBUG),t&&"NotAllowedError"===t.name&&0==n.element.muted&&(n.element.muted=!0,e="NotAllowedError"),clearTimeout(i),n.playResult.done=!0,n.sendContentError(e)}))}},t.prototype.log=function(t,e){var n=com.aniview.player.Utils,i="unknown";try{i=this.element&&this.element.id}catch(t){}n.log("HLSVideo::"+i+" - "+t,e)},t.prototype.pause=function(){this.pauseRequested=!0,this.played=!1,this.ready&&(!this.playResult||this.playResult&&this.playResult.done?this.element.pause():this.shouldPause=!0)},t.prototype.toString=function(){return"HLSVideo"}}(window),function(e){"use strict";e.com||(e.com={}),e.com.aniview||(e.com.aniview={}),e.com.aniview.player||(e.com.aniview.player={}),e.com.aniview.player.video||(e.com.aniview.player.video={});var t=e.com.aniview.player.video.ImageVideo=function(t){com.aniview.player.video.BaseVideo.extends(this),this.publisherId=t};t.prototype.started=!1,t.prototype.disposed=!1,t.prototype.dispose=function(){this.super_dispose(),this.disposed=!0},t.prototype.play=function(){this.started||(this.started=!0,this.element.startAd()),this.super_play()},t.prototype.toString=function(){return"ImageVideo"};function ot(t){return t&&t.complete&&0<t.width&&0<t.height}function at(t,e,n,i,o){var a;null!=Object.defineProperty?(a={enumerable:null==o||o,configurable:!0},n&&(a.get=n),i&&(a.set=i),Object.defineProperty(t,e,a)):(n&&null!=t.__defineGetter__&&t.__defineGetter__(e,n),i&&null!=t.__defineSetter__&&t.__defineSetter__(e,i))}t.prototype.createElement=function(t){this.config={hd:!0,publisherid:this.publisherId?this.publisherId:"55b78633181f4603178b4568",cdnurl:"http://data1.aniview.com/",width:300,height:250};var l=document.createElement("div");l.style.position="absolute",l.style.top="0px",l.style.left="0px",l.style.width="100%",l.style.height="100%",l.style.display="block",l.addEventListener("mousedown",function(t){{var e,n,i,o;T&&0<l.duration&&(e=t.pageX-l.offsetLeft,n=t.pageY-l.offsetTop,(i=nt()).x<e&&e<i.x+i.width&&i.y<n&&n<i.y+i.height&&((o=(e-i.x)/i.width)<0?o=0:1<o&&(o=1),l.currentTime=o*l.duration))}});var d=this,c=null,e=1,p=!0,n=!1,u=0,s=0,i=0,h=null,o=!0,g=!1,a=0,r=0,m=0,v=0,f=1,y=1,b=!1,C=null,w=null,E=!1,x=!1,k=null,S=Date.now(),A=0,I=!1,T=!1,L=0,M=!1,P=!1,V=null,B=0,O=0,z=!1,N=!1;l.__id=Date.now();var D=!1,U=!1,R=!1,j=!1,F=d.config.cdnurl,_=null,G=document.createElement("audio"),H=document.createElement("img"),X=document.createElement("canvas");function W(){var t=null;var e=l.children;e&&0<e.length&&(!l.src||""==l.src)&&(t=function(t){for(var e="",n=0;n<t.length;n++)t[n].src&&(-1<t[n].src.indexOf("wmv")||-1<t[n].src.indexOf("webm")||-1<t[n].src.indexOf("mp4")||-1<t[n].src.indexOf("flv")||-1<t[n].src.indexOf("3gpp"))&&(e=t[n].src,n=t.length);return e}(e)),t&&""!=t||(t=l.getAttribute("src")),t&&""!=t||(t=l.src),t&&(l.src=t)}var q=setInterval(W,250),Z={startAd:function(){D=!0},load:function(){W(),null!=l.src&&""!=l.src&&(U||(P=!(M=!(I=!(U=!(A=0)))),V=null,Q()))},init:function(t){R=t||!1,n=!(p=!(c=null)),g=!(o=!(h=null)),v=m=r=a=i=s=u=0,x=E=b=!(y=f=e=1),k=w=C=null,S=Date.now(),O=B=L=A=0,j=U=D=N=z=P=M=T=I=!1,_=V=null},play:function(){W(),null!=l.src&&""!=l.src&&(g=!0,D?o&&(this.asid,o=!1,u>=this.duration&&(u=0),x&&E&&!p&&G.play(),1==z&&(Y("play"),Y("playing")),this.enterFrame=function(){var t,e;d.disposed||(t=Date.now(),e=p?100:t-S,function(){var t=0==a?l.clientWidth:a,e=0==r?l.clientHeight:r;t=Math.floor(t),e=Math.floor(e);var n=!1;X.width!=t&&(X.width=t,n=!0);X.height!=e&&(X.height=e,n=!0);n&&Y("resize")}(),it(),$(),function(t){{var e;0<l.duration&&(o||(e=!1,M?(e=et(4))&&(M=!1):(e=et(1))||(M=!0),x&&!p?e?(G.paused&&!G.ended&&G.play(),G.currentTimeLast&&(G.currentTimeLast==G.currentTime&&(O+=t),G.currentTimeLast<G.currentTime&&(O=0)),G.currentTimeLast=G.currentTime,(u=G.currentTime+O)>l.duration&&(u=l.duration)):G.paused||G.pause():e&&(u+=t*y)),!o&&u>=l.duration&&(b?(tt(0),l.play()):(tt(l.duration),Y("timeupdate"),N=!0,Y("ended"),l.pause())),o&&0==u&&H.src?function(){if(ot(H)){var t=Math.min(X.width/H.width,X.height/H.height),e=H.width*t,n=H.height*t;try{X.getContext("2d").drawImage(H,0,0,H.width,H.height,.5*(X.width-e),.5*(X.height-n),e,n)}catch(t){}}}():(function(){var t=u;p||(t+=.4);if(k&&k.length&&V){var e=Math.floor(t);if(null!=k[e]){var n=k[e].image;if(ot(n)){var i=Math.floor(10*(t-e)),o=e+"_"+i;if(h!=o){h=o;var a=Math.round(n.height/V.height);if(i<a){var s=Math.min(X.width/V.width,X.height/V.height),r=V.width*s,l=V.height*s;1!=d.config.fullframe&&!R||(r=d.config.width,l=d.config.height),X.width<X.height&&(r=X.width,l=X.height);try{0==z&&(z=!0,Y("play"),Y("playing")),X.getContext("2d").drawImage(n,0,V.height*i,V.width,V.height-1,.5*(X.width-r),.5*(X.height-l),r,l)}catch(t){}}}}}}}(),function(){if(T&&0<l.duration){var t=nt();try{var e=X.getContext("2d");e.fillStyle="#999999",e.fillRect(t.x,t.y,t.width,t.height);for(var n=0;n<l.buffered.length;n++){var i=l.buffered.begin(n)/l.duration,o=l.buffered.end(n)/l.duration;i<0?i=0:1<i&&(i=1),o<0?o=0:1<o&&(o=1),e.fillStyle="#dddddd",e.fillRect(t.x+t.width*i,t.y,t.width*(o-i),t.height/2)}var a=l.currentTime/l.duration;a<0?a=0:1<a&&(a=1),e.fillStyle="#dd0000",e.fillRect(t.x,t.y+t.height/2,t.width*a,t.height/2)}catch(t){}}}()),L+=t,j||0!=u||(j=!0,Y("timeupdate")),.3<L&&(L=0,i!=u&&(i=u,Y("timeupdate"))))}}(.001*e),S=t,o||(p?B=setTimeout(l.enterFrame,96):st(l.enterFrame)))},l.canvasAppended||(l.appendChild(X),l.canvasAppended=!0),this.enterFrame()):this.asid)},pause:function(){o||(this.asid,o=!0,x&&G.pause(),0<B&&(clearTimeout(B),B=0),Y("pause"))},addTextTrack:function(t,e,n){return null},canPlayType:function(t){var e="";switch(t){case"video/mp4":case"video/webm":case"video/x-flv":case"video/3gpp":case"video/x-ms-wmv":e="probably";break;default:e=""}return e},get_buffered:function(){var e=[];if(k&&k.length)for(var t=null,n=0;n<k.length;n++)ot(k[n].image)?(t||((t={}).begin=n,e.push(t)),t.end=n+1):t=null;return{start:function(t){return t<e.length?e[t].begin:0},end:function(t){return t<e.length?e[t].end:0},length:e.length}},get_videoWidth:function(){return m},get_videoHeight:function(){return v},get_audioTracks:function(){return{begin:function(t){return 0},end:function(t){return E?G.duration:0},length:E?1:0}},get_poster:function(){return H.src},set_poster:function(t){null==t&&(t=""),H.src!=t&&(H.src=t)},get_autoplay:function(){return g},set_autoplay:function(t){g=t},get_controller:function(){return null},get_controls:function(){return T},set_controls:function(t){T=t},get_crossOrigin:function(){return null},get_currentSrc:function(){return c},get_currentTime:function(){return u},set_currentTime:function(t){tt(t),t!=l.duration&&(N=!1),Y("seeking"),Y("seeked")},get_defaultMuted:function(){return n},set_defaultMuted:function(t){n=t},get_defaultPlaybackRate:function(){return f},set_defaultPlaybackRate:function(t){f=t},get_duration:function(){if(w){var t,e,n=0;return k&&k.length&&(ot(t=k[k.length-1].image)&&V&&(0<(e=Math.round(t.height/V.height))&&(n=e/10))),w.total-1+n}return 0},get_ended:function(){return N},get_loop:function(){return b},set_loop:function(t){b=t},get_mediaGroup:function(){return{length:0}},get_muted:function(){return p},set_muted:function(t){p=t,it(),d.config.nosndrewind&&(x=!0),!E||x||p||N||(x=!0,this.currentTime=0,this.pause(),this.play()),x&&(p?G.paused||(G.pause(),u=G.currentTime+.4):G.paused&&(G.currentTime=u-.4,o||N||G.play()))},get_networkState:function(){return 0},get_paused:function(){return o},get_playbackRate:function(){return y},set_playbackRate:function(t){y!=t&&(y=t,Y("ratechange"))},get_played:function(){return 0==u?{length:0}:{start:function(t){if(0==t)return 0},end:function(t){if(0==t)return u},length:1}},get_preload:function(){return"auto"},set_preload:function(t){},get_readyState:function(){return s},get_seekable:function(){return{length:0}},get_seeking:function(){return!1},get_src:function(){return c},set_src:function(t){c!=t&&(this.asid,null!=(c=t)&&""!=c?(clearInterval(q),this.load()):U=!1)},get_startDate:function(){return C},get_textTracks:function(){return{length:0}},get_videoTracks:function(){return{begin:function(t){return 0},end:function(t){return this.duration},length:0<this.duration?1:0}},get_volume:function(){return e},set_volume:function(t){t<0?t=0:1<t&&(t=1),e!=t&&(0<t&&!z||(0==(e=t)&&(this.muted=!0),it(),Y("volumechange")))},get_width:function(){return X.width},set_width:function(t){X.width=t},get_height:function(){return X.height},set_height:function(t){X.height=t},get_error:function(){return _},set_error:function(t){_=t},get_nodeName:function(){return"VIDEO"}};function J(){return d.config.hd&&w&&"true"==String(w.HD).toLowerCase()}function Y(t){l.asid;var e="on"+t;"function"==typeof l[e]&&l[e]();var n=document.createEvent("HTMLEvents");n.initEvent(t,!0,!0),l.dispatchEvent(n)}function Q(){if(null!=c&&""!=c){if(30<++A)return _={code:1,message:"timeout waiting for image video"},void Y("error");!function(){k=w=null,o=!(E=!1),u=0,y=f,G.pause(),G.src="",n&&(p=n);try{X.getContext("2d").clearRect(0,0,X.width,X.height)}catch(t){}}();var r=function(t,e){function n(t){for(var e=0,n="",i=0;i<t.length;i++){e+=t.charCodeAt(i)*i,i%13==0&&(n+=e.toString(),e=0)}return n+=e.toString(),n+="_"+t.length}var i=(t=t.replace(/\https/g,"http")).toUpperCase();{if(-1<i.search(".MP4")||-1<i.search(".FLV")||-1<i.search(".3GP")||-1<i.search(".WMV")||-1<i.search(".WEBM")){var o,a,s,r,l="";return-1<t.search("/videoplayback/")&&-1<t.search("/id/")&&-1<t.search("/itag/")&&-1<t.search("/source/")&&-1<t.search("/ip/")&&(o=t.search("ip/"),t=t.substr(0,o)),-1<(l=t.indexOf("90minContentId"))&&((a=t.substring(l+15,l+100))&&2<a.length&&-1<(l=a.indexOf("&"))&&(a=a.substring(0,l)),t="http://90min.com/"+a+"/"+a+"/"+a+"/"+a),"string"==typeof e&&2<e.length&&(t=e),-1<t.indexOf("track.eyeviewads.com")&&(d="",-1<(c=t.indexOf("madid="))&&(c+=6,p=t.substring(c,c+100),-1<(c=p.indexOf("&"))&&(d=p.substring(0,c)),d&&2<d.length&&(t="http://track.eyeviewads.com/madid/"+d+"/"+d+"/"+d+"/"+d+"/"+d))),-1<t.indexOf("eyeviewads")?(s="",-1<i.search(".MP4")?s=".mp4":-1<i.search(".FLV")?s=".flv":-1<i.search(".3GP")&&(s=".3gp"),t=(r=t.split(s))[0]+s):-1<t.indexOf("?")&&(t=(r=t.split("?"))[0]),-1<t.indexOf("toboads.com/vast2/agw.php")&&(s="zzzzzzz",-1<i.search(".MP4")?s=".MP4":-1<i.search(".FLV")?s=".FLV":-1<i.search(".WEBM")?s=".WEBM":-1<i.search(".3GP")&&(s=".3GP"),"zzzzzzz"!=s&&(r=i.split(s),t=r[0]+s)),t=n(t)}var d,c,p;return-1<t.indexOf("/www.youtube.com/get_video?")&&(d="",-1<(c=t.indexOf("video_id="))&&(c+=9,p=t.substring(c,c+100),-1<(c=p.indexOf("&"))&&(d=p.substring(0,c)),d&&2<d.length&&(t="http://www.youtube.com/video_id/"+d+"/"+d+"/"+d+"/"+d))),-1<t.indexOf("web.sundaysky.com/create_video")&&(d="",-1<(c=t.indexOf("create_video?id="))&&(c+=16,p=t.substring(c,c+100),-1<(c=p.indexOf("&"))&&(d=p.substring(0,c)),d&&2<d.length&&(t="http://web.sundaysky.com/create_video/video_id/"+d+"/"+d+"/"+d+"/"+d))),t=n(t)}}(c,void 0);Y("waiting"),l.VIDEO_FOLDER_ID=function(t,e){var n=1;if(F="http://data4.aniview.com/","56425b19181f4650718b456c"==t)return"115252";if("55b88d67181f465d3e8b4567"==t)return"41751";for(var i=0;i<e.length;i++)n+=e.charCodeAt(i);switch(n%27){case 1:case 4:case 7:case 10:case 13:case 16:case 19:return"20181";case 2:case 5:case 8:case 11:case 14:case 17:case 20:return"20182";case 3:case 6:case 9:case 12:case 15:case 18:case 21:return"20183";case 22:case 23:case 24:case 25:case 26:case 27:case 0:default:return"20184"}return"20184"}(d.config.publisherid,r),function(t,e,n,i,o){var a,s,r,l;a=(new Date).getTime(),s=o.adfoldermode?i.trim()+"/id.txt":com.aniview.player.Utils.httpsReplace("http://cdn3.aniview.com/")+e+"/"+t+"/id.txt?cb="+a;r=function(t,e,n){var i=new XMLHttpRequest;"withCredentials"in i?(i.open(t,e,!0),1==n&&(i.withCredentials=!0)):"undefined"!=typeof XDomainRequest?(i=new XDomainRequest).open(t,e):i=null;return i}("GET",s,0);r.onload=function(){200==r.status?""!=r.responseText?(l=JSON.parse(r.responseText)).error&&(1==l.error||2==l.error)?n.failure(l):n.success(l):n.failure({error:0}):n.failure(null)},r.onerror=function(){n.failure(null)},r.send()}(r,l.VIDEO_FOLDER_ID,{success:function(t){if(!d.disposed){m=(w=t).width,v=w.height,X.width=m,X.height=v,V=J()?{width:512,height:288}:{width:300,height:167},t.total,l.duration,s=1,Y("loadstart"),Y("durationchange"),Y("loadedmetadata"),k=[];for(var e=com.aniview.player.Utils.httpsReplace(F),n=0;n<w.total;n++){var i=e+"videos/resources/"+l.VIDEO_FOLDER_ID+"/"+w.id+"/"+(J()?"hd/":"")+"img"+n+".ani",i=d.config.adfoldermode?l.src.trim()+"/"+(J()?"hd/":"")+"img"+n+".ani":com.aniview.player.Utils.httpsReplace(e)+l.VIDEO_FOLDER_ID+"/"+r+"/"+(J()?"hd/":"")+"img"+(n+1)+".ani?pid="+d.config.publisherid+"&type=c";k.push({url:i,image:null})}$();var o=e+"videos/resources/"+l.VIDEO_FOLDER_ID+"/"+w.id+"/"+w.id+".mp3",o=d.config.adfoldermode?l.src.trim()+"/"+w.id+".mp3":com.aniview.player.Utils.httpsReplace(e)+l.VIDEO_FOLDER_ID+"/"+w.id+"/"+w.id+".mp3?pid="+d.config.publisherid+"&type=c";G.oncanplaythrough=function(){E||404==this.status||(E=!0),Y("durationchange"),Y("progress"),l.duration},G.src=o;var a=new XMLHttpRequest;a.open("GET",o,!0),a.onload=function(t){E||404==this.status||(E=!0,Y("progress")),l.duration},a.send(null),g&&l.play()}},failure:function(t){var e,n,i,o,a,s;d.disposed||(t&&null!=t.error?0==t.error?K():(_={code:1,message:"Failed to process image video: "+t.error+":"+c},Y("error")):I?K():(I=!0,e=r,n=d.config,i=encodeURIComponent(c),o="videoURL="+i+"&xchangePartner="+l.VIDEO_FOLDER_ID+"&ADID="+e+"&vast=",a=new XMLHttpRequest,s=com.aniview.player.Utils.httpsReplace("http://add2.aniview.com")+"/cdnorigin/prod/addVideo?pubid="+n.publisherid+"&ADID="+e+"&pl=cpl",a.open("POST",s,!0),a.setRequestHeader("Content-Type","application/x-www-form-urlencoded"),a.onload=function(){200==a.status&&K()},a.send(o)))}},l.src,d.config)}}function K(){d.disposed||setTimeout(Q,1e3)}function $(){if(k&&k.length){var t=Math.floor(u),e=Math.floor(t+4);for(e>k.length&&(e=k.length);t<e;){var n=k[t];n.image||(n.image=document.createElement("img"),n.image.onload=function(){P||(P=!0,s=4,Y("canplay"),Y("canplaythrough"),Y("loadeddata")),Y("progress")},n.image.src=n.url),t++}}}function tt(t){u!=t&&((u=t)<0?u=0:u>l.duration&&(u=l.duration),x&&(G.currentTime=u))}function et(t){if(k&&k.length){var e=Math.floor(u),n=Math.floor(e+t);for(n>k.length&&(n=k.length);e<n;){if(!ot(k[e].image))return!1;e++}return!0}return!1}function nt(){return{x:5,y:X.height-5-20,width:X.width-10,height:20}}function it(){G.loop=b,G.playbackRate=y}return function(t,e){var n=0,i=null,o=null,a=null,s=null,r=[];for(s in e)"get_"==(n=s.substring(0,4))||"set_"==n?(a=s.substring(4),-1==r.indexOf(a)&&(r.push(a),i=e["get_"+a],o=e["set_"+a],"nodeName"==a?t.defineNodeName=function(){try{return at(t,a,i,o),!0}catch(t){return!1}}:at(t,a,i,o))):t[s]=e[s]}(l,Z),l},t.prototype.replaceTag=function(t){if(t&&t.parentNode){var e=this.createTag();return e.id=t.id,e.volume=t.volume,e.muted=t.muted,e.autoplay=t.autoplay,e.controls=t.controls,e.loop=t.loop,e.poster=t.poster,e.style.cssText=t.style.cssText,e.src=t.src,t.parentNode.insertBefore(e,t),t.parentNode.removeChild(t),e}return t};var st=e.requestAnimationFrame||e.webkitRequestAnimationFrame||e.mozRequestAnimationFrame||function(t){e.setTimeout(t,1e3/60)}}(window),function(t){"use strict";t.com||(t.com={}),t.com.aniview||(t.com.aniview={}),t.com.aniview.player||(t.com.aniview.player={}),t.com.aniview.player.video||(t.com.aniview.player.video={}),(t.com.aniview.player.video.InitialVideo=function(){com.aniview.player.video.BaseVideo.extends(this),com.aniview.player.Utils.isOneVideoElement()?(this.element=this.createElement(),this.adsElement=this.element):(this.element=this.createElement(),this.adsElement=this.createElement(),this.adsElement.style.position="absolute",this.adsElement.style.left=0,this.adsElement.style.top=0,this.adsElement.style.right=0,this.adsElement.style.bottom=0)}).prototype.toString=function(){return"InitialVideo"}}(window),function(t){"use strict";t.com||(t.com={}),t.com.aniview||(t.com.aniview={}),t.com.aniview.player||(t.com.aniview.player={}),t.com.aniview.player.video||(t.com.aniview.player.video={});var e=t.com.aniview.player.video.InlineVideo=function(){com.aniview.player.video.BaseVideo.extends(this)};e.prototype.createElement=function(){var t=this.super_createElement();return t.setAttribute("muted",!0),t},e.prototype.toString=function(){return"InlineVideo"}}(window),function(t){"use strict";t.com||(t.com={}),t.com.aniview||(t.com.aniview={}),t.com.aniview.player||(t.com.aniview.player={}),t.com.aniview.player.video||(t.com.aniview.player.video={}),(t.com.aniview.player.video.NativeVideo=function(){com.aniview.player.video.BaseVideo.extends(this)}).prototype.toString=function(){return"NativeVideo"}}(window),function(t){"use strict";t.com||(t.com={}),t.com.aniview||(t.com.aniview={}),t.com.aniview.player||(t.com.aniview.player={}),t.com.aniview.player.video||(t.com.aniview.player.video={});var e=t.com.aniview.player.video.SimulateVideo=function(t){com.aniview.player.video.BaseVideo.extends(this)};e.prototype.createElement=function(){var n=!0,i=!1,o=!0,a=!1,s=!0,r=document.createElement("audio"),l=document.createElement("video");l.addEventListener("canplay",function(){n=i=!0}),l.addEventListener("timeupdate",function(){n=!0,u("playing")});var d=Date.now(),c=0,p=null;function u(t){l.dispatchEvent(new CustomEvent(t)),l["on"+t]&&l["on"+t]()}return this.intervalId=setInterval(function(){p!=l.src&&(p=l.src,a=!(s=!(c=0)),r.src=p,r.load(),l.autoplay&&l.play());var t=Date.now(),e=(t-d)/1e3;d=t,!o&&i&&0<l.buffered.length&&l.buffered.end(0)>c&&(c+=e,n&&(n=!1,l.currentTime=c),c>=l.duration&&(c=l.duration,l.currentTime=c,l.pause(),o=!0,u("ended")))},40),l.super_play=l.play,l.play=function(){l.super_pause(),a&&(r.currentTime=c,r.play()),n=!(o=!1),u("play")},l.super_pause=l.pause,l.pause=function(){l.super_pause(),a&&(r.currentTime=c,r.pause()),n=o=!0,u("pause")},Object.defineProperty(l,"paused",{get:function(){return o}}),Object.defineProperty(l,"muted",{get:function(){return s},set:function(t){s=t,(r.muted=s)||a||(a=!0,o||(c=0,r.play())),u("volumechange")}}),l},e.prototype.dispose=function(){this.super_dispose(),0<this.intervalId&&clearInterval(this.intervalId)},e.prototype.toString=function(){return"SimulateVideo"}}(window),function(s){"use strict";s.com||(s.com={}),s.com.aniview||(s.com.aniview={}),s.com.aniview.player||(s.com.aniview.player={}),s.com.aniview.player.video||(s.com.aniview.player.video={});var c=s.com.aniview.player.video.VideoTag=function(t,e,n){this.trackTraffic=n,this.listeners={},this.paramsObject=t,this.publisherId=e,this.container=document.createElement("div"),this.container.id="content_"+com.aniview.player.Utils.generateRandomString(),this.video=new s.com.aniview.player.video.InitialVideo,com.aniview.player.Utils.isOneVideoElement()?(this.container.appendChild(this.video.element),this.video.element.removeAttribute("controls"),this.video.element.controls=!1):(this.container.appendChild(this.video.element),this.container.appendChild(this.video.adsElement),this.video.element.removeAttribute("controls"),this.video.adsElement.removeAttribute("controls"),this.video.element.controls=!1,this.video.adsElement.controls=!1),this.listeners={}};c.prototype.container=null,c.prototype.src=null,c.prototype.video=null,c.prototype.eventCallback=null,c.prototype.initiated=!1,c.prototype.videoClass=!1,c.prototype.libraryPath=!1,c.prototype.videoAttributes=[],c.prototype.addVideoAttributes=function(){for(var t,e,n,i=0;i<this.videoAttributes.length;i++)e=(t=this.videoAttributes[i]).field,n=t.value,this.video.element.setAttribute(e,n),this.video.adsElement.setAttribute(e,n),"muted"==e&&(this.video.element[e]=n,this.video.adsElement[e]=n)},c.prototype.setVideoTagConfig=function(t){var e=null,n={};if(this.src=t.src,this.fallback=t.fallback,this.container&&t.src){var i,o,a,s=com.aniview.player.Utils,r=null,l=[],d=s.getExtension(t.src);if("m3u8"==d.toLowerCase()||"string"==typeof t.mimetype&&"application/vnd.apple.mpegurl"===t.mimetype.toLowerCase()?(i=document.createElement("video"),"safari"===s.getBrowser()||"ios"===s.getOS()&&""!==i.canPlayType("application/vnd.apple.mpegurl")||("webos"===s.getOS()||"tizen"===s.getOS()&&"4"===s.getOSVersion().major)&&""!==i.canPlayType("application/vnd.apple.mpegurl")?r=com.aniview.player.video.InlineVideo:com.aniview.player.video.HLSVideo.isSupported()&&(r=com.aniview.player.video.HLSVideo,e=this.paramsObject.libraryHLS,n=this.paramsObject.hlsConfig)):"mpd"==d.toLowerCase()?com.aniview.player.video.DASHVideo.isSupported()&&(r=com.aniview.player.video.DASHVideo,e=this.paramsObject.libraryDASH,n=this.paramsObject.dashConfig):r=s.isMobile()&&"webos"!==s.getOS()&&"tizen"!==s.getOS()?"ios"==(o=s.getOS())?10<=(a=s.getOSVersion()).major?com.aniview.player.video.InlineVideo:9<=a.major?com.aniview.player.video.SimulateVideo:com.aniview.player.video.ImageVideo:"android"==o&&53<=s.getChromeVersion()?com.aniview.player.video.InlineVideo:com.aniview.player.video.ImageVideo:com.aniview.player.video.NativeVideo,this.paramsObject.useImageVideo&&s.isMobile()&&(r=com.aniview.player.video.ImageVideo),this.videoClass=r,this.libraryPath=e,this.libraryConfig=n,!r)return void this.event(c.Events.ContentError,{message:"HLS Not Supported",pixelEvent:"c4"});s.isMobile()&&(t.noInlineVideo||(l.push({field:"playsinline",value:!0}),l.push({field:"webkit-playsinline",value:!0})),t.autoPlay&&l.push({field:"muted",value:!0})),t.autoPlay,0==t.volume&&l.push({field:"muted",value:!0}),this.videoAttributes=l}},c.prototype.init=function(t){this.log("init",t.src),this.initiated=!0,this.container&&this.src&&(this.setVideoTagConfig(t),this.initVideo())},c.prototype.isFallback=function(){return this.fallback},c.prototype.initVideo=function(){var t,e,n,i;this.videoClass&&(t=this.videoClass,e=this.video.element,n=this.video.adsElement,this.video.removeAllEventListeners(),this.video.dispose(),this.video=new t(this.publisherId,this.trackTraffic),(i=this.video.toString&&"ImageVideo"==this.video.toString())&&(this.contentImagePlayer&&this.container.removeChild(this.contentImagePlayer),e=null,this.contentImagePlayer=null),this.video.init(this.src,this.libraryPath,e,this.libraryConfig),i&&(this.contentImagePlayer=this.container.appendChild(this.video.element)),this.video.adsElement=n,this.addDefaultsEvents(this.video.element),this.addVideoContentEvents(this.video.element),this.addDefaultsEvents(this.video.adsElement),this.bindEvents())},c.prototype.addVideoContentEvents=function(i){var o=this,a=!1;i.addEventListener("loadedmetadata",function(t,e,n){a=!0,o.event(s.com.aniview.player.video.VideoTag.Events.LoadedMetadata,{duration:i.duration})}),"ios"!=com.aniview.player.Utils.getOS()||o.paramsObject.autoPlay||setTimeout(function(){a||i.error||o.event(s.com.aniview.player.video.VideoTag.Events.LoadedMetadata)},2e3)},c.prototype.addDefaultsEvents=function(t){t.av_evtsadded||(t.style.display="none",t.addEventListener("loadstart",function(){this.style.display="none"}),t.addEventListener("canplay",function(){this.style.display=""}),t.av_evtsadded=!0)},c.prototype.reset=function(){this.initiated=!1,this.video&&(this.video.dispose(),this.video=null)},c.prototype.log=function(t,e){var n=com.aniview.player.Utils,i="unknown";try{i=this.container.id}catch(t){}n.log("VideoTag::"+i+" - "+t,e)},c.prototype.show=function(){this.container.style.zIndex=1},c.prototype.hide=function(){this.container.style.zIndex=-1},c.prototype.bindEvents=function(){var i=this;this.video.eventCallback=function(t,e){!e&&isNaN(e)&&(e={}),t===c.Events.ContentVideoStart&&(e.source=i.src);var n=new CustomEvent(t,{});n.data=e,i.dispatchEvent(n)}},c.prototype.setSize=function(t,e){this.video&&this.video.element&&(this.video.element.width=t,this.video.element.height=e),this.video&&this.video.adsElement&&(this.video.adsElement.width=t,this.video.adsElement.height=e)},c.prototype.clear=function(){if(this.video&&(this.video.dispose(),this.video=null),this.container)for(;this.container.childNodes.length;)this.container.removeChild(this.container.childNodes[0])},c.Events={},c.Events.ContentError="error",c.Events.ContentTimeChange="ContentTimeChange",c.Events.ContentSourceChanged="ContentSourceChanged",c.Events.ContentLoaded="ContentLoaded",c.Events.ContentReady="ContentReady",c.Events.ContentStarted="ContentStarted",c.Events.ContentSkippableStateChange="ContentSkippableStateChange",c.Events.ContentSizeChange="ContentSizeChange",c.Events.ContentDurationChange="ContentDurationChange",c.Events.ContentRemainingTimeChange="ContentRemainingTimeChange",c.Events.ContentVolumeChange="ContentVolumeChange",c.Events.ContentVideoStart="ContentVideoStart",c.Events.ContentVideoFirstQuartile="ContentVideoFirstQuartile",c.Events.ContentVideoMidpoint="ContentVideoMidpoint",c.Events.ContentVideoThirdQuartile="ContentVideoThirdQuartile",c.Events.ContentVideoComplete="ContentVideoComplete",c.Events.ContentClickThru="ContentClickThru",c.Events.Click="click",c.Events.ContentUserMinimize="ContentUserMinimize",c.Events.ContentUserClose="ContentUserClose",c.Events.ContentPaused="ContentPaused",c.Events.ContentPlaying="ContentPlaying",c.Events.ContentViewabilityChanged="viewabilityChanged",c.Events.ContentHLSError="contentHLSError",c.Events.ContentHLSRecoverTry="contentHLSRecoverTry",c.Events.LoadedMetadata="loadedmetadata",c.getExternalEvents=function(){var t=[];return t.push(c.Events.ContentVideoStart),t.push(c.Events.ContentVideoFirstQuartile),t.push(c.Events.ContentVideoMidpoint),t.push(c.Events.ContentVideoThirdQuartile),t.push(c.Events.ContentVideoComplete),t.push(c.Events.ContentPaused),t.push(c.Events.ContentPlaying),t},c.prototype.event=function(t,e){var n=new CustomEvent(t,{});n.data=e,this.dispatchEvent(n)},c.prototype.listeners=null,c.prototype.addEventListener=function(t,e){t in this.listeners||(this.listeners[t]=[]),this.listeners[t].push(e)},c.prototype.removeEventListener=function(t,e){if(t in this.listeners)for(var n=this.listeners[t],i=0,o=n.length;i<o;i++)if(n[i]===e)return n.splice(i,1),this.removeEventListener(t,e)},c.prototype.dispatchEvent=function(t){if(t.type in this.listeners)for(var e=this.listeners[t.type],n=0,i=e.length;n<i;n++)e[n].call(this,t)}}(window);;(function(e){function t(a){if(n[a])return n[a].exports;var i=n[a]={i:a,l:!1,exports:{}};return e[a].call(i.exports,i,i.exports,t),i.l=!0,i.exports}var n={};return t.m=e,t.c=n,t.d=function(e,n,a){t.o(e,n)||Object.defineProperty(e,n,{enumerable:!0,get:a})},t.r=function(e){'undefined'!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:'Module'}),Object.defineProperty(e,'__esModule',{value:!0})},t.t=function(e,n){if(1&n&&(e=t(e)),8&n)return e;if(4&n&&'object'==typeof e&&e&&e.__esModule)return e;var a=Object.create(null);if(t.r(a),Object.defineProperty(a,'default',{enumerable:!0,value:e}),2&n&&'string'!=typeof e)for(var i in e)t.d(a,i,function(t){return e[t]}.bind(null,i));return a},t.n=function(e){var n=e&&e.__esModule?function(){return e['default']}:function(){return e};return t.d(n,'a',n),n},t.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},t.p='',t(t.s=62)})([function(e){e.exports=function(e,t){if(!(e instanceof t))throw new TypeError('Cannot call a class as a function')}},function(e){function t(e,t){for(var n=0,a;n<t.length;n++)a=t[n],a.enumerable=a.enumerable||!1,a.configurable=!0,'value'in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}e.exports=function(e,n,a){return n&&t(e.prototype,n),a&&t(e,a),e}},function(e,t,n){'use strict';function a(e){for(var t=-1,n=0;n<u.length;n++)if(u[n].identifier===e){t=n;break}return t}function i(e,t){for(var n={},o=[],r=0;r<e.length;r++){var i=e[r],s=t.base?i[0]+t.base:i[0],l=n[s]||0,p=''.concat(s,' ').concat(l);n[s]=l+1;var c=a(p),_={css:i[1],media:i[2],sourceMap:i[3]};-1===c?u.push({identifier:p,updater:d(_,t),references:1}):(u[c].references++,u[c].updater(_)),o.push(p)}return o}function o(e){var t=document.createElement('style'),a=e.attributes||{};if('undefined'==typeof a.nonce){var i=n.nc;i&&(a.nonce=i)}if(Object.keys(a).forEach(function(e){t.setAttribute(e,a[e])}),'function'==typeof e.insert)e.insert(t);else{var o=c(e.insert||'head');if(!o)throw new Error('Couldn\'t find a style target. This probably means that the value for the \'insert\' parameter is invalid.');o.appendChild(t)}return t}function r(e){return null!==e.parentNode&&void e.parentNode.removeChild(e)}function s(e,t,n,a){var i=n?'':a.media?'@media '.concat(a.media,' {').concat(a.css,'}'):a.css;if(e.styleSheet)e.styleSheet.cssText=_(t,i);else{var o=document.createTextNode(i),r=e.childNodes;r[t]&&e.removeChild(r[t]),r.length?e.insertBefore(o,r[t]):e.appendChild(o)}}function l(e,t,n){var a=n.css,i=n.media,o=n.sourceMap;if(i?e.setAttribute('media',i):e.removeAttribute('media'),o&&'undefined'!=typeof btoa&&(a+='\n/*# sourceMappingURL=data:application/json;base64,'.concat(btoa(unescape(encodeURIComponent(JSON.stringify(o)))),' */')),e.styleSheet)e.styleSheet.cssText=a;else{for(;e.firstChild;)e.removeChild(e.firstChild);e.appendChild(document.createTextNode(a))}}function d(e,t){var n,a,i;if(t.singleton){var d=y++;n=g||(g=o(t)),a=s.bind(null,n,d,!1),i=s.bind(null,n,d,!0)}else n=o(t),a=l.bind(null,n,t),i=function(){r(n)};return a(e),function(t){if(t){if(t.css===e.css&&t.media===e.media&&t.sourceMap===e.sourceMap)return;a(e=t)}else i()}}var p=function(){var e;return function(){return'undefined'==typeof e&&(e=!!(window&&document&&document.all&&!window.atob)),e}}(),c=function(){var e={};return function(t){if('undefined'==typeof e[t]){var n=document.querySelector(t);if(window.HTMLIFrameElement&&n instanceof window.HTMLIFrameElement)try{n=n.contentDocument.head}catch(t){n=null}e[t]=n}return e[t]}}(),u=[],_=function(){var e=[];return function(t,n){return e[t]=n,e.filter(Boolean).join('\n')}}(),g=null,y=0;e.exports=function(e,t){t=t||{},t.singleton||'boolean'==typeof t.singleton||(t.singleton=p()),e=e||[];var n=i(e,t);return function(e){if(e=e||[],'[object Array]'===Object.prototype.toString.call(e)){for(var o=0;o<n.length;o++){var r=n[o],s=a(r);u[s].references--}for(var l=i(e,t),d=0;d<n.length;d++){var p=n[d],c=a(p);0===u[c].references&&(u[c].updater(),u.splice(c,1))}n=l}}}},function(e){'use strict';function t(e,t){var a=e[1]||'',i=e[3];if(!i)return a;if(t&&'function'==typeof btoa){var o=n(i),r=i.sources.map(function(e){return'/*# sourceURL='.concat(i.sourceRoot||'').concat(e,' */')});return[a].concat(r).concat([o]).join('\n')}return[a].join('\n')}function n(e){var t=btoa(unescape(encodeURIComponent(JSON.stringify(e)))),n='sourceMappingURL=data:application/json;charset=utf-8;base64,'.concat(t);return'/*# '.concat(n,' */')}e.exports=function(e){var n=[];return n.toString=function(){return this.map(function(n){var a=t(n,e);return n[2]?'@media '.concat(n[2],' {').concat(a,'}'):a}).join('')},n.i=function(e,t,a){'string'==typeof e&&(e=[[null,e,'']]);var o={};if(a)for(var r=0,i;r<this.length;r++)i=this[r][0],null!=i&&(o[i]=!0);for(var s=0,l;s<e.length;s++)(l=[].concat(e[s]),!(a&&o[l[0]]))&&(t&&(l[2]?l[2]=''.concat(t,' and ').concat(l[2]):l[2]=t),n.push(l))},n}},function(e){function t(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}e.exports=t},function(e,t,n){var a=n(39),i=n(40),o=n(41),r=n(42);e.exports=function(e){return a(e)||i(e)||o(e)||r()}},function(e){function t(n){return e.exports=t=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},t(n)}e.exports=t},function(e,t,n){var a=n(44);e.exports=function(e,t){if('function'!=typeof t&&null!==t)throw new TypeError('Super expression must either be null or a function');e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&a(e,t)}},function(e,t,n){var a=n(45),i=n(46);e.exports=function(e,t){return t&&('object'===a(t)||'function'==typeof t)?t:i(e)}},function(e){e.exports=function(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,a=Array(t);n<t;n++)a[n]=e[n];return a}},function(e){'use strict';function t(e){return!!e&&'object'==typeof e}function n(e){var t=Object.prototype.toString.call(e);return'[object RegExp]'===t||'[object Date]'===t||a(e)}function a(e){return e.$$typeof===m}function i(e){return Array.isArray(e)?[]:{}}function o(e,t){return!1!==t.clone&&t.isMergeableObject(e)?_(i(e),e,t):e}function r(e,t,n){return e.concat(t).map(function(e){return o(e,n)})}function s(e,t){if(!t.customMerge)return _;var n=t.customMerge(e);return'function'==typeof n?n:_}function l(e){return Object.getOwnPropertySymbols?Object.getOwnPropertySymbols(e).filter(function(t){return e.propertyIsEnumerable(t)}):[]}function d(e){return Object.keys(e).concat(l(e))}function p(e,t){try{return t in e}catch(e){return!1}}function c(e,t){return p(e,t)&&!(Object.hasOwnProperty.call(e,t)&&Object.propertyIsEnumerable.call(e,t))}function u(e,t,n){var a={};return n.isMergeableObject(e)&&d(e).forEach(function(t){a[t]=o(e[t],n)}),d(t).forEach(function(i){c(e,i)||(p(e,i)&&n.isMergeableObject(t[i])?a[i]=s(i,n)(e[i],t[i],n):a[i]=o(t[i],n))}),a}function _(e,t,n){n=n||{},n.arrayMerge=n.arrayMerge||r,n.isMergeableObject=n.isMergeableObject||g,n.cloneUnlessOtherwiseSpecified=o;var a=Array.isArray(t),i=Array.isArray(e);return a===i?a?n.arrayMerge(e,t,n):u(e,t,n):o(t,n)}var g=function(e){return t(e)&&!n(e)},y='function'==typeof Symbol&&Symbol.for,m=y?Symbol.for('react.element'):60103;_.all=function(e,t){if(!Array.isArray(e))throw new Error('first argument should be an array');return e.reduce(function(e,n){return _(e,n,t)},{})};e.exports=_},function(e){e.exports=function(a){function i(t){if(e[t])return e[t].exports;var r=e[t]={i:t,l:!1,exports:{}};return a[t].call(r.exports,r,r.exports,i),r.l=!0,r.exports}var e={};return i.m=a,i.c=e,i.d=function(t,e,a){i.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:a})},i.r=function(t){'undefined'!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:'Module'}),Object.defineProperty(t,'__esModule',{value:!0})},i.t=function(a,t){if(1&t&&(a=i(a)),8&t)return a;if(4&t&&'object'==typeof a&&a&&a.__esModule)return a;var r=Object.create(null);if(i.r(r),Object.defineProperty(r,'default',{enumerable:!0,value:a}),2&t&&'string'!=typeof a)for(var n in a)i.d(r,n,function(e){return a[e]}.bind(null,n));return r},i.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return i.d(e,'a',e),e},i.o=function(n,e){return Object.prototype.hasOwnProperty.call(n,e)},i.p='',i(i.s=0)}([function(a,e,t){'use strict';function i(t){return t?(t^16*Math.random()>>t/4).toString(16):'10000000-1000-4000-8000-100000000000'.replace(/[018]/g,i)}function n(){return i(!1)}t.r(e),t.d(e,'default',function(){return n})}])},function(e,t,n){var a=n(2),i=n(33);i=i.__esModule?i.default:i,'string'==typeof i&&(i=[[e.i,i,'']]);var o=0,r={injectType:'lazySingletonStyleTag'},s;r.insert='head',r.singleton=!0;var l={};l.locals=i.locals||{},l.use=function(){return o++||(s=a(i,r)),l},l.unuse=function(){0<o&&! --o&&(s(),s=null)},e.exports=l},function(e,t,n){var a=n(2),i=n(34);i=i.__esModule?i.default:i,'string'==typeof i&&(i=[[e.i,i,'']]);var o=0,r={injectType:'lazySingletonStyleTag'},s;r.insert='head',r.singleton=!0;var l={};l.locals=i.locals||{},l.use=function(){return o++||(s=a(i,r)),l},l.unuse=function(){0<o&&! --o&&(s(),s=null)},e.exports=l},function(e,t,n){var a=n(2),i=n(35);i=i.__esModule?i.default:i,'string'==typeof i&&(i=[[e.i,i,'']]);var o=0,r={injectType:'lazySingletonStyleTag'},s;r.insert='head',r.singleton=!0;var l={};l.locals=i.locals||{},l.use=function(){return o++||(s=a(i,r)),l},l.unuse=function(){0<o&&! --o&&(s(),s=null)},e.exports=l},function(e,t,n){var a=n(2),i=n(36);i=i.__esModule?i.default:i,'string'==typeof i&&(i=[[e.i,i,'']]);var o=0,r={injectType:'lazySingletonStyleTag'},s;r.insert='head',r.singleton=!0;var l={};l.locals=i.locals||{},l.use=function(){return o++||(s=a(i,r)),l},l.unuse=function(){0<o&&! --o&&(s(),s=null)},e.exports=l},function(e,t,n){var a=n(2),i=n(37);i=i.__esModule?i.default:i,'string'==typeof i&&(i=[[e.i,i,'']]);var o=0,r={injectType:'lazySingletonStyleTag'},s;r.insert='head',r.singleton=!0;var l={};l.locals=i.locals||{},l.use=function(){return o++||(s=a(i,r)),l},l.unuse=function(){0<o&&! --o&&(s(),s=null)},e.exports=l},function(e,t,n){var a=n(2),i=n(38);i=i.__esModule?i.default:i,'string'==typeof i&&(i=[[e.i,i,'']]);var o=0,r={injectType:'lazySingletonStyleTag'},s;r.insert='head',r.singleton=!0;var l={};l.locals=i.locals||{},l.use=function(){return o++||(s=a(i,r)),l},l.unuse=function(){0<o&&! --o&&(s(),s=null)},e.exports=l},function(e,t,n){var a=n(2),i=n(47);i=i.__esModule?i.default:i,'string'==typeof i&&(i=[[e.i,i,'']]);var o=0,r={injectType:'lazySingletonStyleTag'},s;r.insert='head',r.singleton=!0;var l={};l.locals=i.locals||{},l.use=function(){return o++||(s=a(i,r)),l},l.unuse=function(){0<o&&! --o&&(s(),s=null)},e.exports=l},function(e,t,n){var a=n(2),i=n(48);i=i.__esModule?i.default:i,'string'==typeof i&&(i=[[e.i,i,'']]);var o=0,r={injectType:'lazySingletonStyleTag'},s;r.insert='head',r.singleton=!0;var l={};l.locals=i.locals||{},l.use=function(){return o++||(s=a(i,r)),l},l.unuse=function(){0<o&&! --o&&(s(),s=null)},e.exports=l},function(e,t,n){var a=n(2),i=n(49);i=i.__esModule?i.default:i,'string'==typeof i&&(i=[[e.i,i,'']]);var o=0,r={injectType:'lazySingletonStyleTag'},s;r.insert='head',r.singleton=!0;var l={};l.locals=i.locals||{},l.use=function(){return o++||(s=a(i,r)),l},l.unuse=function(){0<o&&! --o&&(s(),s=null)},e.exports=l},function(e,t,n){var a=n(2),i=n(50);i=i.__esModule?i.default:i,'string'==typeof i&&(i=[[e.i,i,'']]);var o=0,r={injectType:'lazySingletonStyleTag'},s;r.insert='head',r.singleton=!0;var l={};l.locals=i.locals||{},l.use=function(){return o++||(s=a(i,r)),l},l.unuse=function(){0<o&&! --o&&(s(),s=null)},e.exports=l},function(e,t,n){var a=n(2),i=n(51);i=i.__esModule?i.default:i,'string'==typeof i&&(i=[[e.i,i,'']]);var o=0,r={injectType:'lazySingletonStyleTag'},s;r.insert='head',r.singleton=!0;var l={};l.locals=i.locals||{},l.use=function(){return o++||(s=a(i,r)),l},l.unuse=function(){0<o&&! --o&&(s(),s=null)},e.exports=l},function(e,t,n){var a=n(2),i=n(52);i=i.__esModule?i.default:i,'string'==typeof i&&(i=[[e.i,i,'']]);var o=0,r={injectType:'lazySingletonStyleTag'},s;r.insert='head',r.singleton=!0;var l={};l.locals=i.locals||{},l.use=function(){return o++||(s=a(i,r)),l},l.unuse=function(){0<o&&! --o&&(s(),s=null)},e.exports=l},function(e,t,n){var a=n(2),i=n(53);i=i.__esModule?i.default:i,'string'==typeof i&&(i=[[e.i,i,'']]);var o=0,r={injectType:'lazySingletonStyleTag'},s;r.insert='head',r.singleton=!0;var l={};l.locals=i.locals||{},l.use=function(){return o++||(s=a(i,r)),l},l.unuse=function(){0<o&&! --o&&(s(),s=null)},e.exports=l},function(e,t,n){var a=n(2),i=n(54);i=i.__esModule?i.default:i,'string'==typeof i&&(i=[[e.i,i,'']]);var o=0,r={injectType:'lazySingletonStyleTag'},s;r.insert='head',r.singleton=!0;var l={};l.locals=i.locals||{},l.use=function(){return o++||(s=a(i,r)),l},l.unuse=function(){0<o&&! --o&&(s(),s=null)},e.exports=l},function(e,t,n){var a=n(2),i=n(55);i=i.__esModule?i.default:i,'string'==typeof i&&(i=[[e.i,i,'']]);var o=0,r={injectType:'lazySingletonStyleTag'},s;r.insert='head',r.singleton=!0;var l={};l.locals=i.locals||{},l.use=function(){return o++||(s=a(i,r)),l},l.unuse=function(){0<o&&! --o&&(s(),s=null)},e.exports=l},function(e,t,n){var a=n(2),i=n(56);i=i.__esModule?i.default:i,'string'==typeof i&&(i=[[e.i,i,'']]);var o=0,r={injectType:'lazySingletonStyleTag'},s;r.insert='head',r.singleton=!0;var l={};l.locals=i.locals||{},l.use=function(){return o++||(s=a(i,r)),l},l.unuse=function(){0<o&&! --o&&(s(),s=null)},e.exports=l},function(e,t,n){var a=n(2),i=n(57);i=i.__esModule?i.default:i,'string'==typeof i&&(i=[[e.i,i,'']]);var o=0,r={injectType:'lazySingletonStyleTag'},s;r.insert='head',r.singleton=!0;var l={};l.locals=i.locals||{},l.use=function(){return o++||(s=a(i,r)),l},l.unuse=function(){0<o&&! --o&&(s(),s=null)},e.exports=l},function(e,t,n){var a=n(2),i=n(58);i=i.__esModule?i.default:i,'string'==typeof i&&(i=[[e.i,i,'']]);var o=0,r={injectType:'lazySingletonStyleTag'},s;r.insert='head',r.singleton=!0;var l={};l.locals=i.locals||{},l.use=function(){return o++||(s=a(i,r)),l},l.unuse=function(){0<o&&! --o&&(s(),s=null)},e.exports=l},function(e,t,n){var a=n(2),i=n(59);i=i.__esModule?i.default:i,'string'==typeof i&&(i=[[e.i,i,'']]);var o=0,r={injectType:'lazySingletonStyleTag'},s;r.insert='head',r.singleton=!0;var l={};l.locals=i.locals||{},l.use=function(){return o++||(s=a(i,r)),l},l.unuse=function(){0<o&&! --o&&(s(),s=null)},e.exports=l},function(e,t,n){var a=n(2),i=n(60);i=i.__esModule?i.default:i,'string'==typeof i&&(i=[[e.i,i,'']]);var o=0,r={injectType:'lazySingletonStyleTag'},s;r.insert='head',r.singleton=!0;var l={};l.locals=i.locals||{},l.use=function(){return o++||(s=a(i,r)),l},l.unuse=function(){0<o&&! --o&&(s(),s=null)},e.exports=l},function(e,t,n){var a=n(2),i=n(61);i=i.__esModule?i.default:i,'string'==typeof i&&(i=[[e.i,i,'']]);var o=0,r={injectType:'lazySingletonStyleTag'},s;r.insert='head',r.singleton=!0;var l={};l.locals=i.locals||{},l.use=function(){return o++||(s=a(i,r)),l},l.unuse=function(){0<o&&! --o&&(s(),s=null)},e.exports=l},function(e,t,n){var a=n(3);t=a(!1),t.push([e.i,'#exco_placeholder{display:flex;justify-content:center}#exco_placeholder div{width:100%;background-position:center center;background-repeat:no-repeat;background-size:contain}#exco_placeholder.exco_placeholder-hide{display:none}[data-ads-playing=true] .exco-ap_container{display:block}[data-ads-playing=false] .exco-ap_container{display:none}\n','']),e.exports=t},function(e,t,n){var a=n(3);t=a(!1),t.push([e.i,'#exco_sticky-x-button-container{color:transparent !important;width:28px;height:28px;z-index:3;position:absolute;cursor:pointer;border-radius:50%;box-sizing:border-box;top:-42px;border:30px solid transparent;font-weight:200}#exco_sticky-x-button-container:hover{border:30px solid transparent}#exco_sticky-x-button-container.exco_sticky-left{left:-24px}#exco_sticky-x-button-container.exco_sticky-right{right:-24px}#exco_sticky-x-button-container.exco_sticky-upper{--exco-sticky-upper-x-button-size: 22px;--exco-sticky-upper-x-button-margin: 4px;top:var(--exco-sticky-upper-x-button-margin);left:calc(100% + var(--exco-remaining-width-sticky) - var(--exco-sticky-upper-x-button-margin) - var(--exco-sticky-upper-x-button-size));border:2px solid black;height:var(--exco-sticky-upper-x-button-size);width:var(--exco-sticky-upper-x-button-size);background:rgba(255,255,255,0.25)}#exco_sticky-x-button-container.exco_sticky-upper #exco_sticky-x-button{display:flex;align-items:center;justify-content:center;width:100%;height:100%}#exco_sticky-x-button-container.exco_sticky-upper svg{box-sizing:unset}#exco_sticky-x-button-container.headline{top:-23px}#exco_sticky-x-button-container:not(.exco_sticky-upper) #exco_sticky-x-button{position:relative;padding:2px;box-sizing:border-box;top:-7px;left:-7px}#exco_sticky-x-button-container:not(.exco_sticky-upper) #exco_sticky-x-button svg{width:12px !important;height:12px !important}#exco_sticky-x-button-container.exco_sticky-desktop.exco_sticky-bottom{top:-45px}#exco_sticky-x-button-container.exco_sticky-desktop.exco_sticky-bottom.exco_sticky-left{left:-21px}#exco_sticky-x-button-container.exco_sticky-desktop.exco_sticky-bottom.exco_sticky-right{right:-21px}#exco_sticky-x-button-container.exco_sticky-desktop.headline{top:-20px}\n','']),e.exports=t},function(e,t,n){var a=n(3);t=a(!1),t.push([e.i,'[data-ads-playing=true] .exco_sticky-placement-show-on-ad-only{display:block}[data-ads-playing=false] .exco_sticky-placement-show-on-ad-only{display:none}\n','']),e.exports=t},function(e,t,n){var a=n(3);t=a(!1),t.push([e.i,'.exco_sticky-full-width{display:block;position:fixed;background:white;width:100%;left:0;right:0;box-shadow:0 0 20px 3px rgba(0,0,0,0.18)}\n','']),e.exports=t},function(e,t,n){var a=n(3);t=a(!1),t.push([e.i,'[data-ads-playing=true] .exco-ap_container{display:block}[data-ads-playing=false] .exco-ap_container{display:none}.hidden .exco_sticky-full-width,.hidden .pbs-gallery,.hidden .pbs__player,.hidden .exco_sticky-x-button-container{display:none}\n','']),e.exports=t},function(e,t,n){var a=n(3);t=a(!1),t.push([e.i,'.exco_headline{color:#555555;font-size:14px;font-style:italic;padding:5px;font-family:Roboto, sans-serif;text-align:center}.exco_headline.exco_headline-hide{visibility:visible}.exco_headline.exco_headline-hide{visibility:hidden}\n','']),e.exports=t},function(e,t,n){var a=n(9);e.exports=function(e){if(Array.isArray(e))return a(e)}},function(e){function t(e){if('undefined'!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}e.exports=t},function(e,t,n){var a=n(9);e.exports=function(e,t){if(e){if('string'==typeof e)return a(e,t);var i=Object.prototype.toString.call(e).slice(8,-1);return'Object'===i&&e.constructor&&(i=e.constructor.name),'Map'===i||'Set'===i?Array.from(e):'Arguments'===i||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i)?a(e,t):void 0}}},function(e){e.exports=function(){throw new TypeError('Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.')}},function(e){'use strict';function t(e){if(e===void 0||null===e)throw new TypeError('Cannot convert first argument to object');for(var t=Object(e),n=1,a;n<arguments.length;n++)if(a=arguments[n],void 0!==a&&null!==a)for(var i=Object.keys(Object(a)),o=0,r=i.length;o<r;o++){var s=i[o],l=Object.getOwnPropertyDescriptor(a,s);void 0!==l&&l.enumerable&&(t[s]=a[s])}return t}e.exports={assign:t,polyfill:function(){Object.assign||Object.defineProperty(Object,'assign',{enumerable:!1,configurable:!0,writable:!0,value:t})}}},function(e){function t(n,a){return e.exports=t=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},t(n,a)}e.exports=t},function(e){function t(n){'@babel/helpers - typeof';return e.exports='function'==typeof Symbol&&'symbol'==typeof Symbol.iterator?t=function(e){return typeof e}:t=function(e){return e&&'function'==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?'symbol':typeof e},t(n)}e.exports=t},function(e){e.exports=function(e){if(void 0===e)throw new ReferenceError('this hasn\'t been initialised - super() hasn\'t been called');return e}},function(e,t,n){var a=n(3);t=a(!1),t.push([e.i,'@keyframes slide-in-bottom{0%{transform:translateY(10px);opacity:0}100%{transform:translateY(0);opacity:1}}@keyframes up-and-down{0%,100%{transform:translateY(4px)}40%,55%{transform:translateY(-4px)}}.pbs[data-pbs-position="static"] .pbs-cta .pbs-cta-button.cta-button-hide-on-device{display:none}.pbs[data-pbs-position="sticky"] .pbs-cta{font-size:15px;line-height:16px}@media only screen and (max-width: 768px){.pbs[data-pbs-position="sticky"] .pbs-cta{font-size:11px;bottom:0}}.pbs[data-pbs-position="sticky"] .pbs-cta.cta-button-sticky-upper-large .pbs-cta-button .pbs-cta-icon{display:flex;margin-right:0;margin-bottom:15px}.pbs[data-pbs-position="sticky"] .pbs-cta.cta-button-sticky-upper-large .pbs-cta-button .pbs-cta-icon svg{width:32px;height:32px}.pbs[data-pbs-position="sticky"] .pbs-cta.cta-button-sticky-upper-small .pbs-cta-button{padding:5px 15px !important;width:unset !important;max-width:80%}.pbs[data-pbs-position="sticky"] .pbs-cta.cta-button-sticky-upper-small .pbs-cta-button.cta-button-hide-on-sticky{display:flex}.pbs[data-pbs-position="sticky"] .pbs-cta .pbs-cta-button{padding:5px 12px;animation:none;bottom:-13px}.pbs[data-pbs-position="sticky"] .pbs-cta .pbs-cta-button.cta-button-hide-on-sticky{display:none}.pbs[data-pbs-position="sticky"] .pbs-cta .pbs-cta-button .pbs-cta-icon{height:15px}.pbs[data-pbs-position="sticky"] .pbs-cta .pbs-cta-button .pbs-cta-icon svg{width:15px;height:15px}@media only screen and (max-width: 768px){.pbs:not([data-pbs-position="sticky"]) .pbs-ui-hub.title-enabled .pbs-cta{bottom:75px;font-size:14px}}.pbs[data-pbs-ads="playing"]:not([data-pbs-content="playing"]) .pbs-cta{z-index:0;visibility:hidden}.pbs-cta{position:absolute;left:50%;z-index:2;bottom:0;transform:translate(-50%, 50%);font-size:16px;line-height:1.5;transition:opacity 0.2s ease-in-out;font-weight:var(--exco-font-weight);font-family:var(--exco-font-family)}.pbs[data-pbs-size=\'tiny\'] .pbs-cta{font-size:10px}.pbs[data-pbs-size=\'small\'] .pbs-cta{font-size:12px}.pbs[data-pbs-size=\'small-tiny\'] .pbs-cta{font-size:12px}.pbs[data-pbs-size=\'medium\'] .pbs-cta{font-size:14px}.pbs[data-pbs-size=\'large\'] .pbs-cta{font-size:18px}.pbs-cta.pbs-hidden{pointer-events:none;opacity:0}.pbs-cta.pbs-cta-fullscreen{position:absolute;left:50%;transform:translate(-50%, 0);bottom:0;height:100%;width:100%;display:flex;justify-content:center;z-index:2;cursor:pointer}.pbs-cta.pbs-cta-fullscreen .pbs-cta-button{position:absolute;bottom:-17px}.pbs-cta .pbs-cta-button{display:flex;align-items:center;cursor:pointer;color:#fff;background-color:black;padding:8px 23px;border-radius:57px}.pbs-cta .pbs-cta-button.animated{animation:up-and-down 1.5s cubic-bezier(0.215, 0.61, 0.355, 1) infinite}@media only screen and (max-width: 768px){.pbs-cta .pbs-cta-button{padding:5px 10px !important;background-color:var(--pbs-color-progress-bar)}}.pbs-cta .pbs-cta-button .pbs-cta-text{white-space:nowrap}.pbs-cta .pbs-cta-button .pbs-cta-icon{margin-right:8px;height:18px;display:flex;align-items:center}.pbs-cta .pbs-cta-button .pbs-cta-icon.pbs-cta-icon-sticky-only{display:none}@media only screen and (max-width: 768px){.pbs-cta .pbs-cta-button .pbs-cta-icon{height:14px}}.pbs-cta .pbs-cta-button .pbs-cta-icon svg{width:18px;height:18px}@media only screen and (max-width: 768px){.pbs-cta .pbs-cta-button .pbs-cta-icon svg{width:14px;height:14px}}.pbs[data-pbs-position="sticky"] .pbs-cta.cta-button-sticky-upper-large{right:calc(var(--exco-remaining-width-sticky) * -1);left:unset;transform:unset;background-color:var(--exco-cta-color-sticky);width:var(--exco-remaining-width-sticky);top:0;height:calc(var(--exco-sticky-player-height) + 1px);display:flex}.pbs[data-pbs-position="sticky"] .pbs-cta.cta-button-sticky-upper-large .pbs-cta-button{font-size:14px;font-weight:600;font-variant:all-small-caps;line-height:20px;width:var(--exco-remaining-width-sticky);box-sizing:border-box;display:flex;flex-direction:column;justify-content:center;position:unset}.pbs[data-pbs-position="sticky"] .pbs-cta.cta-button-sticky-upper-large .pbs-cta-button .pbs-cta-text{max-width:100%;white-space:normal;overflow:hidden;text-overflow:ellipsis}.pbs[data-pbs-position="sticky"] .pbs-cta.cta-button-sticky-upper-small{right:calc(var(--exco-remaining-width-sticky) * -1);left:unset;transform:unset;height:var(--exco-sticky-player-height);background-color:#fff;width:var(--exco-remaining-width-sticky)}.pbs[data-pbs-position="sticky"] .pbs-cta.cta-button-sticky-upper-small .pbs-cta-button{top:35%;bottom:35%;font-size:14px;margin:auto;width:50%}.pbs-cta.cta-button-sticky-upper-small .pbs-cta-button .pbs-cta-text{margin:auto}\n','']),e.exports=t},function(e,t,n){var a=n(3);t=a(!1),t.push([e.i,'.pbs-animated-text-lines-wrapper{position:relative;overflow:hidden}.pbs-animated-text-lines{white-space:nowrap;overflow:hidden;float:left;padding:0 6px;font-weight:var(--exco-font-weight);font-family:var(--exco-font-family)}.pbs-animated-text-lines.pbs-hidden{display:none}\n','']),e.exports=t},function(e,t,n){var a=n(3);t=a(!1),t.push([e.i,'.pbs-title-wrapper{position:absolute;z-index:2;left:18px;right:40px}@media only screen and (max-width: 768px){.pbs-title-wrapper{left:10px;right:10px !important}}.pbs-title-wrapper.bottom{bottom:7%}@media only screen and (max-width: 768px){.pbs-title-wrapper.bottom{bottom:unset !important}}.pbs-title-wrapper.top{top:5%}@media only screen and (min-width: 768px){.pbs .pb-device-desktop .avp-p-cn{bottom:-5px}}@media only screen and (max-width: 768px){.pbs:not([data-pbs-position="sticky"]) .pbs-transition-wrapper{height:calc(100% - 74px) !important}}@media only screen and (max-width: 768px){.pbs:not([data-pbs-position="sticky"]){border-bottom-right-radius:0;border-bottom-left-radius:0}.pbs:not([data-pbs-position="sticky"]) .pbs-transition-wrapper{border-bottom-right-radius:0 !important;border-bottom-left-radius:0 !important}.pbs:not([data-pbs-position="sticky"]) .pb-stream{border-bottom-right-radius:0;border-bottom-left-radius:0}.pbs:not([data-pbs-position="sticky"]) .pb-stream .avp-p-wrapper div[id^="content_"]{border-bottom-right-radius:0;border-bottom-left-radius:0}}.pbs[data-pbs-player="ads"]:not([data-pbs-device="mobile"]) .pbs-title-wrapper{z-index:0;visibility:hidden}.pbs[data-pbs-position="sticky"] .pbs-title{line-height:1.2rem;font-size:1.05rem}@media only screen and (max-width: 768px){.pbs[data-pbs-position="sticky"] .pbs-title{visibility:hidden;font-size:0.75rem !important}}.pbs[data-pbs-position="sticky"] .pbs-title.bottom{bottom:10%}.avp-p-cn.avp-pos-abs{display:flex;justify-content:flex-end;height:37px !important}.avp-p-cn.avp-pos-abs .avp-p-cn-r{padding-right:10px}.pbs-title{color:var(--exco-title-text-color);line-height:2rem;font-size:1.63rem}@media only screen and (max-width: 768px){.pbs-title{font-size:1rem;line-height:1.2rem;position:relative;top:20px}.pbs-title .pbs-animated-text-lines{padding:0}}.pbs-title.pbs-hidden{z-index:-1}.pbs-title.clickable .pbs-animated-text-lines{cursor:pointer}.pbs-title .pbs-animated-text-lines{background-color:rgba(var(--exco-title-background-color-rgb), 0.9)}.pbs-title .pbs-animated-text-lines.line-1{max-width:95%;text-overflow:ellipsis}@media only screen and (max-width: 768px){.pbs-title .pbs-animated-text-lines{background-color:#fff;color:#000}}\n','']),e.exports=t},function(e,t,n){var a=n(3);t=a(!1),t.push([e.i,'.pbs[data-pbs-position="sticky"] .pbs-paging{display:none}@media only screen and (max-width: 768px){.pbs-gallery.right{top:35px}}.avp-p-gui-b .avp-p-dk.avp-pos-abs{background:linear-gradient(to bottom, transparent 0%, transparent 50%, rgba(0,0,0,0.7) 100%)}.pbs-paging{display:flex;height:35px;justify-content:center;align-items:center;position:absolute;z-index:3;width:100%}@media only screen and (max-width: 768px){.pbs-paging{position:relative}}.pbs-paging.top{bottom:0}.pbs-paging.bottom{top:0}.pbs-paging.pbs-hidden{opacity:0}.pbs-paging .pbs-paging-dot{width:8px;height:8px;border:1px solid var(--exco-paging-color);border-radius:50%;margin:5px;cursor:pointer}.pbs-paging .pbs-paging-dot.active{background-color:rgba(var(--exco-paging-color-rgb), 1);pointer-events:none}.pbs-paging .pbs-paging-dot:hover{background-color:rgba(var(--exco-paging-color-rgb), 0.6)}\n','']),e.exports=t},function(e,t,n){var a=n(3);t=a(!1),t.push([e.i,'.pbs-metadata-wrapper{position:absolute;z-index:2;left:18px;right:40px}@media only screen and (max-width: 768px){.pbs-metadata-wrapper{left:10px;right:10px !important}}.pbs-metadata-wrapper.bottom{bottom:7%}.pbs-metadata-wrapper.top{top:5%}@media only screen and (max-width: 768px){.pbs-ui-hub.title-disabled .pbs-metadata-wrapper{z-index:0;visibility:hidden}}.pbs[data-pbs-position="sticky"] .pbs-metadata{font-size:13px;line-height:15px}.pbs[data-pbs-position="sticky"] .pbs-metadata .pbs-metadata-inner{padding:3px 8px}.pbs-metadata{display:flex;color:#000;font-size:15px;font-weight:normal;font-family:var(--exco-font-family);overflow:hidden;line-height:18px}@media only screen and (max-width: 768px){.pbs-metadata{display:none}}.pbs-metadata.top{margin-top:10px}.pbs-metadata.bottom{margin-bottom:10px}.pbs-metadata.standalone{position:absolute;bottom:0;left:5%}.pbs-metadata.pbs-hidden{visibility:hidden}.pbs-metadata .pbs-metadata-inner{display:flex;padding:3px 15px;background:rgba(0,0,0,0.35);color:#fff;border-radius:16px}.pbs-metadata .pbs-metadata-duration{padding-left:5px}.pbs-metadata .pbs-metadata-date.pbs-hidden,.pbs-metadata .pbs-metadata-duration.pbs-hidden{display:none}\n','']),e.exports=t},function(e,t,n){var a=n(3);t=a(!1),t.push([e.i,'@media only screen and (max-width: 768px){.pbs[data-pbs-position="sticky"] .pbs-transition-wrapper{height:calc(100% + 1px)}}.pbs[data-pbs-position="sticky"] .pbs-transition-wrapper .pbs-transition{font-size:25px;line-height:27px}.pbs-transition-wrapper{position:absolute;top:0;z-index:2;width:100%;height:100%;overflow:hidden}.pbs-transition-wrapper.pbs-hidden{z-index:0;visibility:hidden}.pbs-transition-wrapper .pbs-transition{background-color:var(--pbs-color-transition);clip-path:polygon(0% 0%, 0% 100%, 0% 0%, 100% 0%);height:100%;display:flex;justify-content:center;flex-direction:column;color:#fff;padding-left:30px;font-size:38px;line-height:43px;font-weight:var(--exco-font-weight);font-family:var(--exco-font-family)}@media only screen and (max-width: 768px){.pbs-transition-wrapper .pbs-transition{padding:0;align-items:center}}.pbs-transition-wrapper .pbs-transition .pbs-transition-logo{max-width:35%;margin-bottom:25px}@media only screen and (max-width: 768px){.pbs-transition-wrapper .pbs-transition .pbs-transition-logo{margin:0;max-width:65%}}.pbs-transition-wrapper .pbs-transition .pbs-animated-text-lines-container{width:calc(100% - 30px);text-decoration:none}.pbs-transition-wrapper .pbs-transition .pbs-animated-text-lines-container .pbs-animated-text-lines{padding:0}.pbs-transition-wrapper .pbs-transition .pbs-animated-text-lines-container .line-2{max-width:95%;text-overflow:ellipsis}@media only screen and (max-width: 768px){.pbs-transition-wrapper .pbs-transition .pbs-animated-text-lines-container{display:none}}.pbs-transition-wrapper .pbs-transition.animate{animation-name:polygon;animation-duration:5s;animation-timing-function:linear}.pbs-transition-wrapper .pbs-transition.animate-in{animation-name:fromCenterIn;animation-duration:.3s;animation-timing-function:linear}.pbs-transition-wrapper .pbs-transition.animate-out{animation-name:fromCenterOut;animation-duration:.3s;animation-timing-function:linear}.pbs-transition-wrapper .pbs-transition.full-size{clip-path:polygon(-5% -5%, -5% 105%, 105% 105%, 105% -5%)}@keyframes fromCenterIn{0%{clip-path:polygon(50% 50%, 50% 50%, 50% 50%, 50% 50%)}100%{clip-path:polygon(-5% -5%, -5% 105%, 105% 105%, 105% -5%)}}@keyframes flyAway{0%{clip-path:polygon(0% 0%, 0% 100%, 100% 100%, 100% 0%)}100%{clip-path:polygon(0% 0%, 0% 0%, 0% 0%, 0% 0%)}}@keyframes fromCenterOut{0%{clip-path:polygon(0% 0%, 0% 100%, 50% 100%, 50% 50%, 50% 50%, 50% 50%, 50% 50%, 50% 100%, 100% 100%, 100% 0%)}50%{clip-path:polygon(0% 0%, 0% 100%, 25% 100%, 25% 25%, 75% 25%, 75% 75%, 25% 75%, 25% 100%, 100% 100%, 100% 0%)}100%{clip-path:polygon(0% 0%, 0% 100%, 0 100%, 0 0, 100% 0, 100% 100%, 0 100%, 0 100%, 100% 100%, 100% 0%)}}@keyframes polygonIn{0%{clip-path:polygon(0% 0%, 0% 100%, 0% 100%, 0% 0%)}20%{clip-path:polygon(0% 0%, 0% 100%, 0% 100%, 25% 0%)}40%{clip-path:polygon(0% 0%, 0% 100%, 25% 100%, 50% 0%)}60%{clip-path:polygon(0% 0%, 0% 100%, 50% 100%, 75% 0%)}80%{clip-path:polygon(0% 0%, 0% 100%, 75% 100%, 100% 0%)}100%{clip-path:polygon(0% 0%, 0% 100%, 100% 100%, 100% 0%)}}@keyframes polygonOut{0%{clip-path:polygon(0% 0%, 0% 100%, 100% 100%, 100% 0%)}20%{clip-path:polygon(0% 0%, 25% 100%, 100% 100%, 100% 0%)}40%{clip-path:polygon(25% 0%, 50% 100%, 100% 100%, 100% 0%)}60%{clip-path:polygon(50% 0%, 75% 100%, 100% 100%, 100% 0%)}80%{clip-path:polygon(75% 0%, 100% 100%, 100% 100%, 100% 0%)}100%{clip-path:polygon(100% 0%, 100% 100%, 100% 100%, 100% 0%)}}@keyframes polygon{0%{clip-path:polygon(0% 0%, 0% 100%, 0% 100%, 0% 0%)}10%{clip-path:polygon(0% 0%, 0% 100%, 0% 100%, 25% 0%)}20%{clip-path:polygon(0% 0%, 0% 100%, 25% 100%, 50% 0%)}30%{clip-path:polygon(0% 0%, 0% 100%, 50% 100%, 75% 0%)}40%{clip-path:polygon(0% 0%, 0% 100%, 75% 100%, 100% 0%)}45%{clip-path:polygon(0% 0%, 0% 100%, 100% 100%, 100% 0%)}50%{clip-path:polygon(0% 0%, 0% 100%, 100% 100%, 100% 0%)}55%{clip-path:polygon(0% 0%, 0% 100%, 100% 100%, 100% 0%)}55%{clip-path:polygon(0% 0%, 0% 100%, 100% 100%, 100% 0%)}60%{clip-path:polygon(0% 0%, 25% 100%, 100% 100%, 100% 0%)}70%{clip-path:polygon(25% 0%, 50% 100%, 100% 100%, 100% 0%)}80%{clip-path:polygon(50% 0%, 75% 100%, 100% 100%, 100% 0%)}90%{clip-path:polygon(75% 0%, 100% 100%, 100% 100%, 100% 0%)}100%{clip-path:polygon(100% 0%, 100% 100%, 100% 100%, 100% 0%)}}\n','']),e.exports=t},function(e,t,n){var a=n(3);t=a(!1),t.push([e.i,'.pb-stream{overflow:hidden}.pb-stream .avp-p-wrapper div[id^="content_"]{overflow:hidden}[data-pbs-position="sticky"][data-pbs-sticky="mobile-upper-large"] .pbs__player,[data-pbs-position="sticky"][data-pbs-sticky="mobile-upper-large"] .pb-stream[style],[data-pbs-position="sticky"][data-pbs-sticky="mobile-upper-small"] .pbs__player,[data-pbs-position="sticky"][data-pbs-sticky="mobile-upper-small"] .pb-stream[style]{border-radius:0 !important}[data-pbs-position="sticky"][data-pbs-sticky="mobile-upper-large"] .pb-stream .avp-p-wrapper div[id^="content_"],[data-pbs-position="sticky"][data-pbs-sticky="mobile-upper-small"] .pb-stream .avp-p-wrapper div[id^="content_"]{border-radius:0 !important}[data-pbs-position="sticky"][data-pbs-sticky="mobile-upper-large"] .pbs-transition-wrapper,[data-pbs-position="sticky"][data-pbs-sticky="mobile-upper-small"] .pbs-transition-wrapper{border-radius:0 !important}@media only screen and (max-width: 768px){[data-pbs-position="sticky"][data-pbs-sticky="mobile-upper-large"] .pbs__player .pbs-ui-hub,[data-pbs-position="sticky"][data-pbs-sticky="mobile-upper-small"] .pbs__player .pbs-ui-hub{border-bottom-right-radius:0 !important;border-bottom-left-radius:0 !important}}@media only screen and (max-width: 768px){[data-pbs-position="sticky"][data-pbs-sticky="mobile-upper-large"] [data-pbs-position="sticky"] .pbs-transition-wrapper,[data-pbs-position="sticky"][data-pbs-sticky="mobile-upper-small"] [data-pbs-position="sticky"] .pbs-transition-wrapper{border-radius:0 !important}}\n','']),e.exports=t},function(e,t,n){var a=n(3);t=a(!1),t.push([e.i,'.pbs[data-pbs-ads="playing"]:not([data-pbs-content="playing"]):not([data-pbs-position="sticky"]) .pbs-title-wrapper,.pbs[data-pbs-ads="playing"]:not([data-pbs-content="playing"]):not([data-pbs-position="sticky"]) .pbs-metadata-wrapper{right:100px}.pbs-ui-hub{z-index:3;background-color:#fff}.pbs-ui-hub.pbs-hidden{opacity:0}@media only screen and (max-width: 768px){.pbs__player .pbs-ui-hub.title-enabled{height:75px;border:1px solid rgba(0,0,0,0.2);border-top:0;box-sizing:border-box}}@media only screen and (max-width: 768px){[data-pbs-position="sticky"] .pbs__player .pbs-ui-hub{border:0}}@media only screen and (max-width: 768px){[data-pbs-position="sticky"]:not([data-pbs-sticky="mobile-upper-small"]) .pbs__player .pbs-ui-hub,[data-pbs-position="sticky"]:not([data-pbs-sticky="mobile-upper-large"]) .pbs__player .pbs-ui-hub{height:0}}@media only screen and (max-width: 768px){[data-pbs-position="static"] .pbs__player .pb-stream{border:0.5px solid rgba(0,0,0,0.2);border-bottom:0}}\n','']),e.exports=t},function(e,t,n){var a=n(3);t=a(!1),t.push([e.i,'.pbs .avp-p-gui .avp-p-dk{background:transparent;height:100% !important;background:linear-gradient(to bottom, rgba(0,0,0,0.7) 0%, transparent 50%, rgba(0,0,0,0.7) 100%);-webkit-transition:0.1s opacity, 0.5s bottom;transition:0.1s opacity, 0.5s bottom}[data-pbs-position="sticky"] .avp-p-gui .avp-p-dk{background:linear-gradient(180deg, rgba(255,255,255,0) 0, transparent 50%, rgba(0,0,0,0.7))}.pbs .avp-p-gui:hover .avp-p-dk{opacity:1}.pbs .avp-p-gui .avp-p-gui-poster{top:-1px;left:-1px;width:calc(100% + 2px);height:calc(100% + 2px)}.pbs .pb-device-mobile .avp-p-gui .avp-pos-abs{flex-wrap:wrap;justify-content:space-between}.pbs .pb-device-mobile .avp-p-gui .avp-p-cn-m{width:100%;order:2;min-height:0px}.pbs[data-pbs-position="sticky"] .avp-p-gui .avp-p-cn-m{visibility:hidden}.pbs .pb-device-mobile .avp-p-gui .avp-p-tl{left:0 !important;right:0 !important;bottom:0 !important;top:0px !important;height:4px}.pbs .pb-device-mobile .avp-p-gui .avp-p-cn-r{margin-left:auto !important;padding-right:11px}.pbs .avp-p-gui .avp-p-tl>div{height:2px}.pbs .pb-device-desktop .avp-p-gui .avp-p-tl>div{-webkit-transition:0.1s height, 0.1s bottom;transition:0.1s height, 0.1s bottom}.pbs .pb-device-desktop .avp-p-gui .avp-p-tl:hover>div{height:12px;bottom:0px;border-radius:10px}.pbs.pb-device-mobile .avp-p-gui .avp-p-tl>div{height:4px;bottom:0px}.pbs .avp-p-gui .avp-p-tl-mt{background:rgba(255,255,255,0);z-index:1}.pbs .avp-p-gui .avp-p-tl-mt-t:after{content:"";position:absolute;width:14px;height:14px;background:white;right:-5px;bottom:-21px;-webkit-border-radius:50%;border-radius:50%;-webkit-box-shadow:0 0 7px 0 rgba(0,0,0,0.2);box-shadow:0 0 7px 0 rgba(0,0,0,0.2);border:none}.pbs .pb-device-mobile .avp-p-gui .avp-p-tl-mt-t:after{display:none !important}.pbs .avp-p-gui .avp-p-tl>.avp-p-tl-bf{background:rgba(255,255,255,0.25)}.pbs .avp-p-gui .avp-p-tl>.avp-p-tl-bg{background:rgba(8,8,8,0.2)}.pbs .avp-p-gui .avp-p-tl>.avp-p-tl-bf{height:2px;background:rgba(8,8,8,0.2)}.pbs .avp-p-gui .avp-p-tl>.avp-p-tl-pr{background-image:linear-gradient(268deg, var(--pbs-color-progress-bar), var(--pbs-color-progress-bar)) !important}.pbs #av-container #av-inner #gui #timeline #timeline-progress{background:white !important}.pbs .pb-device-desktop #av-container #av-inner #gui #timeline:before,.pbs .pb-device-desktop #av-container #av-inner #gui #timeline #timeline-buffer,.pbs .pb-device-desktop #av-container #av-inner #gui #timeline #timeline-moveto,.pbs .pb-device-desktop #av-container #av-inner #gui #timeline #timeline-progress{height:4px !important}.pbs .avp-p-gui .avp-p-tl-mt-t{padding:0 4px;border-radius:2px}.pbs .avp-p-gui-m .avp-p-cn-bp[data-avp-state="play"]{background-image:linear-gradient(225deg, var(--pbs-color-play-button), var(--pbs-color-play-button)) !important}.pbs .avp-p-gui-m .avp-p-cn-bp[data-avp-state="pause"]{background-image:linear-gradient(rgba(0,0,0,0.4), rgba(0,0,0,0.4)) !important}.pbs .avp-p-gui-m .avp-p-cn-bp:after{content:"";display:inline-block;position:absolute}.pbs .pb-device-desktop .avp-p-gui-m .avp-p-cn-bp:after{width:34px;height:34px;top:16px;left:17px}.pbs .pb-device-mobile .avp-p-gui-m .avp-p-cn-bp:after{width:24px;height:24px;top:12px;left:12px}.pbs .avp-p-gui-m .avp-p-cn-bp[data-avp-state="play"]:after{background-image:url("data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0idXRmLTgiPz4NCjwhLS0gR2VuZXJhdG9yOiBBZG9iZSBJbGx1c3RyYXRvciAyMi4xLjAsIFNWRyBFeHBvcnQgUGx1Zy1JbiAuIFNWRyBWZXJzaW9uOiA2LjAwIEJ1aWxkIDApICAtLT4NCjxzdmcgdmVyc2lvbj0iMS4xIiBpZD0icGxheSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIiB4bWxuczp4bGluaz0iaHR0cDovL3d3dy53My5vcmcvMTk5OS94bGluayIgeD0iMHB4IiB5PSIwcHgiDQoJIHZpZXdCb3g9IjAgMCAzMCAzMCIgZW5hYmxlLWJhY2tncm91bmQ9Im5ldyAwIDAgMzAgMzAiIHhtbDpzcGFjZT0icHJlc2VydmUiPg0KPHJlY3QgZmlsbC1ydWxlPSJldmVub2RkIiBjbGlwLXJ1bGU9ImV2ZW5vZGQiIGZpbGw9Im5vbmUiIHdpZHRoPSIzMCIgaGVpZ2h0PSIzMCIvPg0KPHBvbHlnb24gZmlsbD0iI2ZmZmZmZiIgcG9pbnRzPSI5LjE0MjksNSA5LjE0MjksMjUgMjQuODU3MiwxNSAiLz4NCjwvc3ZnPg==")}.pbs .avp-p-gui-m .avp-p-cn-bp[data-avp-state="pause"]:after{background-image:url("data:image/svg+xml;base64,PHN2ZyB2ZXJzaW9uPSIxLjEiIGlkPSJwYXVzZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIiB4bWxuczp4bGluaz0iaHR0cDovL3d3dy53My5vcmcvMTk5OS94bGluayIgeD0iMHB4IiB5PSIwcHgiDQoJIHZpZXdCb3g9IjAgMCAzMCAzMCIgZW5hYmxlLWJhY2tncm91bmQ9Im5ldyAwIDAgMzAgMzAiIHhtbDpzcGFjZT0icHJlc2VydmUiPg0KPHJlY3QgZmlsbD0ibm9uZSIgd2lkdGg9IjMwIiBoZWlnaHQ9IjMwIi8+DQo8cGF0aCBmaWxsPSIjZmZmZmZmIiBkPSJNNi40Mjg2LDI1aDUuNzE0M1Y1SDYuNDI4NlYyNUw2LjQyODYsMjV6IE0xNy44NTcxLDV2MjBoNS43MTQzVjVIMTcuODU3MUwxNy44NTcxLDV6Ii8+DQo8L3N2Zz4=")}.pbs .avp-p-gui-m .avp-p-cn-bp,.pbs .avp-p-gui[data-avp-ui-size="xxs"] .avp-p-cn-bp,.pbs .avp-p-gui[data-avp-ui-size="xs"] .avp-p-cn-bp,.pbs .avp-p-gui[data-avp-ui-size="s"] .avp-p-cn-bp{background-size:unset;border:none;transition:all .2s}.pbs .pb-device-desktop .avp-p-gui-m .avp-p-cn-bp{width:68px;height:68px;margin:-34px 0px 0px -34px;background-size:contain}.pbs .pb-device-mobile .avp-p-gui-m .avp-p-cn-bp{width:48px;height:48px;margin:-26px 0px 0 -26px}.pbs .avp-p-gui-m .avp-p-cn-bp:hover,.pbs .avp-p-gui[data-avp-ui-size="xxs"] .avp-p-cn-bp:hover,.pbs .avp-p-gui[data-avp-ui-size="xs"] .avp-p-cn-bp:hover,.pbs .avp-p-gui[data-avp-ui-size="s"] .avp-p-cn-bp:hover{transform:scale(1.14)}.pbs .avp-p-gui .avp-spinner{background-size:70%}.pbs #av-container #av-inner #slot #preloader{background-size:61%;background-position:center center;background-repeat:no-repeat;width:80px !important;height:80px !important;left:50% !important;top:50% !important;margin:-40px 0 0 -40px !important;color:#ff0000;-webkit-transform:scale(1.14);transform:scale(1.14)}.pbs #av-container #av-inner #slot #preloader svg.icon{display:none !important}.pbs #av-container{direction:ltr !important}.pbs .avp-p-gui[data-avp-ui-size="xxs"] ~ div #av-container #av-inner #slot #preloader{width:60px !important;height:60px !important;left:50% !important;top:50% !important;margin:-30px 0 0 -30px !important}.pbs .avp-p-gui[data-avp-ui-size="xxs"] ~ div #av-container #av-inner #slot #preloader svg.circle{width:60px;height:60px;margin-left:-30px;margin-top:-30px}.pbs .avp-p-gui[data-avp-ui-size="xxs"] ~ div #av-container #av-inner #slot #preloader svg.circle circle{cx:30 !important;cy:30 !important;r:28 !important}.pbs .avp-p-gui .avp-p-cn-bprev{background-image:url("data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0idXRmLTgiPz4NCjwhLS0gR2VuZXJhdG9yOiBBZG9iZSBJbGx1c3RyYXRvciAyMi4wLjEsIFNWRyBFeHBvcnQgUGx1Zy1JbiAuIFNWRyBWZXJzaW9uOiA2LjAwIEJ1aWxkIDApICAtLT4NCjxzdmcgdmVyc2lvbj0iMS4xIiBpZD0iY2hldnJvbi1sZWZ0LXNtIiB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHhtbG5zOnhsaW5rPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hsaW5rIiB4PSIwcHgiDQoJIHk9IjBweCIgdmlld0JveD0iMCAwIDcuMDcxMyAxMi4wMjEiIGVuYWJsZS1iYWNrZ3JvdW5kPSJuZXcgMCAwIDcuMDcxMyAxMi4wMjEiIHhtbDpzcGFjZT0icHJlc2VydmUiPg0KPHBvbHlnb24gZmlsbD0iI2ZmZmZmZiIgcG9pbnRzPSIwLDYuMDEwNyA2LjAxMDcsMCA3LjA3MTMsMS4wNjA1IDIuMTIxNiw2LjAxMDcgNy4wNzEzLDEwLjk2MDQgNi4wMTA3LDEyLjAyMSAiLz4NCjwvc3ZnPg==");left:22px}.pbs .avp-p-gui .avp-p-cn-bnext{background-image:url("data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0idXRmLTgiPz4NCjwhLS0gR2VuZXJhdG9yOiBBZG9iZSBJbGx1c3RyYXRvciAyMi4wLjEsIFNWRyBFeHBvcnQgUGx1Zy1JbiAuIFNWRyBWZXJzaW9uOiA2LjAwIEJ1aWxkIDApICAtLT4NCjxzdmcgdmVyc2lvbj0iMS4xIiBpZD0iY2hldnJvbi1yaWdodC1zbSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIiB4bWxuczp4bGluaz0iaHR0cDovL3d3dy53My5vcmcvMTk5OS94bGluayIgeD0iMHB4Ig0KCSB5PSIwcHgiIHZpZXdCb3g9IjAgMCA3LjA3MTMgMTIuMDIxIiBlbmFibGUtYmFja2dyb3VuZD0ibmV3IDAgMCA3LjA3MTMgMTIuMDIxIiB4bWw6c3BhY2U9InByZXNlcnZlIj4NCjxwb2x5Z29uIGZpbGw9IiNmZmZmZmYiIHBvaW50cz0iMCwxMC45NjA0IDQuOTQ5Nyw2LjAxMDcgMCwxLjA2MDUgMS4wNjEsMCA3LjA3MTMsNi4wMTA3IDEuMDYxLDEyLjAyMSAiLz4NCjwvc3ZnPg==");right:22px}.pbs .pb-device-mobile .avp-p-gui .avp-p-cn-bprev{left:10px}.pbs .pb-device-mobile .avp-p-gui .avp-p-cn-bnext{right:10px}.pbs .avp-p-gui .avp-p-cn-bnext,.pbs .avp-p-gui .avp-p-cn-bprev{-webkit-opacity:1;opacity:1;background-color:transparent;background-size:contain}.pbs .avp-p-gui .avp-p-cn-bnext,.pbs .avp-p-gui .avp-p-cn-bprev{width:15.8px;height:27px}.pbs .avp-p-gui .avp-p-cn-bnext,.pbs .avp-p-gui .avp-p-cn-bprev{border:none}.pbs .avp-p-gui .avp-p-cn-d{color:#dbdbdb;font-size:12px;font-weight:normal;font-style:normal;font-stretch:normal;line-height:normal;letter-spacing:normal}.pbs .pb-device-mobile .avp-p-gui .avp-p-cn-d{padding:0px !important;margin-top:5px  !important;margin-bottom:0 !important}.pbs .pb-device-mobile [data-avp-ui-size=s].avp-p-gui .avp-p-cn-d{margin-top:3px  !important}.pbs .pb-device-mobile [data-avp-ui-size=m].avp-p-gui .avp-p-cn-d{margin-top:0px  !important}.pbs .avp-p-gui .avp-p-cn-d-r,.pbs .avp-p-gui .avp-p-cn-d-s{color:white}.pbs .avp-p-gui .avp-p-cn-d-t{color:#dbdbdb}[data-pbs-position="sticky"] .avp-p-gui .avp-p-cn-d{visibility:hidden}.pbs #av-container #av-inner #gui #skip-btn{background-color:rgba(0,0,0,0.4) !important;border-radius:17px;right:7px;bottom:64px;text-transform:inherit;border:1px solid white;padding:0 30px;height:34px;font-size:14px;top:inherit}[data-pbs-position="sticky"] .pb-device-mobile #av-container #av-inner #gui #skip-btn{bottom:43px !important;padding:0 10px !important}.pbs #av-container #av-inner #gui #timer{top:7px !important;left:7px !important;border:1px solid white;background-color:rgba(0,0,0,0.4) !important}.pbs .pb-device-mobile #av-container #av-inner #gui #timer{bottom:56px !important}[data-pbs-position="sticky"] .pb-device-mobile #av-container #av-inner #gui #timer{bottom:45px !important;width:20px;height:20px;line-height:20px}[data-pbs-position="sticky"][data-pbs-sticky=\'mobile-upper-large\'] #timer[style],[data-pbs-position="sticky"][data-pbs-sticky=\'mobile-upper-small\'] #timer[style]{display:none !important}.pbs .avp-p-cn .avp-p-cn-fs[data-avp-state="on"]{background-image:url("data:image/svg+xml;base64,PHN2ZyB2ZXJzaW9uPSIxLjEiIGlkPSJmdWxsc2NyZWVuLWV4aXQiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyIgeG1sbnM6eGxpbms9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkveGxpbmsiIHg9IjBweCINCgkgeT0iMHB4IiB2aWV3Qm94PSIwIDAgMzAgMzAiIGVuYWJsZS1iYWNrZ3JvdW5kPSJuZXcgMCAwIDMwIDMwIiB4bWw6c3BhY2U9InByZXNlcnZlIj4NCjxyZWN0IGZpbGw9Im5vbmUiIHdpZHRoPSIzMCIgaGVpZ2h0PSIzMCIvPg0KPHBhdGggZmlsbD0iI2ZmZmZmZiIgZmlsbC1ydWxlPSJldmVub2RkIiBjbGlwLXJ1bGU9ImV2ZW5vZGQiIGQ9Ik0xOC45OTk5LDZoLTJ2N2g3LjAwMDJ2LTJoLTUuMDAwMlY2eiBNMTguOTk5OSwxOWg1LjAwMDJ2LTJoLTcuMDAwMnY3aDJWMTl6DQoJIE0xMS4wMDAxLDExSDUuOTk5OXYyaDcuMDAwMlY2aC0yVjExeiBNMTEuMDAwMSwyNGgydi03SDUuOTk5OXYyaDUuMDAwMlYyNHoiLz4NCjwvc3ZnPg==")}.pbs .avp-p-cn .avp-p-cn-fs[data-avp-state="off"]{background-image:url("data:image/svg+xml;base64,PHN2ZyB2ZXJzaW9uPSIxLjEiIGlkPSJpbWFnZS16b29tIiB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHhtbG5zOnhsaW5rPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hsaW5rIiB4PSIwcHgiIHk9IjBweCINCgkgdmlld0JveD0iMCAwIDMwIDMwIiBlbmFibGUtYmFja2dyb3VuZD0ibmV3IDAgMCAzMCAzMCIgeG1sOnNwYWNlPSJwcmVzZXJ2ZSI+DQo8cmVjdCBmaWxsPSJub25lIiB3aWR0aD0iMzAiIGhlaWdodD0iMzAiLz4NCjxwYXRoIGZpbGw9IiNmZmZmZmYiIGZpbGwtcnVsZT0iZXZlbm9kZCIgY2xpcC1ydWxlPSJldmVub2RkIiBkPSJNMjMuMDAwMSwxMWgyVjZoLTUuMDAwMnYyaDMuMDAwMlYxMXogTTIzLjAwMDEsMjJoLTMuMDAwMnYyaDUuMDAwMnYtNWgtMlYyMnoNCgkgTTYuOTk5OSw4aDMuMDAwMlY2SDQuOTk5OXY1aDJWOHogTTYuOTk5OSwxOWgtMnY1aDUuMDAwMnYtMkg2Ljk5OTlWMTl6IE05LDEwdjEwaDEyVjEwSDl6IE0xOS4wMDAxLDE4LjAwMDNoLTh2LTZoOFYxOC4wMDAzeiIvPg0KPC9zdmc+")}.pbs .avp-p-cn .avp-p-cn-fs{background-size:90%}.pbs .pb-device-mobile .avp-p-cn .avp-p-cn-fs{background-size:100%}.pbs .avp-p-gui-b .avp-p-cn .avp-p-cn-l{display:none}.pbs .pb-device-mobile .avp-p-gui-b>.avp-p-cn.avp-pos-abs{height:38px}.pbs .pb-device-mobile .avp-p-cn .avp-p-cn-r>.avp-p-cn-s-container,.pbs .pb-device-mobile .avp-p-cn .avp-p-cn-r>.avp-p-cn-fs.avp-btn{width:30px;height:30px;margin:0px}.pbs .pb-device-mobile .avp-p-cn .avp-p-cn-r>.avp-p-cn-s-container{margin-left:16px}.pbs .pb-device-mobile .avp-p-cn .avp-p-cn-r>.avp-p-cn-fs.avp-btn{margin-left:5px}.pbs .pb-device-desktop .avp-p-cn .avp-p-cn-r>.avp-p-cn-s-container,.pbs .pb-device-desktop .avp-p-cn .avp-p-cn-r>.avp-p-cn-fs.avp-btn{margin-left:8px}.pbs .avp-p-cn-s-container .avp-p-cn-s.avp-btn[data-avp-state="on"],.avp-p-cn-s-container .avp-p-cn-s.avp-btn[data-avp-state="medium"]{background-image:url("data:image/svg+xml;base64,PHN2ZyB2ZXJzaW9uPSIxLjEiIGlkPSJzb3VuZC1vbiIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIiB4bWxuczp4bGluaz0iaHR0cDovL3d3dy53My5vcmcvMTk5OS94bGluayIgeD0iMHB4IiB5PSIwcHgiDQoJIHZpZXdCb3g9IjAgMCAzMCAzMCIgZW5hYmxlLWJhY2tncm91bmQ9Im5ldyAwIDAgMzAgMzAiIHhtbDpzcGFjZT0icHJlc2VydmUiPg0KPHJlY3QgZmlsbD0ibm9uZSIgd2lkdGg9IjMwIiBoZWlnaHQ9IjMwIi8+DQo8cGF0aCBmaWxsPSIjZmZmZmZmIiBkPSJNMTMsN2wtNS40LDQuNWgtMmMtMC45LDAtMS42LDAuOC0xLjYsMS43djMuNmMwLDAuOSwwLjcsMS43LDEuNiwxLjdoMkwxMywyM1Y3eiIvPg0KPHBhdGggZmlsbD0iI2ZmZmZmZiIgZD0iTTE2LDZ2MmMzLjksMCw3LDMuMSw3LDdzLTMuMSw3LTcsN3YyYzUsMCw5LTQsOS05UzIxLDYsMTYsNnoiLz4NCjxwYXRoIGZpbGw9IiNmZmZmZmYiIGQ9Ik0xNiwxMHYyYzEuNywwLDMsMS4zLDMsM3MtMS4zLDMtMywzdjJjMi44LDAsNS0yLjIsNS01UzE4LjgsMTAsMTYsMTB6Ii8+DQo8L3N2Zz4=")}.pbs .avp-p-cn-s-container .avp-p-cn-s.avp-btn[data-avp-state="off"]{background-image:url("data:image/svg+xml;base64,DQo8c3ZnIHZlcnNpb249IjEuMSIgaWQ9InNvdW5kLW9mZiIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIiB4bWxuczp4bGluaz0iaHR0cDovL3d3dy53My5vcmcvMTk5OS94bGluayIgeD0iMHB4IiB5PSIwcHgiDQoJIHZpZXdCb3g9IjAgMCAzMCAzMCIgZW5hYmxlLWJhY2tncm91bmQ9Im5ldyAwIDAgMzAgMzAiIHhtbDpzcGFjZT0icHJlc2VydmUiPg0KPHJlY3QgZmlsbD0ibm9uZSIgd2lkdGg9IjMwIiBoZWlnaHQ9IjMwIi8+DQo8cGF0aCBmaWxsPSIjZmZmZmZmIiBkPSJNMTMsMjNsLTUuNC00LjVoLTJjLTAuOSwwLTEuNi0wLjgtMS42LTEuN3YtMy42YzAtMC45LDAuNy0xLjcsMS42LTEuN2gyTDEzLDdWMjN6IE0yNS41MzAzLDExLjUzMDNsLTEuMDYwNS0xLjA2MDUNCglMMjEsMTMuOTM5NGwtMy40Njk3LTMuNDY5N2wtMS4wNjA1LDEuMDYwNUwxOS45Mzk1LDE1bC0zLjQ2OTcsMy40Njk3bDEuMDYwNSwxLjA2MDVMMjEsMTYuMDYwNWwzLjQ2OTcsMy40Njk3bDEuMDYwNS0xLjA2MDUNCglMMjIuMDYwNSwxNUwyNS41MzAzLDExLjUzMDN6Ii8+DQo8L3N2Zz4=")}.pbs .avp-p-cn-s-container .avp-p-cn-s.avp-btn{background-size:90%}.pbs .pb-device-mobile .avp-p-cn-s-container .avp-p-cn-s.avp-btn{background-size:100%}.pbs .avp-p-cn-v input[type=range].avp-p-cn-vi{background:#fff;width:74px;height:2px;top:14px;left:11px;cursor:pointer;-webkit-appearance:inherit;-moz-appearance:menulist-button;-ms-progress-appearance:inherit}.pbs .avp-p-cn-v:hover input[type=range].avp-p-cn-vi{-moz-appearance:treeview  !important}.pbs .avp-p-cn-s-container .avp-p-cn-v{width:98px;height:30px;background:rgba(0,0,0,0.5);border-radius:4px;bottom:66px;margin-left:-52px;cursor:pointer;-webkit-appearance:media-slider;-moz-appearance:unset;-ms-progress-appearance:bar;transition:0.5s all;-webkit-transition-delay:0.5s;transition-delay:0.5s}.pbs .avp-p-cn-s-container .avp-p-cn-v:hover{-webkit-appearance:none;-ms-progress-appearance:unset}.pbs .pb-device-desktop .avp-p-cn{bottom:7px}.pbs .pb-device-mobile .avp-p-cn-s-container .avp-p-cn-v{display:none}.pbs[data-pbs-position="sticky"] .pb-device-desktop .avp-p-cn-v input[type=range].avp-p-cn-vi{width:37px;height:2px;top:9px;left:9px}.pbs[data-pbs-position="sticky"] .pb-device-desktop .avp-p-cn-s-container .avp-p-cn-v{width:55px;height:20px;bottom:41px;margin-left:-29px}[data-pbs-content-type="rss"] .avp-p-gui .top-logo{top:5%}[data-pbs-content-type="rss"][data-pbs-logo-pos="right"] .avp-p-gui .top-logo{right:1.7%}[data-pbs-content-type="rss"][data-pbs-logo-pos="left"] .avp-p-gui .top-logo{left:2.7%}.pbs{position:relative;max-width:var(--pbs-width);margin-top:var(--pbs-margin-top);margin-right:var(--pbs-margin-right);margin-bottom:var(--pbs-margin-bottom);margin-left:var(--pbs-margin-left)}.pbs__player{position:relative}.pb-stream{overflow:hidden}.pbs[data-pbs-layout=\'cppb\'] .pb-stream{pointer-events:unset;z-index:0}[data-pbs-content-type="rss"] .pb-stream{pointer-events:none}[data-pbs-content-type="rss"][data-pbs-player="ads"] .pb-stream{pointer-events:unset}.pbs video:first-child{object-fit:cover}.pbs[data-pbs-player="ads"] .exco__cp{display:none}.pbs[data-pbs-player="content"] .exco__cp{display:block}.pbs[data-pbs-player="ads"] .exco__ap{display:block}.pbs[data-pbs-player="content"] .exco__ap{display:none}.pbs[data-pbs-layout=\'cppb\'] .pbs__cta{pointer-events:none}.pbs[data-pbs-layout=\'cppb\'] .pbs__cta-button{pointer-events:all;z-index:1}*[data-pbs-display="false"]{display:none}*[data-pbs-display="block"]{display:none}*[data-pbs-root="true"]{display:block}\n','']),e.exports=t},function(e,t,n){var a=n(3);t=a(!1),t.push([e.i,'.pbs__display-ad{background:rgba(0,0,0,0.75);position:absolute;z-index:4;top:0;bottom:0;left:0;right:0;display:none}.pbs[data-pbs-display-ads="ended"] .pbs__display-ad{display:none}.pbs[data-pbs-display-ads="playing"] .pbs__display-ad{display:flex;justify-content:center;align-items:center;flex-wrap:wrap}.pbs__display-ad-dfp-ad-unit{width:100%;text-align:center}.pbs__display-ad-close-button{border:rgba(255,255,255,0.75);background-color:#efefef;width:24px;height:24px;border-radius:50%;position:absolute;cursor:pointer;padding:0;top:10px;right:10px}.pbs[data-pbs-size=\'tiny\'] .pbs__display-ad-close-button{display:none}.pbs[data-pbs-size=\'small-tiny\'] .pbs__display-ad-close-button{display:none}.pbs[data-pbs-size=\'small\'] .pbs__display-ad-close-button{width:18px;height:18px;top:5px;right:5px}.pbs__display-ad-close-button:after,.pbs__display-ad-close-button:before{content:"";position:absolute;height:1px;width:11px;top:50%;left:50%;margin-left:-5.5px;margin-top:-1px;background:black}.pbs__display-ad-close-button:before{transform:rotate(45deg)}.pbs__display-ad-close-button:after{transform:rotate(-45deg)}.pbs__display-ad-counter{position:absolute;top:16px;left:17px;font-size:11px;color:rgba(255,255,255,0.75)}.pbs[data-pbs-size=\'tiny\'] .pbs__display-ad-counter{display:none}.pbs[data-pbs-size=\'small-tiny\'] .pbs__display-ad-counter{display:none}.pbs[data-pbs-size=\'small\'] .pbs__display-ad-counter{font-size:10px;top:9px;left:5px}\n','']),e.exports=t},function(e,t,n){var a=n(3);t=a(!1),t.push([e.i,'.exp-debug-console{position:absolute;background-color:#000000ad;padding:10px;left:0;right:0;top:0;z-index:100;color:white;font-size:14px;font-family:monospace;margin:10px;border-radius:3px}.exp-debug-console>div{width:100%;margin-bottom:5px}\n','']),e.exports=t},function(e,t,n){var a=n(3);t=a(!1),t.push([e.i,'.pbs-gallery-item{flex-shrink:0;border-radius:3px;overflow:hidden;opacity:0;cursor:pointer;position:relative}.pbs-gallery-item.active{border:2px solid var(--pbs-color-progress-bar)}.pbs-gallery-item.active .pbs-gallery-item-title{display:none}@media only screen and (min-width: 768px){.pbs-gallery-item:not(.active):hover .pbs-gallery-item-title:not(.empty-title){opacity:1;color:#fff;background-color:rgba(0,0,0,0.7)}}.pbs-gallery-item:not(.active):hover .pbs-gallery-item-title.empty-title{opacity:0}.pbs-gallery-item .pbs-gallery-item-title{position:absolute;top:0;right:0;bottom:0;left:0;padding:5px;color:transparent;background-color:#fff;opacity:0.4;transition:all .4s ease-in-out;font-size:15px;line-height:15px;font-weight:normal;font-family:var(--exco-font-family);display:flex;text-align:center;align-items:center;justify-content:center}.pbs-gallery-item .pbs-gallery-item-poster{object-fit:cover;width:100%;height:100%}.pbs-gallery-item-next{display:none}.pbs-gallery.right .pbs-gallery-item{margin:0 0 10px 0;width:100%;height:25%}.pbs-gallery.right .pbs-gallery-item .pbs-gallery-item-title{font-size:10px}@media only screen and (max-width: 768px){.pbs-gallery.right .pbs-gallery-item{margin:0 0 5px 0}}.pbs-gallery.below .pbs-gallery-item{margin:0 10px 0 0;width:26%;height:100%}@media only screen and (min-width: 768px){.pbs-gallery.below .pbs-gallery-item.active{height:calc(100% - 4px)}}\n','']),e.exports=t},function(e,t,n){var a=n(3);t=a(!1),t.push([e.i,'.pbs-gallery:hover .pbs-gallery-prev-button,.pbs-gallery:hover .pbs-gallery-next-button{opacity:1}.pbs-gallery .pbs-gallery-prev-button,.pbs-gallery .pbs-gallery-next-button{z-index:2;position:absolute;cursor:pointer;opacity:0;transition:background-color, opacity .2s ease-in-out}.pbs-gallery .pbs-gallery-prev-button:hover,.pbs-gallery .pbs-gallery-next-button:hover{background-color:rgba(0,0,0,0.1)}.pbs-gallery .pbs-gallery-prev-button:hover:before,.pbs-gallery .pbs-gallery-next-button:hover:before{opacity:1}.pbs-gallery .pbs-gallery-prev-button:before,.pbs-gallery .pbs-gallery-next-button:before{content:"";position:absolute;opacity:.6;background:url("data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0idXRmLTgiPz4NCjwhLS0gR2VuZXJhdG9yOiBBZG9iZSBJbGx1c3RyYXRvciAyMi4wLjEsIFNWRyBFeHBvcnQgUGx1Zy1JbiAuIFNWRyBWZXJzaW9uOiA2LjAwIEJ1aWxkIDApICAtLT4NCjxzdmcgdmVyc2lvbj0iMS4xIiBpZD0iY2hldnJvbi1yaWdodC1zbSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIiB4bWxuczp4bGluaz0iaHR0cDovL3d3dy53My5vcmcvMTk5OS94bGluayIgeD0iMHB4Ig0KCSB5PSIwcHgiIHZpZXdCb3g9IjAgMCA3LjA3MTMgMTIuMDIxIiBlbmFibGUtYmFja2dyb3VuZD0ibmV3IDAgMCA3LjA3MTMgMTIuMDIxIiB4bWw6c3BhY2U9InByZXNlcnZlIj4NCjxwb2x5Z29uIGZpbGw9IiNmZmZmZmYiIHBvaW50cz0iMCwxMC45NjA0IDQuOTQ5Nyw2LjAxMDcgMCwxLjA2MDUgMS4wNjEsMCA3LjA3MTMsNi4wMTA3IDEuMDYxLDEyLjAyMSAiLz4NCjwvc3ZnPg==") 0 0 no-repeat}.pbs-gallery.below .pbs-gallery-prev-button,.pbs-gallery.below .pbs-gallery-next-button{height:calc(100% - 20px);width:25px;top:10px;bottom:10px}.pbs-gallery.below .pbs-gallery-prev-button:before,.pbs-gallery.below .pbs-gallery-next-button:before{top:50%;left:50%;width:15px;height:25px}.pbs-gallery.below .pbs-gallery-next-button{right:0;background-image:linear-gradient(to right, transparent, rgba(70,70,70,0.5));border-bottom-right-radius:3px;border-top-right-radius:3px}.pbs-gallery.below .pbs-gallery-next-button:before{transform:translate(-50%, -50%)}.pbs-gallery.below .pbs-gallery-prev-button{left:0;background-image:linear-gradient(to left, transparent, rgba(70,70,70,0.5));border-top-left-radius:3px;border-bottom-left-radius:3px}.pbs-gallery.below .pbs-gallery-prev-button:before{transform:translate(-50%, -50%) rotate(180deg)}.pbs-gallery.right .pbs-gallery-prev-button,.pbs-gallery.right .pbs-gallery-next-button{height:25px;width:calc(100% - 20px);right:10px;left:10px}@media only screen and (max-width: 768px){.pbs-gallery.right .pbs-gallery-prev-button,.pbs-gallery.right .pbs-gallery-next-button{width:calc(100% - 10px);right:5px;left:5px}}.pbs-gallery.right .pbs-gallery-prev-button:before,.pbs-gallery.right .pbs-gallery-next-button:before{top:50%;left:50%;width:15px;height:25px}.pbs-gallery.right .pbs-gallery-next-button{top:calc(100% - 25px);background-image:linear-gradient(to bottom, transparent, rgba(70,70,70,0.5));border-bottom-right-radius:3px;border-bottom-left-radius:3px}.pbs-gallery.right .pbs-gallery-next-button:before{transform:translate(-50%, -50%) rotate(90deg)}.pbs-gallery.right .pbs-gallery-prev-button{top:0;background-image:linear-gradient(to top, transparent, rgba(70,70,70,0.5));border-top-left-radius:3px;border-top-right-radius:3px}.pbs-gallery.right .pbs-gallery-prev-button:before{transform:translate(-50%, -50%) rotate(-90deg)}[data-pbs-position="sticky"][data-pbs-sticky="mobile-upper-small"] .pbs-gallery .pbs-gallery-prev-button,[data-pbs-position="sticky"][data-pbs-sticky="mobile-upper-small"] .pbs-gallery .pbs-gallery-next-button,[data-pbs-position="sticky"][data-pbs-sticky="mobile-upper-large"] .pbs-gallery .pbs-gallery-prev-button,[data-pbs-position="sticky"][data-pbs-sticky="mobile-upper-large"] .pbs-gallery .pbs-gallery-next-button{display:none}\n','']),e.exports=t},function(e,t,n){var a=n(3);t=a(!1),t.push([e.i,'.pbs[data-pbs-position="sticky"] .pbs-gallery{display:none}.pbs[data-pbs-position="sticky"][data-pbs-sticky=\'mobile-upper-large\'] .pbs-gallery,.pbs[data-pbs-position="sticky"][data-pbs-sticky=\'mobile-upper-small\'] .pbs-gallery{display:block}.pbs[data-pbs-position="sticky"][data-pbs-sticky=\'mobile-upper-large\'] .pbs-gallery.right,.pbs[data-pbs-position="sticky"][data-pbs-sticky=\'mobile-upper-small\'] .pbs-gallery.right{top:0;width:var(--exco-remaining-width-sticky);bottom:0;right:calc(var(--exco-remaining-width-sticky) * -1)}.pbs[data-pbs-position="sticky"][data-pbs-sticky=\'mobile-upper-large\'] .pbs-gallery .pbs-gallery-item,.pbs[data-pbs-position="sticky"][data-pbs-sticky=\'mobile-upper-small\'] .pbs-gallery .pbs-gallery-item{max-width:60%}.pbs[data-pbs-position="sticky"][data-pbs-sticky=\'mobile-upper-large\'] .pbs-gallery.right{margin-top:3px}.pbs[data-pbs-position="sticky"][data-pbs-sticky=\'mobile-upper-small\'] .pbs-gallery{display:block;margin:13px auto;box-sizing:border-box}.pbs[data-pbs-position="sticky"][data-pbs-sticky=\'mobile-upper-small\'] .pbs-gallery .pbs-gallery-item:not(.next){display:none}.pbs[data-pbs-position="sticky"][data-pbs-sticky=\'mobile-upper-small\'] .pbs-gallery .pbs-gallery-item-next{display:block;text-align:center;padding-bottom:5px;font-size:12px;font-family:Arial,Helvetica,sans-serif;position:relative;left:-15px}.pbs[data-pbs-position="sticky"][data-pbs-sticky=\'mobile-upper-small\'] .pbs-gallery .pbs-gallery-item.next{height:80%;width:80%}.pbs[data-pbs-position="sticky"][data-pbs-sticky=\'mobile-upper-small\'] .pbs-gallery .pbs-gallery-item.next .pbs-gallery-item-poster{opacity:1}.pbs[data-pbs-position="sticky"][data-pbs-sticky=\'mobile-upper-small\'] .pbs-gallery .pbs-gallery-items-wrapper[style]{transform:unset !important}.pbs[data-pbs-position="sticky"].pbs__player{margin-bottom:initial}.pbs[data-pbs-ads="playing"]:not([data-pbs-content="playing"]) .pbs-gallery{opacity:0.4;pointer-events:none}.pbs-gallery{position:absolute;overflow:hidden;opacity:1;transition:opacity .3s ease-in-out}.pbs-gallery.hidden{display:none}.pbs-gallery.disabled{opacity:0.4;pointer-events:none}.pbs-gallery.right{top:0;width:25%;bottom:0;right:-25%}.pbs-gallery.right .pbs-gallery-items-wrapper{flex-direction:column;padding:0 10px}@media only screen and (max-width: 768px){.pbs-gallery.right .pbs-gallery-items-wrapper{padding:0 5px}}.pbs-gallery.below{width:100%;height:30%;padding:10px 0}@media only screen and (max-width: 768px){.pbs-gallery.below{height:25%}}.pbs-gallery .pbs-gallery-items-wrapper{display:flex;height:100%;align-items:center}\n','']),e.exports=t},function(e,t,n){var a=n(3);t=a(!1),t.push([e.i,'.exco_next-video{position:absolute;right:calc(var(--exco-remaining-width-sticky) * -1);top:0;width:var(--exco-remaining-width-sticky);height:calc(100% + 1px);display:none}.exco_next-video .exco_next-video-button{height:100%;margin:0 auto}.exco_next-video .exco_next-video-button svg{height:100%}[data-pbs-position="sticky"][data-pbs-sticky=\'mobile-upper-large\'] .exco_next-video,[data-pbs-position="sticky"][data-pbs-sticky=\'mobile-upper-small\'] .exco_next-video{display:flex}\n','']),e.exports=t},function(e,t,n){'use strict';function a(e,t){const n=e.ownerDocument||((e||{}).documentElement||{}).parentNode;if(!!e&&e!==n){const n=window.Element.prototype,a=n.matches||n.webkitMatchesSelector||n.mozMatchesSelector||n.msMatchesSelector||((e)=>-1!==[].indexOf.call(document.querySelectorAll(e),this));return a.call(e,t)}return!1}function i(e){const t=e.toString(16);return 1===t.length?`0${t}`:t}function o({div:e}){return{EVENTS:$a,playerLoad:()=>ei(e,$a.PLAYER_LOAD)}}function r({constantData:e}={}){return{EVENT_TYPE:ti,EVENTS:ni,playerLoad:ii(ni.PLAYER_LOAD,e),adImpression:ii(ni.AD_IMPRESSION,e),playerClosed:ii(ni.PLAYER_CLOSED,e),ctaClicked:ii(ni.CTA_CLICKED,e)}}function s(e){var t=e.getBoundingClientRect(),n=document.documentElement,a=window.innerHeight||n.clientHeight,i=Ue(0,0<t.top?Re(t.height,a-t.top):t.bottom<a?t.bottom:a);return 0<i&&i>=t.height/2}function l(e){function t(t){var a='visible',o='hidden',r={focus:a,focusin:a,pageshow:a,blur:o,focusout:o,pagehide:o};t=t||n.event,t.type in r?e(r[t.type]):e(this[i]?'hidden':'visible')}var n=window,a=n.document,i='hidden';i in a?a.addEventListener('visibilitychange',t):(i='mozHidden')in a?a.addEventListener('mozvisibilitychange',t):(i='webkitHidden')in a?a.addEventListener('webkitvisibilitychange',t):(i='msHidden')in a?a.addEventListener('msvisibilitychange',t):'onfocusin'in a?a.onfocusin=a.onfocusout=t:n.onpageshow=n.onpagehide=n.onfocus=n.onblur=t,a[i]!==void 0&&t({type:a[i]?'blur':'focus'})}function d(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,a)}return n}function p(e){for(var t=1,n;t<arguments.length;t++)n=null==arguments[t]?{}:arguments[t],t%2?d(Object(n),!0).forEach(function(t){so()(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):d(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))});return e}function c({host:e=''}){const t=e||hd;return{sendPlayerLoadEvent:({channelId:e,ref1:n})=>kd({host:t,channelId:e,ref1:n}),sendPublisherDemandSessionEvent:({channelId:e,ref1:n})=>Pd({host:t,channelId:e,ref1:n}),sendViewablePlayerLoadEvent:({channelId:e,ref1:n})=>fd({host:t,channelId:e,ref1:n}),sendCTAClickedEvent:({channelId:e,ref1:n})=>Ad({host:t,channelId:e,ref1:n}),sendHeartBeatEvent:({channelId:e,ref1:n})=>Sd({host:t,channelId:e,ref1:n})}}function u(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,a)}return n}function _(e){for(var t=1,n;t<arguments.length;t++)n=null==arguments[t]?{}:arguments[t],t%2?u(Object(n),!0).forEach(function(t){so()(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):u(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))});return e}function g(e){var t=y();return function(){var n=Rp()(e),a;if(t){var i=Rp()(this).constructor;a=Reflect.construct(n,arguments,i)}else a=n.apply(this,arguments);return Lp()(this,a)}}function y(){if('undefined'==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if('function'==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(t){return!1}}function m(e){var t=b();return function(){var n=Rp()(e),a;if(t){var i=Rp()(this).constructor;a=Reflect.construct(n,arguments,i)}else a=n.apply(this,arguments);return Lp()(this,a)}}function b(){if('undefined'==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if('function'==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(t){return!1}}function v(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,a)}return n}function h(e){for(var t=1,n;t<arguments.length;t++)n=null==arguments[t]?{}:arguments[t],t%2?v(Object(n),!0).forEach(function(t){so()(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):v(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))});return e}function E(e){var t=k();return function(){var n=Rp()(e),a;if(t){var i=Rp()(this).constructor;a=Reflect.construct(n,arguments,i)}else a=n.apply(this,arguments);return Lp()(this,a)}}function k(){if('undefined'==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if('function'==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(t){return!1}}function f(e,t,n){return Re(Ue(e,t),n)}function A(e,t){return-1<e.indexOf(t)}function S(e,t){return e.apply(null,t)}function P(e){var t=/\(([^)]+)\)/.exec(e);return t?t[1].split(',').map(function(e){return parseFloat(e)}):[]}function C(e,n){function t(e){var t=Math.exp,i=n?n*e/1e3:e;return i=1>p?t(-i*p*d)*(u*Le(c*i)+a*Me(c*i)):(u+a*i)*t(-i*d),0===e||1===e?e:1-i}var i=P(e),o=f(lu.und(i[0])?1:i[0],.1,100),r=f(lu.und(i[1])?100:i[1],.1,100),s=f(lu.und(i[2])?10:i[2],.1,100),l=f(lu.und(i[3])?0:i[3],.1,100),d=Ne(r/o),p=s/(2*Ne(r*o)),c=1>p?d*Ne(1-p*p):0,u=1,a=1>p?(p*d+-l)/c:-l+d;return n?t:function(){var n=su.springs[e];if(n)return n;for(var a=1/6,i=0,o=0;;)if(i+=a,1!==t(i))o=0;else if(o++,16<=o)break;var r=1e3*(i*a);return su.springs[e]=r,r}}function T(e){return void 0===e&&(e=10),function(n){return Be(f(n,1e-6,1)*e)*(1/e)}}function I(e,t){if(lu.fnc(e))return e;var n=e.split('(')[0],a=pu[n],i=P(e);return'spring'===n?C(e,t):'cubicBezier'===n?S(du,i):'steps'===n?S(T,i):S(a,i)}function x(e){try{var t=document.querySelectorAll(e);return t}catch(t){}}function w(e,t){for(var n=e.length,a=2<=arguments.length?arguments[1]:void 0,o=[],r=0;r<n;r++)if(r in e){var i=e[r];t.call(a,i,r,e)&&o.push(i)}return o}function D(e){return e.reduce(function(e,t){return e.concat(lu.arr(t)?D(t):t)},[])}function O(e){return lu.arr(e)?e:(lu.str(e)&&(e=x(e)||e),e instanceof NodeList||e instanceof HTMLCollection?[].slice.call(e):[e])}function M(e,t){return e.some(function(e){return e===t})}function L(e){var t={};for(var n in e)t[n]=e[n];return t}function N(e,t){var n=L(e);for(var a in e)n[a]=t.hasOwnProperty(a)?t[a]:e[a];return n}function R(e,t){var n=L(e);for(var a in t)n[a]=lu.und(e[a])?t[a]:e[a];return n}function B(e){var t=/rgb\((\d+,\s*[\d]+,\s*[\d]+)\)/g.exec(e);return t?'rgba('+t[1]+',1)':e}function U(e){var t=/^#?([a-f\d])([a-f\d])([a-f\d])$/i,n=e.replace(t,function(e,t,n,a){return t+t+n+n+a+a}),a=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(n),i=parseInt(a[1],16),o=parseInt(a[2],16),r=parseInt(a[3],16);return'rgba('+i+','+o+','+r+',1)'}function V(e){function t(e,n,a){return 0>a&&(a+=1),1<a&&(a-=1),a<1/6?e+6*(n-e)*a:a<1/2?n:a<2/3?e+6*((n-e)*(2/3-a)):e}var n=/hsl\((\d+),\s*([\d.]+)%,\s*([\d.]+)%\)/g.exec(e)||/hsla\((\d+),\s*([\d.]+)%,\s*([\d.]+)%,\s*([\d.]+)\)/g.exec(e),i=parseInt(n[1],10)/360,o=parseInt(n[2],10)/100,s=parseInt(n[3],10)/100,l=n[4]||1,a,r,d;if(0==o)a=r=d=s;else{var c=.5>s?s*(1+o):s+o-s*o,u=2*s-c;a=t(u,c,i+1/3),r=t(u,c,i),d=t(u,c,i-1/3)}return'rgba('+255*a+','+255*r+','+255*d+','+l+')'}function z(e){return lu.rgb(e)?B(e):lu.hex(e)?U(e):lu.hsl(e)?V(e):void 0}function G(e){var t=/[+-]?\d*\.?\d+(?:\.\d+)?(?:[eE][+-]?\d+)?(%|px|pt|em|rem|in|cm|mm|ex|ch|pc|vw|vh|vmin|vmax|deg|rad|turn)?$/.exec(e);if(t)return t[1]}function H(e){return A(e,'translate')||'perspective'===e?'px':A(e,'rotate')||A(e,'skew')?'deg':void 0}function Y(e,t){return lu.fnc(e)?e(t.target,t.id,t.total):e}function F(e,t){return e.getAttribute(t)}function W(e,t,n){var a=G(t);if(M([n,'deg','rad','turn'],a))return t;var i=su.CSS[t+n];if(!lu.und(i))return i;var o=100,r=document.createElement(e.tagName),s=e.parentNode&&e.parentNode!==document?e.parentNode:document.body;s.appendChild(r),r.style.position='absolute',r.style.width=o+n;var l=o/r.offsetWidth;s.removeChild(r);var d=l*parseFloat(t);return su.CSS[t+n]=d,d}function j(e,t,n){if(t in e.style){var a=t.replace(/([a-z])([A-Z])/g,'$1-$2').toLowerCase(),i=e.style[t]||getComputedStyle(e).getPropertyValue(a)||'0';return n?W(e,i,n):i}}function Z(e,t){return lu.dom(e)&&!lu.inp(e)&&(!lu.nil(F(e,t))||lu.svg(e)&&e[t])?'attribute':lu.dom(e)&&M(ru,t)?'transform':lu.dom(e)&&'transform'!==t&&j(e,t)?'css':null==e[t]?void 0:'object'}function K(e){if(lu.dom(e)){for(var t=e.style.transform||'',n=/(\w+)\(([^)]*)\)/g,a=new Map,i;i=n.exec(t);)a.set(i[1],i[2]);return a}}function q(e,t,n,a){var i=A(t,'scale')?1:0+H(t),o=K(e).get(t)||i;return n&&(n.transforms.list.set(t,o),n.transforms.last=t),a?W(e,o,a):o}function Q(e,t,n,a){switch(Z(e,t)){case'transform':return q(e,t,a,n);case'css':return j(e,t,n);case'attribute':return F(e,t);default:return e[t]||0;}}function J(e,t){var n=/^(\*=|\+=|-=)/.exec(e);if(!n)return e;var a=G(e)||0,i=parseFloat(t),o=parseFloat(e.replace(n[0],''));switch(n[0][0]){case'+':return i+o+a;case'-':return i-o+a;case'*':return i*o+a;}}function X(e,t){if(lu.col(e))return z(e);if(/\s/g.test(e))return e;var n=G(e),a=n?e.substr(0,e.length-n.length):e;return t?a+t:a}function $(e,t){return Ne(we(t.x-e.x,2)+we(t.y-e.y,2))}function ee(e){return 2*De*F(e,'r')}function te(e){return 2*F(e,'width')+2*F(e,'height')}function ne(e){return $({x:F(e,'x1'),y:F(e,'y1')},{x:F(e,'x2'),y:F(e,'y2')})}function ae(e){for(var t=e.points,n=0,a=0,i,o;a<t.numberOfItems;a++)o=t.getItem(a),0<a&&(n+=$(i,o)),i=o;return n}function ie(e){var t=e.points;return ae(e)+$(t.getItem(t.numberOfItems-1),t.getItem(0))}function oe(e){if(e.getTotalLength)return e.getTotalLength();switch(e.tagName.toLowerCase()){case'circle':return ee(e);case'rect':return te(e);case'line':return ne(e);case'polyline':return ae(e);case'polygon':return ie(e);}}function re(e){for(var t=e.parentNode;lu.svg(t)&&!!lu.svg(t.parentNode);)t=t.parentNode;return t}function se(e,t){var n=t||{},a=n.el||re(e),i=a.getBoundingClientRect(),o=F(a,'viewBox'),r=i.width,s=i.height,l=n.viewBox||(o?o.split(' '):[0,0,r,s]);return{el:a,viewBox:l,x:l[0]/1,y:l[1]/1,w:r,h:s,vW:l[2],vH:l[3]}}function le(e,t,n){function a(n){void 0===n&&(n=0);var a=1<=t+n?t+n:0;return e.el.getPointAtLength(a)}var i=se(e.el,e.svg),o=a(),r=a(-1),s=a(1),l=n?1:i.w/i.vW,d=n?1:i.h/i.vH;switch(e.property){case'x':return(o.x-i.x)*l;case'y':return(o.y-i.y)*d;case'angle':return 180*Math.atan2(s.y-r.y,s.x-r.x)/De;}}function de(e,t){var n=/[+-]?\d*\.?\d+(?:\.\d+)?(?:[eE][+-]?\d+)?/g,a=X(lu.pth(e)?e.totalLength:e,t)+'';return{original:a,numbers:a.match(n)?a.match(n).map(Number):[0],strings:lu.str(e)||t?a.split(n):[]}}function pe(e){var t=e?D(lu.arr(e)?e.map(O):O(e)):[];return w(t,function(e,t,n){return n.indexOf(e)===t})}function ce(e){var n=pe(e);return n.map(function(e,a){return{target:e,id:a,total:n.length,transforms:{list:K(e)}}})}function ue(e,t){var n=L(t);if(/^spring/.test(n.easing)&&(n.duration=C(n.easing)),lu.arr(e)){var a=e.length,i=2===a&&!lu.obj(e[0]);i?e={value:e}:!lu.fnc(t.duration)&&(n.duration=t.duration/a)}var o=lu.arr(e)?e:[e];return o.map(function(e,n){var a=lu.obj(e)&&!lu.pth(e)?e:{value:e};return lu.und(a.delay)&&(a.delay=n?0:t.delay),lu.und(a.endDelay)&&(a.endDelay=n===o.length-1?t.endDelay:0),a}).map(function(e){return R(e,n)})}function _e(e){for(var t=w(D(e.map(function(e){return Object.keys(e)})),function(e){return lu.key(e)}).reduce(function(e,t){return 0>e.indexOf(t)&&e.push(t),e},[]),n={},a=function(a){var i=t[a];n[i]=e.map(function(e){var t={};for(var n in e)lu.key(n)?n==i&&(t.value=e[n]):t[n]=e[n];return t})},o=0;o<t.length;o++)a(o);return n}function ge(e,t){var n=[],a=t.keyframes;for(var i in a&&(t=R(_e(a),t)),t)lu.key(i)&&n.push({name:i,tweens:ue(t[i],e)});return n}function ye(e,n){var a={};for(var t in e){var i=Y(e[t],n);lu.arr(i)&&(i=i.map(function(e){return Y(e,n)}),1===i.length&&(i=i[0])),a[t]=i}return a.duration=parseFloat(a.duration),a.delay=parseFloat(a.delay),a}function me(e,n){var a;return e.tweens.map(function(i){var t=ye(i,n),o=t.value,r=lu.arr(o)?o[1]:o,s=G(r),l=Q(n.target,e.name,s,n),d=a?a.to.original:l,p=lu.arr(o)?o[0]:d,c=G(p)||G(l),u=s||c;return lu.und(r)&&(r=d),t.from=de(p,u),t.to=de(J(r,p),u),t.start=a?a.end:0,t.end=t.start+t.delay+t.duration+t.endDelay,t.easing=I(t.easing,t.duration),t.isPath=lu.pth(o),t.isPathTargetInsideSVG=t.isPath&&lu.svg(n.target),t.isColor=lu.col(t.from.original),t.isColor&&(t.round=1),a=t,t})}function be(e,t){var n=ce(e);n.forEach(function(e){for(var n in t){var a=Y(t[n],e),i=e.target,o=G(a),r=Q(i,n,o,e),s=o||G(r),l=J(X(a,s),r),d=Z(i,n);cu[d](i,n,l,e.transforms,!0)}})}function ve(e,t){var n=Z(e.target,t.name);if(n){var a=me(t,e),i=a[a.length-1];return{type:n,property:t.name,animatable:e,tweens:a,duration:i.end,delay:a[0].delay,endDelay:i.endDelay}}}function he(e,t){return w(D(e.map(function(e){return t.map(function(t){return ve(e,t)})})),function(e){return!lu.und(e)})}function Ee(e,t){var n=e.length,a=function(e){return e.timelineOffset?e.timelineOffset:0},i={};return i.duration=n?Ue.apply(Math,e.map(function(e){return a(e)+e.duration})):t.duration,i.delay=n?Re.apply(Math,e.map(function(e){return a(e)+e.delay})):t.delay,i.endDelay=n?i.duration-Ue.apply(Math,e.map(function(e){return a(e)+e.duration-e.endDelay})):t.endDelay,i}function ke(e){var t=N(iu,e),n=N(ou,e),a=ge(n,e),i=ce(e.targets),o=he(i,a),r=Ee(o,n),s=uu;return uu++,R(t,{id:s,children:[],animatables:i,animations:o,duration:r.duration,delay:r.delay,endDelay:r.endDelay})}function fe(){return!!document&&document.hidden}function Ae(e){function t(e){var t=window.Promise&&new Promise(function(e){return y=e});return e.finished=t,t}function n(){var e=m.direction;'alternate'!==e&&(m.direction='normal'===e?'reverse':'normal'),m.reversed=!m.reversed,v.forEach(function(e){return e.reversed=m.reversed})}function a(e){return m.reversed?m.duration-e:e}function i(){c=0,u=a(m.currentTime)*(1/Ae.speed)}function o(e,t){t&&t.seek(e-t.timelineOffset)}function r(e){if(!m.reversePlayback)for(var t=0;t<g;t++)o(e,v[t]);else for(var n=g;n--;)o(e,v[n])}function s(e){for(var t=0,i=m.animations,o=i.length;t<o;){var r=i[t],l=r.animatable,d=r.tweens,p=d.length-1,c=d[p];p&&(c=w(d,function(n){return e<n.end})[0]||c);for(var u=f(e-c.start-c.delay,0,c.duration)/c.duration,_=isNaN(u)?1:c.easing(u),g=c.to.strings,y=c.round,v=[],h=c.to.numbers.length,E=void 0,k=0;k<h;k++){var n=void 0,A=c.to.numbers[k],S=c.from.numbers[k]||0;n=c.isPath?le(c.value,_*A,c.isPathTargetInsideSVG):S+_*(A-S),y&&!(c.isColor&&2<k)&&(n=ze(n*y)/y),v.push(n)}var P=g.length;if(!P)E=v[0];else{E=g[0];for(var C=0;C<P;C++){var s=g[C],a=g[C+1],b=v[C];isNaN(b)||(a?E+=b+a:E+=b+' ')}}cu[r.type](l.target,r.property,E,l.transforms),r.currentValue=E,t++}}function l(e){m[e]&&!m.passThrough&&m[e](m)}function d(){m.remaining&&!0!==m.remaining&&m.remaining--}function p(e){var i=m.duration,o=m.delay,p=i-m.endDelay,g=a(e);m.progress=f(100*(g/i),0,100),m.reversePlayback=g<m.currentTime,v&&r(g),!m.began&&0<m.currentTime&&(m.began=!0,l('begin')),!m.loopBegan&&0<m.currentTime&&(m.loopBegan=!0,l('loopBegin')),g<=o&&0!==m.currentTime&&s(0),(g>=p&&m.currentTime!==i||!i)&&s(i),g>o&&g<p?(!m.changeBegan&&(m.changeBegan=!0,m.changeCompleted=!1,l('changeBegin')),l('change'),s(g)):m.changeBegan&&(m.changeCompleted=!0,m.changeBegan=!1,l('changeComplete')),m.currentTime=f(g,0,i),m.began&&l('update'),e>=i&&(u=0,d(),m.remaining?(c=_,l('loopComplete'),m.loopBegan=!1,'alternate'===m.direction&&n()):(m.paused=!0,!m.completed&&(m.completed=!0,l('loopComplete'),l('complete'),!m.passThrough&&'Promise'in window&&(y(),b=t(m)))))}void 0===e&&(e={});var c=0,u=0,_=0,g=0,y=null,m=ke(e),b=t(m),v;return m.reset=function(){var e=m.direction;m.passThrough=!1,m.currentTime=0,m.progress=0,m.paused=!0,m.began=!1,m.loopBegan=!1,m.changeBegan=!1,m.completed=!1,m.changeCompleted=!1,m.reversePlayback=!1,m.reversed='reverse'===e,m.remaining=m.loop,v=m.children,g=v.length;for(var t=g;t--;)m.children[t].reset();(m.reversed&&!0!==m.loop||'alternate'===e&&1===m.loop)&&m.remaining++,s(m.reversed?m.duration:0)},m._onDocumentVisibility=i,m.set=function(e,t){return be(e,t),m},m.tick=function(e){_=e,c||(c=_),p((_+(u-c))*Ae.speed)},m.seek=function(e){p(a(e))},m.pause=function(){m.paused=!0,i()},m.play=function(){m.paused&&(m.completed&&m.reset(),m.paused=!1,_u.push(m),i(),gu())},m.reverse=function(){n(),m.completed=!m.reversed,i()},m.restart=function(){m.reset(),m.play()},m.remove=function(e){var t=pe(e);Pe(t,m)},m.reset(),m.autoplay&&m.play(),m}function Se(e,t){for(var n=t.length;n--;)M(e,t[n].animatable.target)&&t.splice(n,1)}function Pe(e,t){var n=t.animations,a=t.children;Se(e,n);for(var i=a.length;i--;){var o=a[i],r=o.animations;Se(e,r),r.length||o.children.length||a.splice(i,1)}n.length||a.length||t.pause()}function Ce(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,a)}return n}function Te(e){for(var t=1,n;t<arguments.length;t++)n=null==arguments[t]?{}:arguments[t],t%2?Ce(Object(n),!0).forEach(function(t){so()(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Ce(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))});return e}function Ie(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,a)}return n}function xe(e){for(var t=1,n;t<arguments.length;t++)n=null==arguments[t]?{}:arguments[t],t%2?Ie(Object(n),!0).forEach(function(t){so()(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Ie(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))});return e}var we=Math.pow,De=Math.PI,Oe=Math.abs,Me=Math.sin,Le=Math.cos,Ne=Math.sqrt,Re=Math.min,Be=Math.ceil,Ue=Math.max,Ve=Math.floor,ze=Math.round;n.r(t);var Ge={};n.r(Ge),n.d(Ge,'DATA_EVENTS_NAMES',function(){return mt}),n.d(Ge,'DATA_EVENTS_ATTRIBUTES',function(){return bt});var He={};n.r(He),n.d(He,'FEES_PER_IMPRESSION',function(){return ft}),n.d(He,'DECIMAL_PRECISION',function(){return At});var Ye={};n.r(Ye),n.d(Ye,'SUB_ID_DIMENSION_NAME',function(){return Ct}),n.d(Ye,'UTM_NAMES',function(){return Tt}),n.d(Ye,'PAGE_LOAD_UID_DIMENSION_NAME',function(){return It}),n.d(Ye,'COUNTRY_DIMENSION_NAME',function(){return xt}),n.d(Ye,'AB_TEST_DIMENSION_NAMES',function(){return wt}),n.d(Ye,'INTEGRATION_TYPE_NAME',function(){return Dt});var Fe={};n.r(Fe),n.d(Fe,'BROWSERS',function(){return gt}),n.d(Fe,'COOKIES',function(){return yt}),n.d(Fe,'DATA_EVENTS',function(){return Ge}),n.d(Fe,'DEVICE_TYPES',function(){return vt}),n.d(Fe,'OS_TYPES',function(){return ht}),n.d(Fe,'PLACEMENT_PLAYER_LOCATION',function(){return kt}),n.d(Fe,'PLAYBACK',function(){return Et}),n.d(Fe,'REAL_TIME_CPM',function(){return He}),n.d(Fe,'SERVER_ROUTES',function(){return St}),n.d(Fe,'USER_AGENTS_BOTS',function(){return Pt}),n.d(Fe,'reporting',function(){return Ye}),n.d(Fe,'INTEGRATION_TYPE',function(){return Mt}),n.d(Fe,'STICKY',function(){return Ot}),n.d(Fe,'COLOR_PALETTE',function(){return Lt});var We={};n.r(We),n.d(We,'objectToQueries',function(){return Xt}),n.d(We,'queriesToObject',function(){return $t}),n.d(We,'path',function(){return en}),n.d(We,'appendQueryParams',function(){return tn}),n.d(We,'getURLWithoutQueries',function(){return nn}),n.d(We,'replaceQueryParams',function(){return an}),n.d(We,'mergeQueries',function(){return on}),n.d(We,'getParam',function(){return sn}),n.d(We,'getQueriesAsStringArray',function(){return ln}),n.d(We,'getURLWithoutProtocol',function(){return dn}),n.d(We,'removeTrailingSlash',function(){return pn}),n.d(We,'createQueryParamsByMappingKey',function(){return cn}),n.d(We,'origin',function(){return un});var je={};n.r(je),n.d(je,'convertTS',function(){return _n}),n.d(je,'millisecondsToSeconds',function(){return gn}),n.d(je,'millisecondsToSecondsOfEachMinute',function(){return yn}),n.d(je,'millisecondsToMinutes',function(){return mn}),n.d(je,'secondsToMs',function(){return bn}),n.d(je,'minutesToMs',function(){return vn}),n.d(je,'hoursToMs',function(){return hn}),n.d(je,'millisecondsToMinutesAndSeconds',function(){return En});var Ze={};n.r(Ze),n.d(Ze,'getUserAgent',function(){return On}),n.d(Ze,'isOpera',function(){return Mn}),n.d(Ze,'isFirefox',function(){return Ln}),n.d(Ze,'isSafari',function(){return Nn}),n.d(Ze,'isIE',function(){return Rn}),n.d(Ze,'isEdge',function(){return Gn}),n.d(Ze,'isChrome',function(){return Hn}),n.d(Ze,'isYandex',function(){return Yn}),n.d(Ze,'isAndroidWebView',function(){return Fn}),n.d(Ze,'isIOSWebView',function(){return Wn}),n.d(Ze,'getType',function(){return jn});var Ke={};n.r(Ke),n.d(Ke,'getUserAgent',function(){return Zn}),n.d(Ke,'isTablet',function(){return Kn}),n.d(Ke,'isMobile',function(){return qn}),n.d(Ke,'isDesktop',function(){return Qn}),n.d(Ke,'isMobileOrTablet',function(){return Jn}),n.d(Ke,'getType',function(){return Xn}),n.d(Ke,'getBrowserType',function(){return $n});var qe={};n.r(qe),n.d(qe,'subtractFeesPerImpression',function(){return ga}),n.d(qe,'calculateCPMRevShare',function(){return ya}),n.d(qe,'calculateRealTimeCPM',function(){return ma});var Qe={};n.r(Qe),n.d(Qe,'shouldSample',function(){return va});var Je={};n.r(Je),n.d(Je,'getSession',function(){return ha}),n.d(Je,'setSessionItem',function(){return Ea}),n.d(Je,'getSessionItem',function(){return ka});var Xe={};n.r(Xe),n.d(Xe,'getWhiteOpsPixelSrc',function(){return fa});var $e={};n.r($e),n.d($e,'rgbToHex',function(){return Pa}),n.d($e,'hexToRgb',function(){return Ca});var et={};n.r(et),n.d(et,'calculateHeightUponRatio',function(){return Oa}),n.d(et,'calculateItemCenter',function(){return Ma}),n.d(et,'calculateRemainingWidthFromViewPort',function(){return La});var tt={};n.r(tt),n.d(tt,'postToAllParentFrames',function(){return Na});var nt={};n.r(nt),n.d(nt,'arrays',function(){return Kt}),n.d(nt,'cookies',function(){return Dn}),n.d(nt,'device',function(){return Ke}),n.d(nt,'browser',function(){return Ze}),n.d(nt,'ElementObserver',function(){return ea}),n.d(nt,'elements',function(){return la}),n.d(nt,'environment',function(){return Tn}),n.d(nt,'guid',function(){return Jt}),n.d(nt,'http',function(){return pa}),n.d(nt,'is',function(){return Ht}),n.d(nt,'objects',function(){return jt}),n.d(nt,'playerUtil',function(){return ua}),n.d(nt,'Pubsub',function(){return _a}),n.d(nt,'realTimeCPM',function(){return qe}),n.d(nt,'ResizeObserver',function(){return ba}),n.d(nt,'sampling',function(){return Qe}),n.d(nt,'storage',function(){return Je}),n.d(nt,'time',function(){return je}),n.d(nt,'urls',function(){return We}),n.d(nt,'tracking',function(){return Xe}),n.d(nt,'ViewabilityObserver',function(){return Aa}),n.d(nt,'strings',function(){return Sa}),n.d(nt,'colors',function(){return $e}),n.d(nt,'Timer',function(){return Ia}),n.d(nt,'Logger',function(){return wa}),n.d(nt,'heartbeat',function(){return Da}),n.d(nt,'elementsRatio',function(){return et}),n.d(nt,'windowPostMessenger',function(){return tt});var at={};n.r(at),n.d(at,'getURLReportingParams',function(){return Ra}),n.d(at,'getSubId',function(){return Ba}),n.d(at,'getAllDimensions',function(){return Ua});var it={};n.r(it),n.d(it,'arrangeDimensionsParamsForDataEvents',function(){return Ga}),n.d(it,'arrangeImpressionEventForData',function(){return Ha});var ot={};n.r(ot),n.d(ot,'CLEAN_IO_SDK_URL',function(){return Ya}),n.d(ot,'inject',function(){return Fa});var rt={};n.r(rt),n.d(rt,'reportingDimensions',function(){return at}),n.d(rt,'AbTests',function(){return ja}),n.d(rt,'EnvVars',function(){return Ka}),n.d(rt,'dataEvents',function(){return it}),n.d(rt,'GooglePixel',function(){return Qa}),n.d(rt,'FacebookPixel',function(){return Ja}),n.d(rt,'cleanio',function(){return ot}),n.d(rt,'DivEventDispatcher',function(){return o}),n.d(rt,'ClientSideEventDispatcher',function(){return r}),n.d(rt,'DataEventsDispatcher',function(){return Xa});var st={};n.r(st),n.d(st,'Sticky',function(){return qi}),n.d(st,'Placeholder',function(){return ci}),n.d(st,'Headline',function(){return oo});var lt={};n.r(lt),n.d(lt,'createPlayer',function(){return wp});var dt={};n.r(dt),n.d(dt,'createAdManager',function(){return Qp});var pt=n(0),ct=n.n(pt),ut=n(1),_t=n.n(ut);var gt={CHROME:'chrome',ANDROID_WV:'android-webview',FIREFOX:'firefox',IE:'ie',SAFARI:'safari',IOS_WV:'ios-webview',EDGE:'edge',OPERA:'opera',YANDEX:'yandex',OTHER:'other',UNKNOWN:'unknown'},yt={ANONYMOUS_COOKIE_NAME:'pb-tracking-id',DEFAULT_COOKIE_MAX_AGE:2592000};const mt={END_POINTS:{ANONYMOUS:'https://prd-collector-anon.ex.co/main/events'},MCD_SDK_RENDERER_LOAD:'mcd_sdk_renderer_load',SDK_LOADED:'mcd_sdk_loaded',PAGE_VIEW:'mcd_page_view',PLAYER_LOAD:'mcd_player_load',M_PLAYER_LOAD:'mcd_m_player_load',PUBLISHER_DEMAND_SESSION:'mcd_publisher_demand_session',VIEWABLE_PLAYER_LOAD:'mcd_viewable_player_load',AD_BLOCKER_DETECTED:'mcd_player_adblock_detected',STICKY_CLOSE_BUTTON_CLICKED:'mcd_player_close_sticky',AUTOPLAY_BLOCKED:'mcd_autoplay_blocked',AD:{IMPRESSION:'mcd_player_ad_impression',SKIPPED:'mcd_player_ad_skipped'},CONTENT:{ERRORS:{ABORTED:'mcd_media_err_aborted',NETWORK:'mcd_media_err_network',DECODE:'mcd_media_err_decode',SRC_NOT_SUPPORTED:'mcd_media_err_src_not_supported'},LOAD_TIMEOUT:'mcd_video_load_timeout',START:'mcd_item_start',COMPLETE:'mcd_item_complete',PREVIOUS_BUTTON_CLICKED:'mcd_player_previous_item',MUTE_BUTTON_CLICKED:'mcd_player_muted',UNMUTE_BUTTON_CLICKED:'mcd_player_unmute',NEXT_BUTTON_CLICKED:'mcd_player_next_item',PLAY_BUTTON_CLICKED:'mcd_player_play',PAUSE_BUTTON_CLICKED:'mcd_player_pause',CTA_CLICK:'mcd_player_cta_click'},STICKY_TRIGGERED:'mcd_sticky_triggered',STATIC_PLAYER_OUT_OF_VIEW_FIRST_TIME:'mcd_static_out_of_view_first_time',PAGE_LEAVE:'mcd_page_leave',MCD_AD_REQUESTS:'mcd_ad_requests'},bt={DIMENSIONS_PARAMS_MAPPING:{utm_medium:'utm_medium',utm_campaign:'utm_campaign',utm_content:'utm_content',utm_source:'utm_source',utm_term:'utm_term',country:'country',sub_id:'sub_id'},IMPRESSION_EVENT_ATTRIBUTES:{CPM:'cpm',AD_SOURCE_TYPE:'ad_source_type',AD_SOURCE_ID:'ad_source_id',VIDEO_SOURCE_URL:'video_source_url',VOLUME:'volume',DURATION:'duration'}};var vt={MOBILE:'mobile',TABLET:'tablet',DESKTOP:'desktop'};var ht={ANDROID:'android',IOS:'ios',WINDOWS:'windows',OSX:'osx',LINUX:'linux',CHROME_OS:'chrome-os',OTHER:'other'};var Et={MODE:{AUTO_PLAY:'auto-play',PLAY_IN_VIEW:'play-in-view',PLAY_IN_VIEW_PAUSE_OUT_OF_VIEW:'play-in-view-pause',CLICK_TO_PLAY:'click-to-play',CLICK_TO_PLAY_PAUSE_OUT_OF_VIEW:'click-to-play-pause-out-view'},ACTION:{IMAGE_VIDEO:'image-video',CLICK_TO_PLAY:'click-to-play'}};var kt={BEFORE:'before',AFTER:'after',FIRST_CHILD:'first-child',LAST_CHILD:'last-child'};const ft=34e-5,At=5;var St={CTA_REDIRECT:'cta-redirect.playbuzz.com/redirect-stream',PLAYLIST:'mcd-playlist.ex.co',S3:'playbuzz-cdn.s3.amazonaws.com',CDN:'cdn.ex.co'};var Pt={GOOGLE:['Googlebot','AdsBot-Google','Feedfetcher-Google','APIs-Google','Mediapartners-Google','AdsBot-Google-Mobile','Googlebot-Image','Google-Read-Aloud','DuplexWeb-Google','Google Favicon','googleweblight'],FACEBOOK:['facebookexternalhit'],APPLE:['Applebot']};const Ct='subId',Tt={UTM_SOURCE:'utm_source',UTM_MEDIUM:'utm_medium',UTM_CAMPAIGN:'utm_campaign',UTM_TERM:'utm_term',UTM_CONTENT:'utm_content'},It='pageLoadUid',xt='country',wt={NAME:'abtest_name',WEIGHT:'abtest_weight'},Dt='integrationType';var Ot={PIXELS:'pixels',PERCENTAGE:'percentage',POSITION:{TOP_LEFT:'top-left',TOP_RIGHT:'top-right',BOTTOM_RIGHT:'bottom-right',BOTTOM_LEFT:'bottom-left',UPPER_LARGE:'upper-large',UPPER_SMALL:'upper-small'},FULLWIDTH_PERCENTAGE_SIZE:80,FULLWIDTH_PIXEL_SIZE_SMALL:178,FULLWIDTH_PIXEL_SIZE_LARGE:256,ZINDEX:9999999999,MODES:{PERSISTENT:'persistent',NONE_PERSISTENT_IN_VIEW:'non-persistent-in-view',NONE_PERSISTENT_PER_SESSION:'non-persistent-per-session',STICKY_ONLY:'sticky-only',ADS_ONLY:'ads-only',ADS_ONLY_PERSISTENT:'ads-only-persistent'},TRANSIONS:{FADE_IN:'fade-in',NONE:'regular'},PLAYER_BEHAVIOR_ON_CLOSE:{CONTINUE:'continue-on-close',PAUSE:'pause-on-close'},STICKY_CLOSE_STORAGE_KEY:'pbs_sticky-close-persist',ADS_ONLY_MODE:{VIDEO_AD_TYPE:'video',OTHER_AD_TYPE:'other',ALL_AD_TYPES:'all'},MINIMUM_WIDTH_SIZE:256};var Mt={AMP:'amp',DFP:'dfp',DEFAULT:'default'};var Lt={PRIMARY:'primary',SECONDARY:'secondary',DEFAULT:'#000'};const Nt=(e)=>null!==e&&'undefined'!=typeof e?e.constructor:null,Rt=(e,t)=>!!(e&&t&&e instanceof t),Bt=(e)=>null===e||'undefined'==typeof e,Ut=(e)=>Array.isArray(e),Vt=(e)=>Nt(e)===Object,zt=(e)=>Nt(e)===window.NodeList,Gt=(e)=>Nt(e)===String;var Ht={nullOrUndefined:Bt,enable:(e,t)=>Bt(e)||!e.enabled?{onDevice:!1,onSticky:!1}:t===vt.MOBILE||t===vt.TABLET?{onDevice:e.mobile.enabled,onSticky:e.mobile.sticky}:t===vt.DESKTOP?{onDevice:e.desktop.enabled,onSticky:e.desktop.sticky}:{onDevice:!1,onSticky:!1},element:(e)=>Rt(e,window.Element),object:Vt,string:Gt,boolean:(e)=>Nt(e)===Boolean,array:Ut,equal:(e,t)=>Gt(e)&&Gt(t)?e.toLowerCase()===t.toLowerCase():e===t,function:(e)=>Rt(e,Function),nodeList:zt,empty:(e)=>!!Bt(e)||!!((Gt(e)||Ut(e)||zt(e))&&0===e.length)||!!(Vt(e)&&0===Object.keys(e).length),inRange:(e,t,n)=>t<=e&&e<=n},Yt=n(10);const Ft=(e)=>{let t;if(!Object.values){const n=Object.keys(e);t=Array(n.length);let a=0;for(const i of n)t[a++]=e[i]}else t=Object.values(e);return t},Wt=(e,t)=>{let n=null;if(!Ht.object(t)||Ht.nullOrUndefined(e))return n;const a=Ft(t),i=a.some((t)=>Ht.string(t)&&t===e);return n=i?t:a.find((t)=>!!Wt(e,t)),n};var jt={clone:(e)=>Ht.object(e)?JSON.parse(JSON.stringify(e)):{},find:Wt,entries:(e)=>{if(!Object.entries){const t=Object.keys(e);let n=t.length;const a=Array(n);for(;n--;)a[n]=[t[n],e[t[n]]];return a}return Object.entries(e)},values:Ft,merge:(e,t={})=>{const n={};return t.useSourceArray&&(n.arrayMerge=(e,n,a)=>t.useSourceArray(e,n,a)?n:e.concat(n).map((e)=>a.cloneUnlessOtherwiseSpecified(e,a))),Yt.all(e,n)},compare:(e,t)=>Object.is?Object.is(e,t):e===t?0!==e||1/e==1/t:e!==e&&t!==t,reduceToObject:(e=[],t)=>e.reduce((e,n)=>(e[n]=t,e),{})};const Zt=(e,t)=>!Ht.array(e)||Ht.nullOrUndefined(t)?null:e.filter((e)=>Ht.string(e)&&e===t||Ht.object(e)&&jt.find(t,e))[0];var Kt={find:Zt,includes:(e,t)=>Ht.array(e)&&!Ht.nullOrUndefined(t)&&(e.includes instanceof Function?e.includes(t):!!Zt(e,t)),clone:(e=[])=>Ht.array(e)?JSON.parse(JSON.stringify(e)):void 0,random:(e=[])=>{if(Ht.array(e)){if(!e.length)return[];const t=2===e.length?ze:Ve;for(let n=e.length-1;0<n;n--){const a=t(Math.random()*n),i=e[n];e[n]=e[a],e[a]=i}return e}}},qt=n(11),Qt=n.n(qt),Jt={generate:Qt.a};const Xt=(e)=>{const t=Object.keys(e),n=t.reduce((t,n)=>{const a=e[n];return Ht.nullOrUndefined(a)||''===a?t.push(`${encodeURIComponent(n)}`):'object'==typeof a?t.push(`${encodeURIComponent(n)}=${encodeURIComponent(JSON.stringify(a))}`):t.push(`${encodeURIComponent(n)}=${encodeURIComponent(a)}`),t},[]);return n.join('&')},$t=(e)=>{const t=new URLSearchParams(e),n={};for(const a of t.keys())n[a]=1<t.getAll(a).length?t.getAll(a):t.get(a),n[a].includes(',')&&(n[a]=n[a].split(',')),a.includes('[]')&&(n[a.replace('[]','')]=n[a],delete n[a]);return Object.keys(n).forEach((e)=>decodeURIComponent(n[e])),n},en=(e)=>{const t=new URL(e);return 1<t.pathname.length?t.pathname:''},tn=(e='',t='')=>{const n=new URL(e);if(Ht.object(t))jt.entries(t).forEach(([e,t])=>{n.searchParams.append(e,t||'')});else{const e=new URLSearchParams(t);e.forEach((e,t)=>n.searchParams.append(t,e))}return`${n.origin}${en(n)}${n.search}`},nn=(e='')=>{const t=new URL(e);return`${t.origin}${en(t)}`},an=(e='',t='')=>{const n=nn(e);return tn(n,t)},on=(e='',t={},n=[])=>{const a=new URL(e),i=$t(a.searchParams),o=jt.merge([i,t]);return n.forEach((e)=>delete o[e]),`${a.origin}?${Xt(o)}`},rn=(e)=>e?e.replace(/([ =])/g,'-'):'',sn=(e,t='')=>{let n='';return window.URL&&(n=rn(new window.URL(e).searchParams.get(t))),n},ln=(e='')=>{const t=[],{searchParams:n}=new URL(e);return n.forEach((e,n)=>t.push(`${n}=${e}`)),t},dn=(e='')=>{let t=e;if(e.includes('http')){const n=new URL(e);t=`${n.hostname}${en(n)}${n.search}`}return t},pn=(e='')=>{let t=e;return'/'===e[e.length-1]&&(t=e.substring(0,e.length-1)),t},cn=(e,t)=>{const n=(e||[]).reduce((e,n)=>{const a=encodeURI(sn(t,n.name));return a&&e.push(`${n.mappingName}=${a}`),e},[]);return n.join('&')},un=(e='')=>new URL(e).origin,_n=(e)=>{const t=parseInt(e,10),n=60,a=60*n,i=24*a,o=30*i,r=12*o,s=Ve(t/r),l=Ve((t-s*r)/o),d=Ve((t-s*r-l*o)/i),p=Ve((t-s*r-l*o-d*i)/a),c=Ve((t-s*r-l*o-d*i-p*a)/n);return{years:s,months:l,days:d,hours:p,minutes:c,seconds:t-s*r-l*o-d*i-p*a-c*n}},gn=(e=0,t=0)=>+(e/1e3).toFixed(t),yn=(e=0,t=0)=>+(e/1e3%60).toFixed(t),mn=(e=0)=>Ve(e/6e4),bn=(e=0)=>1e3*e,vn=(e=0)=>bn(60*e),hn=(e=0)=>vn(60*e),En=(e=0)=>({seconds:yn(e),minutes:mn(e)}),kn=()=>{let e=window;for(;e.frameElement;)e=e.parent;return e},fn=(e)=>{let t=e;if('undefined'==typeof t){const e=kn();t=e.STREAM_AMP}return!Ht.nullOrUndefined(t)&&!0===t},An=()=>{const e=kn();if(fn()){const t=document.createElement('a');return t.href=e.document.referrer,t}return e.location},Sn=()=>document,Pn=()=>kn().performance.now(),Cn=()=>{const e=kn();return e.__EXCO=e.__EXCO||{},e.__EXCO};var Tn={url:()=>{const e=An();return e.href},host:()=>{const e=An();return e.host},referrer:()=>{const e=kn();return e.document.referrer},param:(e='')=>{const t=An();return sn(t,e)},window:kn,location:An,isAmp:fn,getPageLoadUid:()=>{const e=kn();let t=e.plbzPid||e.pbPageIdentifier;return t||(t=Jt.generate(),e.pbPageIdentifier=t),t},document:Sn,isDataSaverOn:()=>{const e=kn();return!Ht.nullOrUndefined(e.navigator.connection)&&e.navigator.connection.saveData},redirect:(e)=>{kn().open(e,'_blank ')},isGlobalFunction:(e)=>Ht.function(kn()[e]),downloadScript:(e,t={})=>new Promise((n,a)=>{const i=Sn(),o=i.getElementsByTagName('head')[0],r=i.createElement('script');r.src=e,r.onload=()=>n(),r.onerror=(t)=>a(t);const{async:s,defer:l}=t;s&&(r.async=!0),l&&(r.defer=!0),o.appendChild(r)}),getIntegrationType:()=>kn().__EXCO_INTEGRATION_TYPE,timePassedFromPageLoad:Pn,getDeltaTime:()=>gn(Pn(),2).toString(),addPreconnectLink:(e='')=>{const t=Sn(),n=t.getElementsByTagName('head')[0],a=t.createElement('link');a.rel='preconnect',a.href=e,n.appendChild(a)},getEXCONamespace:Cn,getViewPortWidth:()=>Ue(Sn().documentElement.clientWidth,window.innerWidth||0),getEnvPrefix:()=>{const e=(window.STREAM_CONFIGS||Cn()).ENV||'production';return'staging'===e?'stg-':'development'===e?'dev-':''},useCDNinsteadOfS3:(e)=>e.replace(St.S3,St.CDN)};const In=(e)=>{let t=null;const n=Tn.document().cookie.match(new RegExp(`${e}=([^;]+)`));return n&&n[1]&&(t=decodeURIComponent(n[1])),t},xn=(e,t,n=yt.DEFAULT_COOKIE_MAX_AGE)=>{Tn.document().cookie=`${e}=${t}; max-age=${n}; SameSite=None; Secure;`},wn=()=>Math.random().toString(36).substr(2,8)+Math.random().toString(36).substr(2,8);var Dn={get:In,set:xn,remove:(e)=>{Tn.document().cookie=`${e}=; expires=Thu, 01 Jan 1970 00:00:00 UTC; path=/;`},getUserCookieId:()=>{const e=In(yt.ANONYMOUS_COOKIE_NAME);if(e)return e;const t=wn();return xn(yt.ANONYMOUS_COOKIE_NAME,t,yt.DEFAULT_COOKIE_MAX_AGE),t}};const On=()=>{const e=Tn.window(),{navigator:t}=e;return t.userAgent||t.vendor||e.opera||''},Mn=()=>{const e=On();return!!window.opera||0<=e.indexOf(' OPR/')},Ln=()=>{const e=On();return'undefined'!=typeof InstallTrigger||-1<e.toLowerCase().indexOf('firefox')},Nn=()=>{const e=On();return /constructor/i.test(window.HTMLElement)||function(e){return'[object SafariRemoteNotification]'===e.toString()}(!window.safari||window.safari.pushNotification)||!!e.match(/Version\/[\d.]+.*Safari/)},Rn=()=>{const e=On().toLowerCase();return /trident.*rv:11\./.test(e)||/msie/.test(e)},Bn=()=>!!On().match('CriOS'),Un=()=>!!window.chrome&&(!!window.chrome.webstore||!!window.chrome.runtime)||/Chrome/.test(On()),Vn=()=>{const e=On();return!e.match('OPR')&&!e.match('Edg')},zn=()=>Un()&&/Edg/.test(On()),Gn=()=>!Rn()&&!!window.StyleMedia||zn(),Hn=()=>Un()&&Vn()||Bn(),Yn=()=>{const e=On();return!!e.match(/\bYaBrowser\/(\d+)/)},Fn=()=>{const e=On();return!!e.match(/(?!Chrom.*OPR)wv\).*Chrom(?:e|ium)\/([0-9\.]+)(:?\s|$)/)},Wn=()=>{const e=On();return!1===Nn()&&[/AppleWebKit\/([0-9\.]+).*Mobile/,/AppleWebKit\/([0-9\.]+).*Gecko\)$/].some((t)=>e.match(t))},jn=()=>{let e;switch(!0){case Fn():e=gt.ANDROID_WV;break;case Wn():e=gt.IOS_WV;break;case Hn():e=gt.CHROME;break;case Ln():e=gt.FIREFOX;break;case Rn():e=gt.IE;break;case Gn():e=gt.EDGE;break;case Mn():e=gt.OPERA;break;case Yn():e=gt.YANDEX;break;case Nn():e=gt.SAFARI;break;default:e=gt.UNKNOWN;}return e},Zn=()=>{const e=Tn.window(),{navigator:t}=e;return t.userAgent||t.vendor||e.opera||''},Kn=()=>{const e=Zn();return /(ipad|tablet|(android(?!.*mobile))|(windows(?!.*phone)(.*touch))|kindle|playbook|silk|(puffin(?!.*(IP|AP|WP))))/i.test(e)},qn=()=>{const e=Zn();return!Kn(e)&&/(android|bb\\d+|meego).+mobile|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\\.(browser|link)|vodafone|wap|windows ce|xda|xiino|android|ipad|playbook|silk/i.test(e)||/1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s\\-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|\\-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw\\-(n|u)|c55\/|capi|ccwa|cdm\\-|cell|chtm|cldc|cmd\\-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc\\-s|devi|dica|dmob|do(c|p)o|ds(12|\\-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(\\-|_)|g1 u|g560|gene|gf\\-5|g\\-mo|go(\\.w|od)|gr(ad|un)|haie|hcit|hd\\-(m|p|t)|hei\\-|hi(pt|ta)|hp( i|ip)|hs\\-c|ht(c(\\-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i\\-(20|go|ma)|i230|iac( |\\-|\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\/)|klon|kpt |kwc\\-|kyo(c|k)|le(no|xi)|lg( g|\/(k|l|u)|50|54|\\-[a-w])|libw|lynx|m1\\-w|m3ga|m50\/|ma(te|ui|xo)|mc(01|21|ca)|m\\-cr|me(rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(\\-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)\\-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|\\-([1-8]|c))|phil|pire|pl(ay|uc)|pn\\-2|po(ck|rt|se)|prox|psio|pt\\-g|qa\\-a|qc(07|12|21|32|60|\\-[2-7]|i\\-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h\\-|oo|p\\-)|sdk\/|se(c(\\-|0|1)|47|mc|nd|ri)|sgh\\-|shar|sie(\\-|m)|sk\\-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h\\-|v\\-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl\\-|tdg\\-|tel(i|m)|tim\\-|t\\-mo|to(pl|sh)|ts(70|m\\-|m3|m5)|tx\\-9|up(\\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|\\-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(\\-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas\\-|your|zeto|zte\\-/i.test(e.substr(0,4))},Qn=()=>!qn()&&!Kn(),Jn=()=>qn()||Kn(),Xn=()=>{let e='';switch(!0){case qn():e=vt.MOBILE;break;case Kn():e=vt.TABLET;break;default:e=vt.DESKTOP;}return e},$n=()=>jn();var ea=class{constructor(e){this._document=e,this._mutationObserver=null}observe(e,t){const n=this._getTargetElement(t);n?e(n,this):(!this._mutationObserver&&(this._mutationObserver=new window.MutationObserver(this._mutationObserverCallback(e,t))),this._mutationObserver.observe(this._document.documentElement,{childList:!0,subtree:!0}))}disconnect(){this._mutationObserver&&(this._mutationObserver.disconnect(),this._mutationObserver=null)}_mutationObserverCallback(e,t){return(n)=>{if(n.some((e)=>'childList'===e.type)){const n=this._getTargetElement(t);n&&e(n,this)}}}_getTargetElement(e){let t;for(let n=0;n<e.length&&(t=this._document.querySelector(e[n]),!t);n++);return t}};const ta=(e,t)=>{let n=e;return Ht.element(e)&&!a(e,t)&&(n=ta(e.parentNode,t)),n},na=()=>{try{return window.self!==window.top}catch(t){return!0}},aa=(e)=>na()&&window.frameElement?window.frameElement.parentElement:e,ia=(e,t)=>{Ht.object(!t)||Ht.empty(t)||jt.entries(t).filter(([,e])=>!Ht.nullOrUndefined(e)).forEach(([t,n])=>e.setAttribute(t,n))},oa=(e,t,n=null,a=null)=>{const i=document.createElement(e);return Ht.object(t)&&ia(i,t),Ht.string(n)&&('style'===e?i.appendChild(document.createTextNode(n)):i.innerText=n),Ht.string(a)&&(i.innerHTML=a),i},ra=(e,t,n,a,i)=>{const o=oa(t,n,a,i);return e.appendChild(o),o},sa=(e,t)=>Ht.element(e)&&Ht.string(t)?e.getAttribute(t):void 0;var la={inDfp:(e)=>{const t=aa(e),n=ta(t,'[id*=\'google_ads_iframe\'],[name*=\'google_ads_iframe\'],.adunit');return'undefined'!=typeof n},inIframe:na,parent:aa,sibling:(e,t)=>{const{parentElement:n}=e;return Ht.empty(n)?null:n.querySelector(t)},insert:ra,create:oa,getAttribute:sa,setAttributes:ia,getElementId:(e)=>sa(e,'id'),onresize:(e,t,n=20)=>{if(!Ht.function(t)||!Ht.element(e))return;let a=e.offsetWidth,i=e.offsetHeight;return setInterval(()=>{const n=e.offsetWidth,o=e.offsetHeight;(n!==a||o!==i)&&(a=n,i=o,t({width:a,height:i,element:e}))},n)},addClass:(e,t)=>{e.classList.add(t)},removeClass:(e,t)=>{e.classList.remove(t)},toggleClass:(e,t)=>{e.classList.toggle(t)},insertStyleSheet:(e,t)=>{const n=ra(e,'style',{type:'text/css',class:'pbs-style'},t);return n},dimensions:(e)=>{const t={};if(Ht.element(e)){const n=e.getBoundingClientRect();t.width=n.width,t.height=n.height}return t},remove:(e)=>(e.parentNode&&e.parentNode.removeChild(e),e),insertBeforeSibling:(e,t)=>{e.parentElement.insertBefore(t,e)},insertNextSibling:(e,t)=>{e.parentElement.insertBefore(t,e.nextSibling)},insertFirstChild:(e,t)=>{e.insertBefore(t,e.firstChild)},appendChild:(e,t)=>{e.appendChild(t)},getGlobalFunctionFromAttribute:(e,t)=>{const n=Tn.window(),a=sa(e,t);return Tn.isGlobalFunction(a)?n[a]:void 0},fireImgElementEvent:(e)=>{new Image().src=e},setStyle:(e={},t={})=>{jt.entries(t).forEach(([t,n])=>{e.style[t]=n})},setStyles:(e,t)=>{if(Ht.object(t)&&!Ht.empty(t))return jt.entries(t).filter(([,e])=>!Ht.nullOrUndefined(e)).forEach(([t,n])=>{e.style[t]=n}),e},getAttributeAsJson:(e,t,n)=>{let a={};const i=sa(e,t);if(Ht.string(i))try{a=JSON.parse(i)}catch(t){Ht.function(n)&&n(t)}return a},hasStyle:(e,t)=>{if(!Ht.object(t)||Ht.empty(t))return!1;const[n]=Object.keys(t),[a]=Object.values(t);return e.style[n]===a}};const da=(e,t,n,a,i=null)=>{const o=new window.XMLHttpRequest;return o.onerror=(t)=>{'function'==typeof a&&a(t)},o.onreadystatechange=()=>{4===o.readyState&&(200===o.status?'function'==typeof n&&n(o.responseText):'function'==typeof a&&a(o.responseText))},o.open(e,t,!0),o.send(i),o};var pa={get:(e,t,n)=>da('GET',e,t,n),post:(e,t,n,a=null)=>da('POST',e,t,n,a),httpRequest:da};const ca=(e)=>({byId:`[id='${e}']`,byEmbedId:`[embed-id='${e}']`});var ua={getPlayerId:()=>{const e=window.__EXCO||{};return e.PLAYER_ID||window.STREAM_ID},getPlayerPlaceHolder:(e)=>{const t=ca(e);let n=document.querySelector(t.byId);return n||(n=document.querySelector(t.byEmbedId)),n},getPlayerIdSelectors:ca};var _a=class{constructor({onCallbackError:e=null}={}){this._onCallbackError=e,this._topics={}}subscribe(e,t){!Ht.function(t)||Ht.empty(e)||(Ht.string(e)?this._pushTopic(e,t):Ht.array(e)&&e.forEach((n)=>{this._pushTopic(n,t)}))}publish(e,n){Ht.empty(e)||Ht.empty(this._topics[e])||this._topics[e].forEach((a)=>{if(!Ht.nullOrUndefined(a)&&!Ht.empty(a.callback))try{a.callback(n)}catch(t){Ht.function(this._onCallbackError)&&this._onCallbackError({topic:e,error:t})}})}_pushTopic(e,t){Ht.empty(this._topics[e])&&(this._topics[e]=[]),this._topics[e].push({callback:t})}};const ga=(e=0)=>0<e?e-ft:0,ya=(e,t)=>e&&t?e*t:0,ma=(e,t)=>+ga(ya(e,t)).toFixed(At);var ba=class{constructor(e,t=Tn.window()){return t&&t.ResizeObserver?new t.ResizeObserver(e):void(this._window=t,this._callback=e,this._observables=[],this._boundCheck=this._check.bind(this),this._boundCheck())}observe(e={}){if(!this._observables.some((t)=>t.element===e)){const{height:t,width:n}=la.dimensions(e);this._observables.push({element:e,startSize:{height:t,width:n}})}}unobserve(e){this._observables=this._observables.filter((t)=>t.element!==e)}disconnect(){this._observables=[]}_check(){const e=this._observables.filter((t)=>this._isChanged(t)).map((t)=>this._formatChangedEntryPayload(t));0<e.length&&this._callback(e),this._window.requestAnimationFrame(this._boundCheck)}_isChanged(e){let t=!1;const{height:n,width:a}=la.dimensions(e.element);return(e.startSize.height!==n||e.startSize.width!==a)&&(e.startSize.height=n,e.startSize.width=a,t=!0),t}_formatChangedEntryPayload(e){return e.element&&e.element.getBoundingClientRect instanceof Function?{target:e.element,contentRect:e.element.getBoundingClientRect()}:void 0}};const va=(e=0)=>!(0>e||100<e)&&100*Math.random()<e,ha=()=>{let e;try{e=window.sessionStorage}catch(t){e=null}return e},Ea=(e,t)=>{const n=ha();n&&n.setItem(e,JSON.stringify(t))},ka=(e)=>{let t;const n=ha();return n&&(t=JSON.parse(n.getItem(e))),t},fa=(e)=>{const t={di:Tn.host(),ui:Tn.getPageLoadUid(),pp:ua.getPlayerId(),si:e,md:2,ti:Ve(1E20*Math.random()),de:qn()?2:4};return tn('https://s.admthop.com/2/193913/analytics.gif?dt=1939131609254688303000',Xt(t))};var Aa=class{constructor({scrollElement:e=null,threshold:t=1e-5}){this._options={root:e,rootMargin:'0px',threshold:t},this._intersectionObserver=null}observe(e,t,n){this._intersectionObserver||(this._intersectionObserver=new window.IntersectionObserver(this._intersectionObserverCallback(t,n),this._options)),this._intersectionObserver.observe(e)}disconnect(){this._intersectionObserver&&(this._intersectionObserver.disconnect(),this._intersectionObserver=null)}_intersectionObserverCallback(e,t){return(n)=>{const{state:a,entry:i}=this._getEntryState(n);Ht.function(t)&&'out'===a&&t(i,this),Ht.function(e)&&'in'===a&&e(i,this)}}_getEntryState(e){const[t,n]=[e.find((t)=>t.isIntersecting),e.find((t)=>!t.isIntersecting)],a=t||n;let i='';return a&&(i=a.intersectionRatio<this._options.threshold?'out':'in'),{entry:a,state:i}}};var Sa={toCamelCase:(e='')=>e.replace(/([-_][a-z])/ig,(e)=>e.toUpperCase().replace('-','').replace('_','')),toUnderscore:(e='')=>e.match(/[A-Z]{2,}(?=[A-Z][a-z]+[0-9]*|\b)|[A-Z]?[a-z]+[0-9]*|[A-Z]|[0-9]+/g).map((e)=>e.toLowerCase()).join('_'),toKebabCase:(e='')=>e.match(/[A-Z]{2,}(?=[A-Z][a-z]+[0-9]*|\b)|[A-Z]?[a-z]+[0-9]*|[A-Z]|[0-9]+/g).map((e)=>e.toLowerCase()).join('-')};const Pa=(e,t,n)=>`#${i(e)}${i(t)}${i(n)}`,Ca=(e)=>{const t=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(e);return t?{r:parseInt(t[1],16),g:parseInt(t[2],16),b:parseInt(t[3],16)}:null};class Ta{get state(){return this._state}constructor(){this._startTime=null,this._timeLeft=null,this._state='initial',this._type=null,this._debugger=null,this._debuggerFn=null}interval(e,t,n){this._clear(),this._fn=e,this._startTime=+new Date,this._delay=t,this._timer=setInterval(e,t),this._state='working',this._type='interval',(n||this._debuggerFn)&&(this._debuggerFn=n||this._debuggerFn,this._startDebugger(t))}isWorking(){return'working'===this._state||'resumed'===this._state}timeout(e,t,n){this._clear(),this._fn=e,this._startTime=+new Date,this._delay=t,this._timer=setTimeout(()=>{this._done='done',e()},t),this._state='working',this._type='timeout',(n||this._debuggerFn)&&(this._debuggerFn=n||this._debuggerFn,this._startDebugger(t))}fadeOut(e,t,{stopFn:n,finishFn:a}){this.interval(()=>{n&&n()?(this.stop(),a()):e()},t)}pause(){this.isWorking()&&(this._clear(),this._state='paused',this._timeLeft=this._delay-(new Date-this._startTime))}resume(){'paused'===this._state&&(this._state='resumed','interval'===this._type?this.interval(this._fn,this._delay):0<this._timeLeft&&this.timeout(this._fn,this._timeLeft))}stop(){this._clear(),this._state='stopped'}makeInstant(){this._timeLeft=500}_clear(){clearInterval(this._timer),clearTimeout(this._timer),clearInterval(this._debugger),this._timer=null,this._debugger=null}_startDebugger(e){this._debug(e,this._debuggerFn),this._debugger=setInterval(()=>this._debug(e,this._debuggerFn),1e3)}_debug(e,t){const n=new Date-this._startTime,a=Be((e-n)/1e3);t(a),0>=a&&(this._fn(),this._clear())}}var Ia=Ta;class xa{constructor({prefix:e}){this._enabled=!1,this.prefix=e,this._logs=[]}enable(){window.console&&(this._enabled=!0,this._logs.forEach((e)=>this._write(e)),this.info('logger - enabled'))}info(e,t){const n=this._buildLog('info',e,t);this._write(n)}warn(e,t){const n=this._buildLog('warn',e,t);this._write(n)}error(e,t){const n=this._buildLog('error',e,t);this._write(n)}get logs(){return this._logs}_buildLog(e,t,n=''){return{msg:t,level:e,obj:n,log:`${this.prefix} - ${Date.now()} : ${t}`}}_write(e){const{level:t,msg:n,obj:a}=e;if(Ht.function(console[t])&&(this._logs.push(e),!!this._enabled)){const e=new Date().toLocaleString();console[t](`${this.prefix} - ${e}: ${n}`,a)}}}var wa=xa;var Da={init:({interval:e,timeout:t,callback:n})=>{const a=setInterval(n,e);setTimeout(()=>clearInterval(a),t)}};const Oa=(e,t)=>ze(e/t),Ma=(e,t)=>(e-t)/2,La=(e)=>{const t=Tn.getViewPortWidth();return`${t-e}px`},Na=(e,t)=>{e.parent.postMessage(t,'*');for(let n=0;n<e.parent.frames.length;n++)e.parent.frames[n].postMessage(t,'*')},Ra=(e=[])=>{const t=jt.entries(e).map(([e,t])=>({name:Sa.toUnderscore(e),value:t})),n=jt.entries(Tt).map(([e,t])=>t).filter((n)=>t.every((t)=>t.name!==n)).filter((e)=>!!Tn.param(e)).map((e)=>({name:e,value:Tn.param(e)}));return[...t,...n]},Ba=(e='',t=null)=>{const n=Ht.element(t)?la.getGlobalFunctionFromAttribute(t,'subid-function'):void 0,a=Ht.function(n)?n():Tn.param(e);return Ht.empty(a)?void 0:{name:Ct,value:a}},Ua=({subIdParamName:e,country:t,externalUtms:n},a)=>{const i=a||Tn.document().getElementById(ua.getPlayerId()),o=la.getAttributeAsJson(i,'data-exs-config')||{},r=n||o.reporting;return{pageLoadUid:Tn.getPageLoadUid(),urlParams:Ra(r),subId:Ba(e,i),integrationType:Tn.getIntegrationType(),country:t}},{DIMENSIONS_PARAMS_MAPPING:Va,IMPRESSION_EVENT_ATTRIBUTES:za}=bt,Ga=(e={})=>{const{country:t,subId:n,urlParams:a}=e,i={[Va.country]:t};return n&&(i[Va.sub_id]=n.value),a&&a.length&&a.forEach((e)=>{i[Va[e.name]]=e.value}),i},Ha=({adVolume:e,cpm:t,adSourceType:n,adSourceId:a,videoUrl:i,adDuration:o})=>{const r={[za.VOLUME]:e,[za.CPM]:t,[za.AD_SOURCE_TYPE]:n,[za.AD_SOURCE_ID]:a,[za.VIDEO_SOURCE_URL]:i,[za.DURATION]:o};return r},Ya='//d3j3yrurxcqogk.cloudfront.net/script.js',Fa=(e)=>{const t=la.create('script',{type:'text/javascript',src:Ya});la.insertFirstChild(e,t)};class Wa{constructor(){this._tests={},this._templates=[],this.STORAGE_KEY='pbs_template',this._template=null,this._MAIN_TEMPLATE={name:'main',active:!0,weight:0,config:{}},this._storedTemplateName=this._getTemplateNameFromStorage(this.STORAGE_KEY)}generate(e={}){return(this._tests=e,Ht.empty(this._tests.templates))?this.template:(this._templates=this._addMainTemplate(this._tests.templates),this._template=this._getTemplate(this._storedTemplateName,this._templates),Ht.nullOrUndefined(this._storedTemplateName)&&this._setTemplateNameToStorage(this.STORAGE_KEY,this.name),this.template)}_addMainTemplate(e){const t=e.reduce((e,t)=>e+ +t.weight,0);return this._MAIN_TEMPLATE.weight=100-t,e.push(this._MAIN_TEMPLATE),e}get template(){return this._template||{}}get templateConfig(){return this.template.config||{}}get name(){return this.template.name||null}get weight(){return this.template.weight||null}_getTemplate(e,t){let n;try{const a=this._getTemplateName(e,t);n=this._getTemplateByName(a,t)}catch(t){n={}}return n}_getTemplateName(e,t){return e?e:this._getRandomTemplateName(t)}_getTemplateNameFromStorage(e){return Je.getSessionItem(e)}_setTemplateNameToStorage(e,t){return Je.setSessionItem(e,t)}_getRandomTemplateName(e=[]){const n=this._getActiveTemplates(e),a=Math.random();let o=0,i={};for(let r=0;r<n.length;r++){const e=n[r];if(o+=+e.weight/100,a<o){i=e;break}}return i.name}_getActiveTemplates(e=[]){return e.filter((e)=>e.active)}_getTemplateByName(e='',t){return Kt.find(t,e)}}var ja=Wa;const Za=(e)=>{try{return Function(`"use strict"; return (${e})`)()}catch(e){return null}};var Ka={readVars:(e)=>{const t={};e.forEach((e)=>{const n=Za(e.getter);Ht.function(n)&&(t[e.name]=n())});const n=Tn.getEXCONamespace();n.ENV_VARS=n.ENV_VARS||{},Object.assign(n.ENV_VARS,t)},applyEnvVars:(e)=>{const t=Tn.getEXCONamespace();let n=e;return Object.keys(t.ENV_VARS).forEach((e)=>{n=n.replace(`{{${e}}}`,t.ENV_VARS[e])}),n}};const qa='AW-935419765';var Qa=class{constructor(){this._impressionNumber=0}loadScript(){return new Promise((e)=>{this._isLoaded()?this._initAndResolve(e):Tn.downloadScript(`https://www.googletagmanager.com/gtag/js?id=${qa}`,{async:!0}).then(()=>this._initAndResolve(e))})}sendGPEvent(){this._incrementImpressionNumber(),Tn.window().gtag('event','PB_FillRate',{send_to:qa,fillrate:this._impressionNumber.toString(),domain:Tn.host()})}getImpressionsNumber(){return this._impressionNumber}_initAndResolve(e){this._init(),e()}_isLoaded(){const e=Tn.window();return!!e.gtag&&!!e.dataLayer}_init(){const e=Tn.window();e.dataLayer=e.dataLayer||[],e.gtag=function(){e.dataLayer.push(arguments)},e.gtag('js',new Date),e.gtag('config',qa)}_incrementImpressionNumber(){this._impressionNumber++}};var Ja=class{constructor(){this._impressionNumber=0}loadScript(){!function(a,i,o,e,r,n,t){a.fbq||(r=a.fbq=function(){r.callMethod?r.callMethod.apply(r,arguments):r.queue.push(arguments)},!a._fbq&&(a._fbq=r),r.push=r,r.loaded=!0,r.version='2.0',r.queue=[],n=i.createElement(o),n.async=!0,n.src=e,t=i.getElementsByTagName(o)[0],t.parentNode.insertBefore(n,t))}(window,document,'script','https://connect.facebook.net/en_US/fbevents.js'),this._init()}sendFPEvent(){this._incrementImpressionNumber(),fbq('track','PB_FillRate',{fillrate:this._impressionNumber.toString(),domain:Tn.host()})}getImpressionsNumber(){return this._impressionNumber}_init(){fbq('init','349514455619608')}_incrementImpressionNumber(){this._impressionNumber++}};class Xa{constructor(e={}){this._config=this._setConfig(e),this._getDynamicBaseEventAttributes=e.getDynamicBaseEventAttributes,this._baseAttributes=this._getBaseAttributes(e.additionalBaseEventAttributes)||{},this._samplingConfig=this._initSamplingConfig(this._config.tracking)||{},this._logger=new wa({prefix:'[exco-log]'}),e.isLoggerEnabled&&this._logger.enable()}send(e,t={}){if(this._shouldSendEvent(e,this._config)){const n=this._buildEventPayload(e,t);pa.post(mt.END_POINTS.ANONYMOUS,null,this._onSendEventError.bind(this),JSON.stringify(n))}}_setConfig(e){return e?{tracking:e.tracking,reporting:e.reporting,country:e.country}:{}}_getBaseAttributes(e){const t=Ua({subIdParamName:this._getSubIdParamName(this._config)||{},country:this._config.country},null),n=Ga(t),a=Object.assign(n),i={parentUrl:Tn.url(),pageLoadUid:Tn.getPageLoadUid(),sessionParentHost:Tn.host(),parentReferrer:Tn.referrer(),integrationType:Tn.getIntegrationType(),userId:Dn.getUserCookieId(),playerId:ua.getPlayerId(),adPlayer:'Aniview',extraData:a};return Object.assign(i,e),Object.assign(i,a),i}_initSamplingConfig(e){const t={};if(e&&e.on){const n=Object.assign({},e);delete n.on,Object.keys(n).forEach((n)=>{t[n]=Qe.shouldSample(+e[n])})}return t}_getSubIdParamName(){const e=this._config.reporting&&this._config.reporting.customParams&&this._config.reporting.customParams[0];return e?this._config.reporting.customParams[0].name:null}_shouldSendEvent(e){return!1!==this._samplingConfig[e]}_onSendEventError(e){this._logger.error('Send event HTTP request failed',e)}_buildEventPayload(e,{extraData:t,enrichedData:n={}}){const a={},i={},o={};t&&Object.assign(i,t),n&&Object.assign(a,n),this._baseAttributes.extraData&&Object.assign(o,this._baseAttributes.extraData),Object.assign(o,i),Object.assign(o,{});const r=Ht.function(this._getDynamicBaseEventAttributes)?Object.assign(this._getDynamicBaseEventAttributes()):{};return Object.assign({eventName:e},this._baseAttributes,{deltaTime:Tn.getDeltaTime()},r,{extraData:o},a)}}const $a={PLAYER_LOAD:'load'},ei=(e,t,n)=>{e.dispatchEvent(new CustomEvent(t,{detail:n}))},ti='exco-event',ni={PLAYER_LOAD:'player-load',AD_IMPRESSION:'ad-impression',PLAYER_CLOSED:'player-closed',CTA_CLICKED:'cta-clicked'},ai=({name:e,metadata:t={}})=>({type:ti,name:e,metadata:t}),ii=(e,t={})=>(n={})=>{Na(Tn.window(),ai({name:e,metadata:Object.assign({},t,n)}))};var oi=n(12),ri=n.n(oi);const si=30,li=(e,t,n)=>{const{width:a}=la.dimensions(e),i=et.calculateHeightUponRatio(a,16/9),o=la.create('div',{id:'exco_placeholder',style:`background-color: ${t}; width: ${a}px; height: ${i}px;`},null,null);if(n){const e=et.calculateItemCenter(i,i*si/100);la.insert(o,'div',{style:`background-image: url(${n}); max-height: ${si}%; margin-top: ${e}px`},null,null)}return la.appendChild(e.parentElement,o),o},di=()=>{const e=document.getElementById('exco_placeholder');la.removeClass(e,'exco_placeholder-hide')},pi=()=>{const e=document.getElementById('exco_placeholder');la.addClass(e,'exco_placeholder-hide')};var ci=class{constructor(){ri.a.use()}create(...e){return li(...e)}show(...e){return di(...e)}hide(...e){return pi(...e)}},ui=n(13),_i=n.n(ui),gi=n(14),yi=n.n(gi),mi=n(15),bi=n.n(mi),vi=n(16),hi=n.n(vi);const Ei=(e)=>{const t=la.getElementId(e);return`${t}-placeholder`},ki=(e)=>{const t=Ei(e);return document.querySelector(`#${t}`)},fi=(e,t,n)=>{la.setStyles(e,{width:`${t.toString()}px`,height:`${n.toString()}px`})},Ai=(e,t,n)=>{la.setStyles(e,{width:`${t}px`,height:`${n}px`,backgroundColor:'grey'})},Si=(e,t,{showPlacementOnAdOnly:n})=>{const a=Ei(t);la.setAttributes(e,{id:a}),n&&la.setAttributes(e,{class:'exco_sticky-placement-show-on-ad-only'})};var Pi={create:(e,t)=>{const{width:n,height:a}=la.dimensions(t);let i=ki(t);return i?fi(i,n,a):(i=document.createElement('div'),Si(i,t,e),Ai(i,n,a),la.insertBeforeSibling(t,i)),i},hide:(e)=>{const t=ki(e);t&&fi(t,0,0)}};const Ci=(e)=>{const t=la.getElementId(e);return`${t}-full-width`},Ti=(e)=>{const t=Ci(e);return document.querySelector(`#${t}`)},Ii=(e,t,n)=>{const{vPosition:a,vPositionInPx:i,hPosition:o,hPositionInPx:r}=n;la.setStyles(e,{height:`${t.toString()}px`,[a]:`${i.toString()}px`,[o]:`${r.toString()}px`})},xi=(e,t)=>{la.setStyle(e,{height:`${t.toString()}px`})};var wi={create:(e,t)=>{const{height:n}=la.dimensions(e);let a=Ti(e);return a?Ii(a,n+2,t):(a=la.create('div',{id:Ci(e),class:'exco_sticky-full-width'}),Ii(a,n+2,t),la.insertBeforeSibling(e,a)),a},hide:(e)=>{const t=Ti(e);t&&xi(t,0)},getFullWidthElement:Ti};var Di={render:({width:e=12,height:t=12,fill:n='#aaa'}={})=>`<svg width=${e} height=${t} viewBox="0 0 10 10" fill=${n} xmlns="http://www.w3.org/2000/svg">
    <path d="M8.87883 8.87871L1.32727 1.32715M1.32727 8.87871L8.87883 1.32715" stroke=${n}
    stroke-width="1.88789" stroke-linecap="round" stroke-linejoin="round"/>
</svg>
`};const Oi='exco_sticky-x-button-container',Mi='exco_sticky-',Li=(e)=>{e.stopPropagation(),e.preventDefault()},Ni=(e,t,n)=>{e.addEventListener('click',Li),t.addEventListener('click',n)};var Ri={create:(e,t,n,a)=>{let i=t.includes('left')?'left':'right',o=t.includes('top')?'top':'bottom';const r=t.includes('upper');r&&(o='upper',i='full-width');const s=la.insert(e,'div',{id:`${Oi}`,class:`${Mi}${i}
            ${Mi}${Ke.isMobile()?'mobile':'desktop'}
            ${Mi}${o} ${a?'headline':''}`},null,null),l={fill:r?'black':void 0,height:Ke.isMobile()?7.55:12,width:Ke.isMobile()?7.55:12},d=la.insert(s,'div',{id:'exco_sticky-x-button'},null,Di.render(l));return Ni(s,d,n),s},remove:()=>{const e=document.getElementById(Oi);e&&la.remove(e)}};const Bi={TOP:'top',BOTTOM:'bottom',LEFT:'left',RIGHT:'right'},Ui=(e)=>{let t=e||Ot.MINIMUM_WIDTH_SIZE;return e<Ot.MINIMUM_WIDTH_SIZE&&(t=Ot.MINIMUM_WIDTH_SIZE),t},Vi=(e,{vPosition:t,vPositionInPx:n,hPosition:a,hPositionInPx:i})=>{la.setStyles(e,{[t]:`${n.toString()}px`,[a]:`${i.toString()}px`})},zi=({position:{top:e,right:t,bottom:n,left:a}={}})=>{let i=Bi.RIGHT,o=t,r=Bi.BOTTOM,s=n;return Ht.nullOrUndefined(a)||(i=Bi.LEFT,o=a),Ht.nullOrUndefined(e)||(r=Bi.TOP,s=e),{hPosition:i,hPositionInPx:o,vPosition:r,vPositionInPx:s}},Gi=(e,t)=>1>t?ze(e/t):ze(e/(16/9)),Hi=(e,t,n,a,i,o)=>{let r='pixels'===e?t:a*t/100;return i&&o!==Ot.POSITION.UPPER_SMALL&&(r=Ui(r)),n&&r>n?n:r},Yi=({widthUnit:e,widthSize:t,maxWidth:n,staticPlayerSize:a,forceMinimumSize:i,position:o})=>{const{height:r,width:s}=a,l=Hi(e,t,n,s,i,o.raw),d=Gi(l,s/r);return{width:l,height:d}},Fi=(e,t,n)=>{la.setStyles(e,{width:`${t.toString()}px`,height:`${n.toString()}px`})},Wi=(e,t)=>{e.stickyOnly||Pi.create(e,t)},ji=({position:e,zIndex:t},n,a)=>{if(e.raw.includes('upper')){const e=wi.create(n,a);la.setStyles(e,{"z-index":t||Ot.ZINDEX})}},Zi=({enableCloseButton:e,position:t,onCloseButtonClickCallback:n,headline:a},i)=>{if(e){const e=t.raw;Ri.create(i,e,n,a)}};var Ki={set:(e,t)=>{if(!la.hasStyle(e,{position:'fixed'})){Zi(t,e),Wi(t,e);const n=zi(t);la.setStyles(e,{position:'fixed',"z-index":t.zIndex||Ot.ZINDEX}),Vi(e,n);const{width:a,height:i}=Yi(t);Fi(e,a,t.headline?i+t.headline.height:i),ji(t,e,n),t.onResize(a,i)}},unset:(e,t)=>{e.removeAttribute('style'),Ri.remove(),Pi.hide(e),wi.hide(e),t()},hideStatic:(e)=>{la.addClass(e,'hidden')},getStickySize:Yi,shouldShowSticky:(e)=>{let t=!1;const{isPersistent:n,enableInView:a,isCloseButtonClicked:i,staticPlayerWasInView:o}=e;return i&&n&&(t=o),i||(t=!a||o),t},updatePosition:(e,t)=>{const n=wi.getFullWidthElement(e),a=zi({position:t});n&&Vi(n,a),e&&Vi(e,a)}};var qi=class{constructor(){_i.a.use(),yi.a.use(),bi.a.use(),hi.a.use(),this._onSetSubs=[],this._onUnsetSubs=[]}set(...e){return this._onSetSubs.forEach((t)=>t(...e)),Ki.set(...e)}onSet(e){Ht.function(e)&&this._onSetSubs.push(e)}unset(...e){return this._onUnsetSubs.forEach((t)=>t(...e)),Ki.unset(...e)}onUnset(e){Ht.function(e)&&this._onUnsetSubs.push(e)}updatePosition(...e){return Ki.updatePosition(...e)}shouldShowSticky(...e){return Ki.shouldShowSticky(...e)}hideStatic(...e){return Ki.hideStatic(...e)}},Qi=n(17),Ji=n.n(Qi);const Xi='exco_headline',$i=`${Xi}-hide`,eo=()=>{const e=document.getElementsByClassName(Xi);return e&&e[0]},to=(e,t)=>{const n=la.create('div',{class:Xi},t,null);return la.insertFirstChild(e,n),n},no=()=>{const e=eo();e&&la.remove(e)},ao=()=>{la.removeClass(eo(),$i)},io=()=>{la.addClass(eo(),$i)};var oo=class{constructor(){Ji.a.use()}create(...e){return to(...e)}remove(...e){return no(...e)}show(...e){return ao(...e)}hide(...e){return io(...e)}},ro=n(4),so=n.n(ro),lo=rt.AbTests,po=new lo,co=po,uo=Fe.OS_TYPES,_o=nt.device,go=_o.getUserAgent,yo=_o.getType,mo=function(){function e(){ct()(this,e),this._DEVICE_TYPE_MOBILE='mobile',this._DEVICE_TYPE_TABLET='tablet',this._DEVICE_TYPE_DESKTOP='desktop',this._device=this._getDevice(),this._osType=this._getOSType()}return _t()(e,[{key:'isDesktop',value:function(){return this._compereDevice(this._DEVICE_TYPE_DESKTOP)}},{key:'isMobile',value:function(){return this._compereDevice(this._DEVICE_TYPE_MOBILE)}},{key:'isTablet',value:function(){return this._compereDevice(this._DEVICE_TYPE_TABLET)}},{key:'isMobileOrTablet',value:function(){return this.isMobile()||this.isTablet()}},{key:'getDevice',value:function(){return this._device}},{key:'_getOSType',value:function(){var e;switch(!0){case this.isAndroid():e=uo.ANDROID;break;case this.isIos:e=uo.IOS;break;case this.isWindows():e=uo.WINDOWS;break;case this.isOSX():e=uo.OSX;break;case this.isLinux():e=uo.LINUX;break;case this.isChromeOS():e=uo.CHROME_OS;break;default:e=uo.OTHER;}return e}},{key:'isAndroid',value:function(){var e=this.getUserAgent().toLowerCase();return /android/.test(e)}},{key:'isWindows',value:function(){var e=this.getUserAgent().toLowerCase();return /win/.test(e)}},{key:'isOSX',value:function(){var e=this.getUserAgent().toLowerCase();return /mac/.test(e)}},{key:'isLinux',value:function(){var e=this.getUserAgent().toLowerCase();return /linux/.test(e)&&!this.isAndroid()}},{key:'isChromeOS',value:function(){var e=this.getUserAgent().toLowerCase();return /cros/.test(e)}},{key:'getUserAgent',value:function(){return go()||''}},{key:'_getDevice',value:function(){return yo()}},{key:'_compereDevice',value:function(e){return this._device===e}},{key:'osType',get:function(){return this._osType}},{key:'tablet',get:function(){return this._DEVICE_TYPE_TABLET}},{key:'mobile',get:function(){return this._DEVICE_TYPE_MOBILE}},{key:'desktop',get:function(){return this._DEVICE_TYPE_DESKTOP}},{key:'isIos',get:function(){var e=navigator.userAgent.toLowerCase();return /iphone|ipod|ipad/.test(e)}}]),e}(),bo=new mo,vo=bo,ho=n(5),Eo=n.n(ho),ko=nt.Logger,fo=new ko({prefix:'[exco-log]'}),Ao=fo,So=Fe.USER_AGENTS_BOTS,Po=nt.environment,Co=nt.urls,To=nt.arrays,Io=nt.is,xo=nt.device,wo=nt.objects,Do={INCLUDE:'include',EXCLUDE:'exclude',ALL:'all'},Oo='adBlock',Mo=function(e){var t=e&&e.operator===Do.ALL,n=e&&e.values&&!e.values.length;return!e||!e.operator||t||n},Lo=function(e,t,n){var a=!0;if(!Io.nullOrUndefined(t)&&Io['function'](n)){var i=t.operator,o=t.values;a=n(o,e)?i===Do.INCLUDE:i===Do.EXCLUDE}return a},No=function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:'',t=Co.getURLWithoutQueries(e);return t=Co.getURLWithoutProtocol(t),t=Co.removeTrailingSlash(t),t},Ro=function(){var e=0<arguments.length&&arguments[0]!==void 0?arguments[0]:[];return e.map(function(e){return No(e)})},Bo=function(e){var t=e.absoluteUrls;if(Mo(t))return!0;var n=No(Po.url());return t&&(t.values=Ro(t.values)),Lo(n,t,To.includes)},Uo=function(e,t){return!(Io.array(e)&&Io.array(t))||e.some(function(e){return To.includes(t,e)})},Vo=function(e,t){return!Io.array(e)||e.some(function(e){return t.toLowerCase().includes(e.toLowerCase())})},zo=function(e,t){var n=e.playerLoads,a=t.isPlayerAdBlocked;return!!Mo(n)||!n.values.includes(Oo)||n.values.includes(Oo)&&!a},Go=function(e){var t=e.urlPaths;if(Mo(t))return!0;var n=Co.path(Po.url());return Lo(n,t,Vo)},Ho=function(e){var t=e.browsers;return!!Mo(t)||Lo(xo.getBrowserType(),t,To.includes)},Yo=function(e){var t=e.devices;return!!Mo(t)||Lo(vo.getDevice(),t,To.includes)},Fo=function(e){var t=e.domains;if(Mo(t))return!0;var n=Po.host();return Lo(n,t,To.includes)},Wo=function(e){var t=e.os;if(Mo(t))return!0;var n=vo.osType;return Lo(n,t,To.includes)},jo=function(e){var t=e.queryParams;if(Mo(t))return!0;var n=Co.getQueriesAsStringArray(Po.url());return Lo(n,t,Uo)},Zo=function(e){var t=e.bots;if(Mo(t))return!0;t.values=t.values.filter(function(e){return So[e]}).map(function(e){return So[e]}).flat();var n=vo.getUserAgent();return Lo(n,t,Vo)},Ko=function(e,t){var n=e.geoLocation,a=t.country;return!!Mo(n)||Lo(a,n,To.includes)},qo=function(){var e=0<arguments.length&&arguments[0]!==void 0?arguments[0]:{},t=1<arguments.length&&arguments[1]!==void 0?arguments[1]:{};return[{type:'abs-url',validator:Bo},{type:'url-path',validator:Go},{type:'browser',validator:Ho},{type:'device',validator:Yo},{type:'domain',validator:Fo},{type:'OS',validator:Wo},{type:'query-param',validator:jo},{type:'bot',validator:Zo},{type:'geo',validator:Ko},{type:'ad-block',validator:zo}].every(function(n){var a=n.type,i=n.validator,o=i(e,t);return o||Ao.warn(''.concat(a,' targeting was not met')),o})},Qo={isTargeted:qo,applyTargetedConfigs:function(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{},n=e.targetingConfigs,a=e;return n&&n.reverse().filter(function(e){return e.active}).forEach(function(e){qo(e.targeting,t)&&(a=wo.merge([a,e.playerConfig]))}),a}},Jo={BREAKING_ADS:'breaking-ads',PREROLL:'preroll',PREROLL_ON_CHROME:'preroll-on-chrome',BREAKING_ADS_NEXT_CONTENT:'breaking-ads-next-content',BREAKING_ADS_NEXT_CONTENT_ON_CHROME:'breaking-ads-next-content-on-chrome'},Xo=Fe.DEVICE_TYPES,$o=Fe.STICKY,er=Fe.COLOR_PALETTE,tr=nt.environment,nr=nt.is,ar=nt.storage,ir=nt.device,or=ir.isDesktop,rr=ir.isMobile,sr=ir.isMobileOrTablet,lr=nt.browser.isChrome,dr=function(e){return e._id},pr=function(e){return e.tracking},cr=function(e,t){return t===Xo.MOBILE||t===Xo.TABLET?e.mobileChannel:e.desktopChannel},ur=function(e,t){return t===Xo.DESKTOP?e.playbackMode:e.playbackModeMobile},_r=function(e){return e.adsMode===Jo.PREROLL_ON_CHROME?lr()?Jo.PREROLL:Jo.BREAKING_ADS:e.adsMode===Jo.BREAKING_ADS_NEXT_CONTENT_ON_CHROME?Jo.BREAKING_ADS:e.adsMode},gr=function(){var e=0<arguments.length&&arguments[0]!==void 0?arguments[0]:{};return e.content||{}},yr=function(){var e=0<arguments.length&&arguments[0]!==void 0?arguments[0]:{};return gr(e).userPlaylist||{}},mr=function(){var e=0<arguments.length&&arguments[0]!==void 0?arguments[0]:{};return yr(e).mp4Extension},br=function(e){return gr(e).rss||{}},vr=function(e){var t=ar.getSessionItem($o.STICKY_CLOSE_STORAGE_KEY);return sr()?e.enableMinimize&&!e.disableOnMobile&&!t:e.enableMinimize&&!t},hr=function(){var e=0<arguments.length&&arguments[0]!==void 0?arguments[0]:{},t;return!!(null!==(t=e.debug)&&void 0!==t&&t.logger)},Er=function(e){return e.abTests||{}},kr=function(e){var t=rr()?Xo.MOBILE:Xo.DESKTOP,n;return!tr.isAmp()&&(null===e||void 0===e||null===(n=e.placement)||void 0===n?void 0:n[t])||{}},fr=function(e){var t=e.size||{},n=t.mobile,a=t.desktop;return or()?a:n},Ar=function(e){return e.reporting||{}},Sr=function(){var e=0<arguments.length&&arguments[0]!==void 0?arguments[0]:{},t=1<arguments.length?arguments[1]:void 0,n=e.rates,a=void 0===n?{}:n;return t&&a[t]?a[t].rs:void 0},Pr=function(){var e=0<arguments.length&&arguments[0]!==void 0?arguments[0]:{},t=Ar(e),n=t.customParams,a=void 0===n?{}:n;return a&&a.length?a[0].name:void 0},Cr=function(){var e=0<arguments.length&&arguments[0]!==void 0?arguments[0]:{},t=e.adsConfig,n=void 0===t?{}:t;return n},Tr=function(){var e=0<arguments.length&&arguments[0]!==void 0?arguments[0]:{},t=e.country;return t},Ir=function(){var e=0<arguments.length&&arguments[0]!==void 0?arguments[0]:{},t=Cr(e),n=t.displayAd,a=void 0===n?{}:n;return a},xr=function(){var e=0<arguments.length&&arguments[0]!==void 0?arguments[0]:{},t=e.appearance,n=void 0===t?{}:t;return n},wr=function(){var e=0<arguments.length&&arguments[0]!==void 0?arguments[0]:{},t=1<arguments.length&&arguments[1]!==void 0?arguments[1]:Xo.MOBILE,n=Ir(e),a=n.adUnit,i=void 0===a?{}:a;return t===Xo.DESKTOP?i.desktop:i.mobile},Dr=function(){var e=0<arguments.length&&arguments[0]!==void 0?arguments[0]:{},t=1<arguments.length&&arguments[1]!==void 0?arguments[1]:Xo.MOBILE;return!!wr(e,t)},Or=function(){var e=0<arguments.length&&arguments[0]!==void 0?arguments[0]:{};return Ir(e).trigger||{}},Mr=function(){var e=0<arguments.length&&arguments[0]!==void 0?arguments[0]:{},t=xr(e),n=t.font,a=void 0===n?{}:n;return a},Lr=function(){var e=0<arguments.length&&arguments[0]!==void 0?arguments[0]:{},t=Or(e),n=t.timeout;return n?1e3*n:void 0},Nr=function(e){return!!(Or(e)||{}).onAutoplayBlocked},Rr=function(e){var t=e.targetSelector,n=e.timeDelay,a=e.type;return!tr.isAmp()&&('time'===a?!!n:!!t)},Br=function(e){return!!e&&e!==er.PRIMARY&&e!==er.SECONDARY},Ur=function(e,t){var n=null===t||void 0===t||null===(a=t.colorTheme)||void 0===a||null===(i=a[e])||void 0===i?void 0:i.to,a,i,o;if(n)return n;var r=t.appearance;return Br(null===r||void 0===r?void 0:r[e])?r[e]:(null===r||void 0===r||null===(o=r.colorPalette)||void 0===o?void 0:o[r[e]||er.PRIMARY])||er.DEFAULT},Vr=function(e,t){var n=null===t||void 0===t?void 0:t.appearance;return e&&Br(e)?e:(null===n||void 0===n?void 0:n.colorPalette[e||er.PRIMARY])||er.DEFAULT},zr=function(){var e=0<arguments.length&&arguments[0]!==void 0?arguments[0]:{},t=Ir(e),n=t.autoSkipAfter;n=void 0===n?{}:n;var a=n.timeout;return a?1e3*a:void 0},Gr=function(){var e=0<arguments.length&&arguments[0]!==void 0?arguments[0]:{},t=Ir(e),n=t.refresh;n=void 0===n?{}:n;var a=n.timeout;return a?1e3*a:void 0},Hr=function(){var e=0<arguments.length&&arguments[0]!==void 0?arguments[0]:{},t=Ir(e),n=t.autoSkipAfter;n=void 0===n?{}:n;var a=n.ads;return a||0},Yr=function(){var e=0<arguments.length&&arguments[0]!==void 0?arguments[0]:{},t=Ir(e),n=t.autoSkipAfter;n=void 0===n?{}:n;var a=n.unfilled;return a||0},Fr=function(){var e=0<arguments.length&&arguments[0]!==void 0?arguments[0]:{};return e.contents||[]},Wr=function(){var e=0<arguments.length&&arguments[0]!==void 0?arguments[0]:{};return e.components||{}},jr=function(){var e=0<arguments.length&&arguments[0]!==void 0?arguments[0]:{};return e.appearance||{}},Zr=function(e){return Fr(e).find(function(e){return!nr.nullOrUndefined(e.videoSpecMeta)&&!nr.nullOrUndefined(e.videoSpecMeta.actions)&&'cta'===e.videoSpecMeta.actions[0].type})},Kr=function(){var e=0<arguments.length&&arguments[0]!==void 0?arguments[0]:{},t=Zr(e);return t?t.videoSpecMeta.actions[0].data.backgroundColor:void 0},qr=function(){var e=0<arguments.length&&arguments[0]!==void 0?arguments[0]:{};return e.externalConfig||{}},Qr=function(){var e=0<arguments.length&&arguments[0]!==void 0?arguments[0]:{};return qr(e).reporting||{}},Jr=function(){var e=0<arguments.length&&arguments[0]!==void 0?arguments[0]:{};return qr(e).videos||{}},Xr=function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},t=br(e),n=t.enabled,a=t.videoConfig,i=void 0===a?{}:a;return n&&i.cta&&(i.cta.enabled=!0,i.cta.color=Kr(e)),i.cta||{}},$r=function(){var e=0<arguments.length&&arguments[0]!==void 0?arguments[0]:{};return Wr(e).cta||{}},es=function(){var e=0<arguments.length&&arguments[0]!==void 0?arguments[0]:{};return Jr(e).cta||{}},ts=function(){var e=0<arguments.length&&arguments[0]!==void 0?arguments[0]:{};return{url:e.url,text:e.text,color:e.color,animation:!nr.nullOrUndefined(e.animation)&&e.animation,icon:nr.nullOrUndefined(e.icon)?'none':e.icon,enabled:!0,button:{enabled:!0,desktop:{enabled:!0,sticky:!0},mobile:{enabled:!0,sticky:!0}}}},ns=function(e){var t={},n=es(e);return t=nr.empty(n)?!nr.empty($r(e))&&$r(e).enabled?$r(e):Xr(e):ts(n),t},as=function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:Xo.MOBILE,n=null,a=ns(e);return a.enabled&&(n={button:{enabled:a.button?nr.enable(a.button,t):nr.enable(a,t),text:a.text,color:Vr(a.color,e),icon:a.icon,animation:a.animation}}),n},is=function(){var e=0<arguments.length&&arguments[0]!==void 0?arguments[0]:{};return e.adsMode===Jo.BREAKING_ADS_NEXT_CONTENT_ON_CHROME&&lr()},os=function(){var e=0<arguments.length&&arguments[0]!==void 0?arguments[0]:{};return!!e.showPlayButtonOnCTA},rs=function(){var e=0<arguments.length&&arguments[0]!==void 0?arguments[0]:{};return Ar(e).googlePixel},ss=function(){var e=0<arguments.length&&arguments[0]!==void 0?arguments[0]:{};return Ar(e).facebookPixel},ls=function(){var e=0<arguments.length&&arguments[0]!==void 0?arguments[0]:{},t='both'===e.devices||'mobile'===e.devices&&rr()||'desktop'===e.devices&&or();return{enabled:e.enabled&&t,position:e.position}},ds=function(){var e=0<arguments.length&&arguments[0]!==void 0?arguments[0]:{},t=1<arguments.length?arguments[1]:void 0;return t===Xo.MOBILE?e.minimizeLocationMobile:e.minimizeLocation},ps=function(){var e=0<arguments.length&&arguments[0]!==void 0?arguments[0]:{};return e.useChannelsAdPlayer},cs=function(){var e=0<arguments.length&&arguments[0]!==void 0?arguments[0]:{};return!!Cr(e).safeAds},us=function(){var e=0<arguments.length&&arguments[0]!==void 0?arguments[0]:{};return Cr(e).whiteOps||{}},_s=Fe.PLAYBACK,gs=Fe.STICKY,ys=Fe.COLOR_PALETTE,ms=nt.environment,bs=nt.is,vs=nt.objects,hs=function(){function e(){ct()(this,e),this._device=vo,this._configs=null}return _t()(e,[{key:'setConfig',value:function(e){this._configs=e,Ao.info('configuration service - configuration set')}},{key:'setOverrides',value:function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:[];try{e.forEach(function(e,t){t&&Object.keys(e).length&&(e.targetingConfigs=e.targetingConfigs||[])});var t=vs.merge([{},this._configs].concat(Eo()(e)),{useSourceArray:function(t,n){return e.find(function(e){return e.targetingConfigs===n})}});this.setConfig(Qo.applyTargetedConfigs(t,{country:this.country}))}catch(t){this.setConfig(this._configs),Ao.error('Set overrides failed.',t)}return this._configs}},{key:'_isStickyAttachedToElement',value:function(){var e=this.stickyOffset;return['top','bottom'].some(function(t){return!!e[t]&&'element'===e[t].type})}},{key:'_getStickyOffset',value:function(){var e=this.stickyOffset,t={top:0,right:0,bottom:0,left:0};return['top','bottom'].forEach(function(n){if(e[n]){var a=e[n],i=a.type,o=a.value;if('pixels'===i)t[n]+=o;else if('element'===i){var r=document.querySelector(o);if(r){var s=r.getBoundingClientRect(),l=s.y,d=s.height,p=l+d;t[n]+=0<=p?p:0}}}}),t}},{key:'_getStickyPosition',value:function(e){var t=e.sticky,n=vo.isMobile(),a=t.mobileHorizontalPadding,i=t.mobileVerticalPadding,o=t.desktopHorizontalPadding,r=t.desktopVerticalPadding,s=n?a:o,l=n?i:r,d=this.stickyPosition,p=this._getStickyOffset(),c,u,_,g;return d===gs.POSITION.TOP_LEFT?(c=s,_=l):d===gs.POSITION.TOP_RIGHT?(_=l,u=s):d===gs.POSITION.BOTTOM_RIGHT?(g=l,u=s):d===gs.POSITION.BOTTOM_LEFT?(g=l,c=s):(d===gs.POSITION.UPPER_LARGE||d===gs.POSITION.UPPER_SMALL)&&(_=0+p.top,c=0+p.left),{raw:d,left:c,right:u,top:_,bottom:g}}},{key:'_isStickyEnabled',value:function(e){return vr(e)}},{key:'_getLazyScrollElement',value:function(e){return e.scrollElement?ms.document().querySelector(e.scrollElement):null}},{key:'isPlayerCap',value:function(){return'playerLoad'===this.raw.adsCapMode&&this.isMaxAds()}},{key:'isWhitelable',value:function(){return!bs.empty(this.raw.whitelable)&&!0===this.raw.whitelable}},{key:'isMaxAds',value:function(){return'undefined'!=typeof this.raw.maxAds&&0<this.raw.maxAds}},{key:'isMonetizedPlayer',value:function(){return'no-ads'!==this.raw.monetization&&!1!==this.raw.monetization}},{key:'isAutoPlay',value:function(){return this.playback===_s.MODE.AUTO_PLAY}},{key:'isPlayInView',value:function(){return this.playback===_s.MODE.PLAY_IN_VIEW}},{key:'isPlayInViewPauseOutOfView',value:function(){return this.playback===_s.MODE.PLAY_IN_VIEW_PAUSE_OUT_OF_VIEW}},{key:'adsMode',value:function(){return _r(this._configs)}},{key:'isBreakingAds',value:function(){var e=this.adsMode();return e&&e===Jo.BREAKING_ADS}},{key:'isPreroll',value:function(){var e=this.adsMode();return e&&e===Jo.PREROLL}},{key:'useChannelsAdPlayer',value:function(){return ps(this._configs)}},{key:'_isStickyEnable',value:function(){return vr(this._configs,this._device.getDevice())}},{key:'_getStickyWidthSizeAndUnit',value:function(e){var t=e.minimizeSizePercentageMobile,n=e.minimizeSizePercentage,a=e.sticky,i=vo.isMobile(),o,r,s;return i&&this.stickyPosition===gs.POSITION.UPPER_SMALL?(o=gs.FULLWIDTH_PIXEL_SIZE_SMALL,r=gs.PIXELS):i&&this.stickyPosition===gs.POSITION.UPPER_LARGE?(o=gs.FULLWIDTH_PIXEL_SIZE_LARGE,r=gs.PIXELS):(o=i?t:n,r=i?a.widthUnitMobile:a.widthUnitDesktop,r!==gs.PIXELS&&(s=i?a.maxWidthMobile:a.maxWidthDesktop)),{widthSize:o,widthUnit:r,maxWidth:s}}},{key:'_getStickyTransition',value:function(e){return vo.isTablet()||vo.isMobile()?e.transitionMobile||null:e.transitionDesktop||null}},{key:'_getStickyScrollElement',value:function(e){var t=vo.isDesktop()?e.scrollElement:e.scrollElementMobile;return t||null}},{key:'raw',get:function(){return this._configs}},{key:'playerId',get:function(){return dr(this._configs)}},{key:'externalVideos',get:function(){return Jr(this._configs)}},{key:'externalReporting',get:function(){return Qr(this._configs)}},{key:'externalCTA',get:function(){return es(this._configs)}},{key:'googlePixel',get:function(){return rs(this._configs)}},{key:'facebookPixel',get:function(){return ss(this._configs)}},{key:'targeting',get:function(){return this.raw.targeting||{}}},{key:'country',get:function(){return this.raw.country}},{key:'dimensions',get:function(){return{height:0,width:100}}},{key:'avPlayerUrl',get:function(){return this.raw.nativePlayerVersion}},{key:'avChannelId',get:function(){return cr(this._configs,vo.getDevice())}},{key:'channelRevShare',get:function(){return Sr(this._configs,this.avChannelId)}},{key:'subIdParamName',get:function(){return Pr(this._configs)}},{key:'startmidroll',get:function(){return!!this.isBreakingAds()&&this.raw.adsInterval}},{key:'timeBetweenErrorLimits',get:function(){return!!this.isBreakingAds()&&(this.raw.timeBetweenErrorLimits||this.raw.adsInterval)}},{key:'noMuteOnBlur',get:function(){return!!this.raw.noMuteOnBlur}},{key:'debugMode',get:function(){return this.raw.debugMode}},{key:'skipButton',get:function(){return this.raw.skipButton}},{key:'skipText',get:function(){return this.raw.skipText}},{key:'skipOffset',get:function(){return this.raw.skipOffset}},{key:'loop',get:function(){return this.raw.loop}},{key:'errorLimit',get:function(){return this.raw.errorLimit}},{key:'vastRetry',get:function(){return this.raw.vastRetry}},{key:'language',get:function(){return this.raw.language}},{key:'showTimelineReplay',get:function(){return this.raw.showTimelineReplay}},{key:'logoShowOnHover',get:function(){return this.raw.logoShowOnHover}},{key:'logo',get:function(){return this.raw.logo}},{key:'logoUrl',get:function(){return this.logo?this.raw.logoImage:''}},{key:'logoWidth',get:function(){return this.raw.logoWidth}},{key:'logoHeight',get:function(){return this.raw.logoHeight}},{key:'logoPosition',get:function(){return this.raw.logoPosition}},{key:'logoClickThrough',get:function(){return this.raw.logoClickThrough?this.raw.logoClickThrough:void 0}},{key:'logoRedirect',get:function(){return!!this.raw.logoRedirect&&this.raw.logoRedirect}},{key:'showPlaybuzzLogo',get:function(){return this.raw.showPlaybuzzLogo}},{key:'mute',get:function(){return!0}},{key:'customCSS',get:function(){return this.raw.customCSS}},{key:'configPerBrowser',get:function(){return this.raw.perBrowser}},{key:'playback',get:function(){return ur(this._configs,vo.getDevice())}},{key:'autoContinue',get:function(){return this.raw.autoContinue}},{key:'random',get:function(){return this.raw.random}},{key:'randomFrom',get:function(){return this.raw.randomFrom}},{key:'slotTimeout',get:function(){return this.raw.slotTimeout}},{key:'breakingAdsMode',get:function(){return this.raw.breakingAdsMode}},{key:'contents',get:function(){return Fr(this._configs)}},{key:'contentURL',get:function(){return this.raw.contentURL}},{key:'showFullScreenIcon',get:function(){return this._device.isDesktop()?this.raw.showFullScreen:this.raw.showFullScreenMobile}},{key:'maxRun',get:function(){return this.raw.maxRun}},{key:'midrolldelay',get:function(){return this.raw.timeToFirstAd}},{key:'maxAds',get:function(){return this.raw.maxAds}},{key:'heightRatio',get:function(){return this.raw.heightRatio}},{key:'components',get:function(){return Wr(this.raw)}},{key:'appearance',get:function(){return jr(this.raw)}},{key:'videoTitle',get:function(){return this.components.titleComponent}},{key:'videoGallery',get:function(){return ls(this.components.videoGallery)}},{key:'content',get:function(){return gr(this._configs)}},{key:'useMp4Extension',get:function(){return mr(this._configs)}},{key:'rss',get:function(){return br(this._configs)}},{key:'paging',get:function(){return this.components.paging}},{key:'transition',get:function(){return this.components.transition}},{key:'title',get:function(){return this.components.title}},{key:'metadata',get:function(){return this.components.metadata}},{key:'videoTeasers',get:function(){return this.components.videoTeasers}},{key:'borderRadius',get:function(){return this.appearance.borderRadius}},{key:'cta',get:function(){return as(this.raw,vo.getDevice())}},{key:'showPlayButtonWithCTA',get:function(){return os(this.raw)}},{key:'logger',get:function(){return{enable:hr(this.raw)}}},{key:'console',get:function(){return{enable:!!ms.param('excofc')}}},{key:'rawSticky',get:function(){return this.raw.sticky||{}}},{key:'stickyPosition',get:function(){return ds(this._configs,vo.getDevice())}},{key:'stickyCurrentPosition',get:function(){return this._getStickyPosition(this.raw)}},{key:'stickyOffset',get:function(){return this.rawSticky[vo.isMobile()?'offsetMobile':'offsetDesktop']||{}}},{key:'sticky',get:function(){var e=vo.isMobile(),t=this._getStickyPosition(this.raw),n=t.raw,a=t.top,i=t.left,o=t.bottom,r=t.right,s=this._getStickyWidthSizeAndUnit(this.raw),l=s.widthUnit,d=s.widthSize,p=s.maxWidth;return{enable:this._isStickyEnabled(this.raw),widthUnit:l,widthSize:d,maxWidth:p,forceMinimumSize:this.raw.forceMinimumSize,position:{raw:n,top:a,left:i,bottom:o,right:r},offset:this.stickyOffset,closeButtonBehavior:this.rawSticky.closeButtonBehavior,enableCloseButton:this.raw.enableCloseButton,stickyMode:this.raw.stickyMode,isPersistent:this.raw.stickyMode===gs.MODES.PERSISTENT,isNoNPersistentPerSession:this.raw.stickyMode===gs.MODES.NONE_PERSISTENT_PER_SESSION,enableInView:this.raw.stickyMode===gs.MODES.NONE_PERSISTENT_IN_VIEW,nonPersistentPerSession:e?this.rawSticky.nonPersistentPerSessionMobile:this.rawSticky.nonPersistentPerSessionDesktop,stickyOnly:this.raw.stickyMode===gs.MODES.STICKY_ONLY,zIndex:this.raw.minimizeZindex||gs.ZINDEX,isUpperSticky:this.stickyPosition===gs.POSITION.UPPER_LARGE||this.stickyPosition===gs.POSITION.UPPER_SMALL,isAttachedToElement:this._isStickyAttachedToElement()}}},{key:'blockedAutoplayAction',get:function(){return this.raw.playback?this.raw.playback.blockedAutoplayAction:'click-to-play'}},{key:'resizeObserver',get:function(){return!bs.nullOrUndefined(this.raw.resizeObserver)&&this.raw.resizeObserver}},{key:'tracking',get:function(){return pr(this._configs)}},{key:'reporting',get:function(){return Ar(this._configs)||{}}},{key:'adsDelay',get:function(){return this.raw.adsDelay}},{key:'moatSamplingRate',get:function(){return this.raw.moatSamplingRate}},{key:'lazy',get:function(){if(!this._lazyConfig){var e=this.raw.lazy||{},t=vo.isMobile()?e.mobileTarget:e.desktopTarget,n=(vo.isMobile()?parseInt(e.mobileTimeDelay,10):parseInt(e.desktopTimeDelay,10))||null,a=e.type||null,i=Rr({targetSelector:t,timeDelay:n,type:a}),o=ms.document().querySelector(t),r=this._getLazyScrollElement(e),s=parseFloat(e.threshold)||void 0,l=parseInt(e.delay,10)||0;this._lazyConfig={enabled:i,element:o,scrollElement:r,threshold:s,delay:l,timeDelay:n,type:a}}return this._lazyConfig}},{key:'colorTheme',get:function(){return Ur(this._configs)}},{key:'playerSize',get:function(){return fr(this._configs)}},{key:'adsConfig',get:function(){return Cr(this._configs)}},{key:'displayAdConfig',get:function(){return Ir(this._configs)}},{key:'displayAdUnitId',get:function(){return wr(this._configs,vo.getDevice())}},{key:'isDisplayAdEnabled',get:function(){return Dr(this._configs,vo.getDevice())}},{key:'progressBarColor',get:function(){return Ur('progressBar',this._configs)}},{key:'titleTextColor',get:function(){var e=(null===(t=this._configs.components)||void 0===t||null===(n=t.titleComponent)||void 0===n?void 0:n.textColor)||'#fff',t,n;return Vr(e,this._configs)}},{key:'titleBackgroundColor',get:function(){var e=(null===(t=this._configs.components)||void 0===t||null===(n=t.titleComponent)||void 0===n?void 0:n.backgroundColor)||ys.PRIMARY,t,n;return Vr(e,this._configs)}},{key:'pagingColor',get:function(){var e=(null===(t=this._configs.components)||void 0===t||null===(n=t.paging)||void 0===n?void 0:n.color)||ys.PRIMARY,t,n;return Vr(e,this._configs)}},{key:'playButtonColor',get:function(){return Ur('playButton',this._configs)}},{key:'transitionBackgroundColor',get:function(){var e=(null===(t=this._configs.components)||void 0===t||null===(n=t.transition)||void 0===n?void 0:n.color)||ys.SECONDARY,t,n;return Vr(e,this._configs)}},{key:'font',get:function(){return Mr(this._configs)}},{key:'displayAdTriggerTimeout',get:function(){return Lr(this._configs)}},{key:'displayAdShouldTriggerOnAutoplayBlock',get:function(){return Nr(this._configs)}},{key:'displayAdDismissalTimeout',get:function(){return zr(this._configs)}},{key:'displayAdPlacementCap',get:function(){return Hr(this._configs)}},{key:'displayAdUnfilledCap',get:function(){return Yr(this._configs)}},{key:'displayAdRefreshTimeout',get:function(){return Gr(this._configs)}},{key:'nextContentAfterAd',get:function(){return is(this._configs)}},{key:'safeAds',get:function(){return cs(this._configs)}},{key:'whiteOps',get:function(){return us(this._configs)}}]),e}(),Es=new hs,ks=Es,fs={PUBLISHER_ID:'56ea678d181f46c76f8b45fb',DEFAULTS:{adConfig:{antihjck:!0,autoPlay:!0,soundButton:!0,pauseButton:!0,closebutton:!1,HD:!0,mode:0,lastFrame:!1,logo:!1,imaflags:!1,noifsnd:!0},showBigPlay:!0,showBigPlayOnPause:!0,showBigPrevNextOnPause:!0,soundButtonPosition:'right',showPauseButton:!0,showPrevButton:!1,showNextButton:!1,showBigPrevNext:!0,showSoundButton:!0,showVolumeControl:!0,volumeControlVertical:!0,showErrorScreen:!0,durationPosition:'right',playlistAutoSkipOnError:!0,noAdsOnContentPause:!0,showUiOnPause:!1,viewPercentageRequired:1,showDuration:!0,hideGuiOnMouseout:!0,hideGuiTimeout:1,timelineMode:'default',spinner:'default',theme:'solid',themeColor:'#ff0000',playOnView:!1,gui:{usePoster:!0},syncVolume:!0,showReplay:!0,mobile:{showBigPlay:!0,showBigPlayOnPause:!0,showBigPrevNext:!0,showUiOnPause:!1,showPauseButton:!0,showPrevButton:!1,showNextButton:!1,hideGuiTimeout:2},replayText:'Replay',content:{}}},As={utm_medium:{name:'AV_UTM_MEDIUM'},utm_campaign:{name:'AV_UTM_CAMPAIGN'},utm_content:{name:'AV_UTM_CONTENT'},utm_source:{name:'AV_UTM_SOURCE'},utm_term:{name:'AV_UTM_TERM'},abtest_weight:{name:'AV_ABTEST_TEMPLATE_WIGHT',synonym:'AV_CDIM6'},abtest_name:{name:'AV_ABTEST_TEMPLATE_NAME',synonym:'AV_CDIM7'},page_load_uid:{name:'AV_PAGE_LOAD_UID',synonym:'AV_CDIM4'},subId:{name:'AV_SUBID',synonym:'sn'},country:{name:'cou'},integration_type:{name:'INTEGRATION_TYPE',synonym:'AV_CDIM5'}},Ss={COUNTRY:'country',SUBID:'subId',PAGE_LOAD_UID:'page_load_uid',ABTEST_WEIGHT:'abtest_weight',ABTEST_NAME:'abtest_name',INTEGRATION_TYPE_NAME:'integration_type'},Ps={MOBILE_AUTO_CAPPING:1,DESKTOP_AUTO_CAPPING:2},Cs='data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAFAAAAAUCAYAAAAa2LrXAAAAAXNSR0IArs4c6QAABX9JREFUWAntl21oFWQUx7fprJZgZvlSzgoSM3vzQ4UkRUlF9DIJUyHChAqL3r4klUUojVR6EYls1ofog5giblRkioaERGZK1GYLI5OytJZJ1rbMrd/v3ue5PPferbupWwge+N9znv8553k5z8u9t7ysl9LZ2bmclPNC2tTy8vLWXnZRMpwxzidoWQjczBgLSyb9TwEDj2LcSnKOJq83Q1UQPCgkRN2b/H6LdaIn5RgqcLKAx1A8U/OuIm9POdxZ4HRwGOzn/VH3SMgfQ+BFoAPsJneXifDpte+Ab5dPhZjT0nahjX8Y3Djgm9uU9oHPecerbv+5OYex40H5hzglb91ZqujTNcS8ImcgOnIdMdDtkLPA0CS6Fb6BCb2RcEUmMedCPg0sXk7g99J4AVSBRcFxCH5awSIn4Fsa/PvQzwQ7o4i/G2M2sFBKG1x9Mq+r4WoznrKyzegFwVY9BO4I7ZfR1eCu0O5OteH4DozvLiDw6zMVZjJzIB4HafGM8VTMxD/fRleCz5gXQSyeO3ckxJ6DtoDN4KvADUZPDXZUM6KBfi+xozkCIxZP7lTgvB620QfigfmrRL9u9JKBTGIixrQQ7MI3gp3A63gLcLKTiZvOjq/CLpTbIIYH0tyXgEWcC24AFuwm8CZYAhQLuFqDft20q7SRVrAWjLKRiCe5DvwE7PNaoNSQ35A1e/y5hcg/C6Kvpx1/mn3GOuvp9wDcl0mcdXCj3UjXt4i4dq9wJDHLFkJu0lDoRPsVYFwN6KqAxvwBLgbL7BRt7jcoF6uMhl8DtwPbDRuJfR3cZmyvk2+ksgnOZyPbCp9wKxPiY/wLaF8DKsCNoAn0SOjLouQKQ1/Ox6dLsWjemLIwN82MEPc8RrwFPmtf6HACYzWQvZC54knQdmKZQLSLHiKfCjEtYB3cR+BeYpaANdhzkrgBwfYUxurMIE7+5uCTfyfYpdSGJKA6sXtlMr5flk8BC+P4i1nLQXSeEHcrxKRA7kF7GzLiyaoK9i9BF6r0uHuM84TOfQNrweWJ4zD2fjA84dyQr4nfBnclOAV4tc8Aynb8P2bNvM+iMfEeSiIqE7u35lwShoWkdxl/a2EHzHcU3IOBd121xKkz4gmMEk9GbHsNXeSlgfCbyaIUyiyIWDyL8yjwG923sCt5HbIDNICaJGBVYqfmWOZRWKQ4nnFuvP1F8c0tKfTp5k0OgZ6q1wqTiPFkPgs8JMoKircra2Y/0wJmmDhZtFdjMRiaDS3bRnJRkfGND35VHTGN6Q4lvoyJbzeGxfsWjAXKHniL35WcCflEMi+Ld2cS+Al2urGXETtBPzouPAnP8CMgHgnk3+j53cx5Nr5xIa6ZmLeDnVNe4UJZyMCXQKY+r3HRDoXEX5MOHiPXBTnBLQmfZzKRV4l7LiEt6H/JFJyTyPHqng3iY+6itpqI72fUSOBpXRpiG7H3gULxVFUF0vjlxKcx9rkCzExIb8L6pK25OO8EEmDCFSAt3m+0n2SicSLpSJ6Ot0B8kyz8/cAF594J7CEgJ4xjOz7K5r6fcxYbntQ24IJ9U2PxfsBON8EfycZFGYzh+o5EAl3J2Peg01tjf36ZpRhEe17gUBmxrzRGuyItlIXxNHmCLIw/TXaAtRSvHR3FnRkdGm34WpjUfbT9OXQhcBF+m/tWrAbK91mV+5yO5c4r6+gjLbbcARBz/Tm0E5gzBrSC7cBHP5eH/TnzeAB+GqgGB0E9UOIG29cFoLvbZKzitbaIpaTRo/8B2AAmloo+Hn7GGQBWg43gQxC/BY9H9/3eR7zCa9hBT1t/yBQG8YQrnzJuS9Y8MT8tYDOo68fp+zcuysponKjaN3AepyD9YuiztXBd/Vnhe7gH/M64TX02WD91/C8rFdmA26b2VAAAAABJRU5ErkJggg==',Ts=nt.guid,Is=nt.urls,xs=nt.is,ws=function(e){var t=e.publisherId,n=e.channelId,a=e.ref1,i=e.baseJsUrlwl;return{publisherId:t,channelId:n,ref1:a,baseJsUrlwl:i}},Ds=function(e,t){var n=e.publisherId,a=e.channelId,i=e.ref1,o=e.baseJsUrlwl,r=o?'servt.playbuzz.co':'atrack.avplayer.com',s='&AV_PUBLISHERID='.concat(n),l='&e='.concat(t),d='&cb='.concat(Date.now()),p='&cid='.concat(a);return'https://'.concat(r,'/track?pid=').concat(n).concat(s).concat(l).concat(d).concat(p,'&').concat(i)},Os=function(e,t){var n={};return xs.empty(e)||xs.empty(t)||(n[As[e].name]=t,As[e].synonym&&(n[As[e].synonym]=t)),n},Ms=function(e,t){var n={},a=t.map(function(e){return e.name});return e.filter(function(e){return a.includes(e.name)}).forEach(function(e){return Object.assign(n,Os(e.name,e.value))}),n},Ls=function(e){var t=e.dimensions,n=e.abtestParams,a=e.queryParamsConfig,i=t.urlParams,o=t.subId,r=void 0===o?{}:o,s=t.country,l=t.pageLoadUid,d=t.integrationType,p=Ms(i,a);return Object.assign(p,Os(Ss.COUNTRY,s),Os(Ss.SUBID,r.value),Os(Ss.PAGE_LOAD_UID,l),Os(Ss.ABTEST_WEIGHT,n.weight),Os(Ss.ABTEST_NAME,n.name),Os(Ss.INTEGRATION_TYPE_NAME,d)),Is.objectToQueries(p)},Ns=function(){function e(t){ct()(this,e),this.config=t,this._configurationService=ks}return _t()(e,[{key:'getConfigurations',value:function(e){var t=this._getPlayerData(e);return this._getPlayerConfig(t)}},{key:'_getPlayerData',value:function(e){var t=this._updateConfigs(fs.DEFAULTS,e),n=this._enrichConfigs(t);return n.plugins=this._getPluginConfig(),n}},{key:'_updateConfigs',value:function(e,t){var n=this._getSkip({enable:this.config.skipButton,text:this._configurationService.skipText,timer:this._configurationService.skipOffset}),a=this._configurationService.dimensions.width,i=this._configurationService.dimensions.height,o=this._getLogLevel(this._configurationService.logger.enable),r='exp_'.concat(Ts.generate()),s=this._configurationService.showFullScreenIcon,l=this._configurationService.loop;return e.content.slotTimeout=this._configurationService.slotTimeout,e.content.breakingAds=this._configurationService.timeBetweenErrorLimits,e.content.breakingAdsMode=this._getBreakingAdsMode(),e.content.adsDelay=this._configurationService.adsDelay,e.content.hlsConfig=this._getHLSConfig(),e.content.contents=t,e.adConfig.imalang=this._configurationService.language,e.adConfig.publisherId=fs.PUBLISHER_ID,e.adConfig.channelId=this._configurationService.avChannelId,e.adConfig.ref1=Ls({dimensions:this.config.dimensions,abtestParams:co,queryParamsConfig:this.config.reporting.queryParams}),e.adConfig.logLevel=o,e.adConfig.skip=n.enable,e.adConfig.skipTimer=n.timer,e.adConfig.skipText=n.text,e.adConfig.noMuteOnBlur=this._configurationService.noMuteOnBlur,e.adConfig.errorlimit=this._configurationService.errorLimit,e.adConfig.vastRetry=this._configurationService.vastRetry,e.adConfig.loop=l,e.adConfig.position=r,e.adConfig.height=i,e.adConfig.width=a,e.logo=this._getLogos(),e.logLevel=o,e.position=r,e.width=a,e.height=i,e.showTimelineReplay=this._getTimelineReplay(this._configurationService.showTimelineReplay),e.showFullScreen=s,e.hideLogoOnMouseout=this._getLogoShowOnHover(this._configurationService.logoShowOnHover),e.startVolume=this._getStartVolume(),e.autoPlay=this._configurationService.isAutoPlay(),e.autoLoop=l,e.autoContinue=this._configurationService.autoContinue,e.mobile.showFullScreen=s,e}},{key:'_enrichConfigs',value:function(e){var t=this._configurationService.startmidroll,n=this._configurationService.midrolldelay,a=this._configurationService.isPlayerCap(),i=this._configurationService.isMonetizedPlayer(),o=this._getHeightRatio();return this._isMaxRun(this.config.maxRun)&&(e.adConfig.maxrun=this._configurationService.maxRun),ks.isWhitelable()&&(e.adConfig.baseJsUrlwl='https://player.playbuzz.co/script/6.1/',e.adConfig.adServerDomain='pbsrv.playbuzz.co',e.adConfig.trackDomain='servt.playbuzz.co'),t&&(e.adConfig.startmidroll=this._configurationService.startmidroll),n&&(e.adConfig.midrolldelay=n),this._setBlockedAutoplayBehavior(e),a&&(e.adConfig.maximp=this.config.maxAds,e.content.breakingAdsMode='os'),i||(e.content.breakingAds=null,e.content.breakingAdsMode='default'),o&&(e.heightRatio=o),e}},{key:'_getPluginConfig',value:function(){return[]}},{key:'_setBlockedAutoplayBehavior',value:function(e){var t=this._configurationService.blockedAutoplayAction;if(t)switch(e.detectAutoPlay=!0,t){case'image-video':e.detectAutoPlayAction='images';break;case'click-to-play':e.detectAutoPlayAction='ctp';break;default:e.detectAutoPlayAction='ctp';}}},{key:'_getSkip',value:function(e){return{timer:0===e.timer?1:e.timer,enable:e.enable,text:e.text}}},{key:'_getLogLevel',value:function(){var e=!!(0<arguments.length&&void 0!==arguments[0])&&arguments[0];return e?10:0}},{key:'_getTimelineReplay',value:function(e){return void 0===e||e}},{key:'_getLogoShowOnHover',value:function(e){return void 0!==e&&e}},{key:'_getLogos',value:function(){var e=this._configurationService.showPlaybuzzLogo,t=this._configurationService.logoPosition,n=this._configurationService.logoClickThrough,a=[this._configurationService.logoWidth,this._configurationService.logoHeight],i=this._configurationService.logoRedirect,o=!1,r={url:this._configurationService.logoUrl,text:o,size:a,position:t,clickThrough:n,redirect:i};if(!e)return r;var s={url:Cs,text:o,size:a,position:'left'===this.config.logoPosition?'right':'left',clickThrough:n,redirect:i};return[r,s]}},{key:'_getStartVolume',value:function(){return this._configurationService.mute?0:1}},{key:'_getBreakingAdsMode',value:function(){var e=this._configurationService.breakingAdsMode;return e&&this._configurationService.isBreakingAds()?e:'op'}},{key:'_getHLSConfig',value:function(){var e=vo.isMobile()?Ps.MOBILE_AUTO_CAPPING:Ps.DESKTOP_AUTO_CAPPING;return{autoLevelCapping:e}}},{key:'_isMaxRun',value:function(e){return void 0!==e}},{key:'_getHeightRatio',value:function(){var e=this._configurationService.heightRatio;return void 0!==e&&e}},{key:'_getPlayerConfig',value:function(e){var t={data:e,appConfig:this.appConfig,targetEl:this.config.el,channelId:e.adConfig.channelId,divId:e.position,divParentId:this.config.divParentId,playerDetails:this.config};return t}}]),e}(),Rs='external-video',Bs=nt.objects,Us=function(){var e=0<arguments.length&&arguments[0]!==void 0?arguments[0]:{};return e.context||[]},Vs=function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:[],n=Bs.clone(e),a=t.toString();return a&&a.length&&(n.cparam1=a),n},zs=function(){var e=0<arguments.length&&arguments[0]!==void 0?arguments[0]:{};return e.itemTags||[]},Gs=function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:[],n=Bs.clone(e);return n.keywords=t.slice(0,10),n},Hs=function(e){var t=e.type,n=e.video,a=e.fallbackSource;return t===Rs?a:n.mp4&&n.mp4.src||''},Ys=function(e){var t=e.type,n=e.video,a=e.source,i=e.fallbackSource;return t===Rs?a:n.m3u8&&n.m3u8.src||Hs({type:t,video:n,fallbackSource:i})},Fs=function(e){var t=e.type,n=e.poster,a=e.video;return t===Rs?n:a.jpg&&a.jpg.src||''},Ws=function(e){var t=Bs.clone(e);return t.entry={thumbnailUrl:e.poster,name:e.title,userExpand:{fullName:null},duration:null},t},js=function(e,t){return t.video&&t.video.videoDuration&&(e.videoDuration=t.video.videoDuration),e},Zs=function(e,t){return t.mimeType&&(e.mimetype=t.mimeType),e},Ks=function(e,t){var n=Ys(e),a=Hs(e),i={id:e.id,itemTags:e.itemTags,url:n,fallbackUrl:a,type:'video',title:e.title};return i.poster=t.shouldPassPoster?Fs(e):'',i=Ws(i),i=Vs(i,Us(e)),i=Gs(i,zs(e)),i=js(i,e),i=Zs(i,e),i},qs={isExternalContents:function(e){return!(e[0]||{}).video},createContents:function(e,t){return e.map(function(e){return Ks(e,t)})}},Qs=nt.device,Js=function(){function e(t,n){ct()(this,e),Object.assign(this,{config:t,playerDetails:n}),this._contents=[]}return _t()(e,[{key:'setupAds',value:function(e,t){return this._contents=this._getContentsWithAds(e,t),this._contents}},{key:'_getContentsWithAds',value:function(e,t){var n=[],a;this._shouldMonetize(this.config.monetization)?t.publisherId&&t.channelId&&(a=[{type:'ad',adConfig:{publisherId:t.publisherId,channelId:t.channelId}}]):a=[];for(var o=0;o<e.length;o++){var i=e[o],r=JSON.parse(JSON.stringify(i));(this.playerDetails.adsMode===Jo.PREROLL||this.playerDetails.adsMode===Jo.PREROLL_ON_CHROME&&Qs.isChrome)&&(a[0].time=0),r.slots=JSON.parse(JSON.stringify(a))||[],n.push(r)}return n}},{key:'_shouldMonetize',value:function(e){return'no-ads'!==e&&!1!==e}}]),e}(),Xs={MEDIA:{CONTENT:{LOAD:'ContentPlaying',START:'ContentVideoStart',PLAYING:'playing',PAUSE:'pause',LOADING:'loading',TIMEUPDATE:'timeupdate',ABORT:'media:abort',EMPTIED:'media:emptied',ERROR:'media:error',STALLED:'media:stalled',SUSPENDED:'media:suspended'},ADS:{REQUEST:'request',START:'AdVideoStart',PLAYING:'AdPlaying',PAUSE:'AdPaused',SKIPPED:'AdSkipped',CLOSED:'AdClosed',IMPRESSION:'AdImpression',ENDED:'AdVideoComplete',FIRST_QUARTILE:'AdVideoFirstQuartile',MID_POINT:'AdVideoMidpoint',THIRD_QUARTILE:'AdVideoThirdQuartile',VOLUME_CHANGE:'AdVolumeChange',TERMINATED:'AdTerminated'},DISPLAY_ADS:{PLAYING:'DisplayAdPlaying',ENDED:'DisplayAdEnded'},MEDIA_CHANGED:'media:changed'},ELEMENT:{MOUSE_IN:'mouse:in',MOUSE_OUT:'mouse:out',MOUSE_POSITION_CHANGED:'mouse-position:changed',POSITION_CHANGED:'element-position:changed',STICKY:'sticky',STATIC:'static',STICKY_CLOSE:'closeSticky',SIZE_BREAKPOINT_CHANGE:'size-breakpoint:changed',STICKY_CHANGED:'sticky:change'},STATE:{CHANGED:'state:changed'},CONTENT:{CHANGED:'content:changed',ACTION_CHANGED:'content:action-change'},CTA:{SHOW:'cta:show',HIDE:'cta:hide',ENABLED:'cta:enabled'},PROGRESS_BAR:{SEGMENT_CLICK:'progress-bar:segment-click'}},$s=nt.Pubsub,el=new $s({logger:Ao}),tl=el,nl=function(){function e(t,n){var a=this;ct()(this,e),this.config=t,this.playerParentElm=n,this.state=!1,this.element=this.getPlayerParentElement(),this.element&&(this.dispatchEvent(this.isInViewport()),window.addEventListener('scroll',this.onscroll.bind(this),{passive:!0})),this.isInViewport(),tl.subscribe(Xs.ELEMENT.STICKY_CLOSE,function(){a.dispatchEvent(!1)}),this.playerParentElm.addEventListener('enableStickyOnLoad',function(){a.dispatchEvent(!0)})}return _t()(e,[{key:'getPlayerParentElement',value:function(){var e=document.getElementById(this.config.divParentId);return e?e.parentNode:null}},{key:'onscroll',value:function(){this.handleScroll()}},{key:'isInViewport',value:function(){return s(this.element)}},{key:'handleScroll',value:function(){var e=this.isInViewport();e&&!this.state?(this.state=!0,this.dispatchEvent(!0)):!e&&this.state&&(this.state=!1,this.dispatchEvent(!1))}},{key:'dispatchEvent',value:function(e){var t=document.createEvent('CustomEvent'),n=e?'in-view':'out-view';t.initCustomEvent('inViewChange',!1,!1,n),this.config.targetEl.dispatchEvent(t)}}]),e}(),al=function(){function e(t,n,a,i){ct()(this,e),this.playbackMode=i,this.inStickyMode=!1,this.attachPlayerResizeEvent(a),this.handleInViewEvent(t,n),this.inViewFeature=new nl(t,a)}return _t()(e,[{key:'attachPlayerResizeEvent',value:function(e){var t=this;e.addEventListener('playerResize',function(n){t.inStickyMode=n.detail&&n.detail.playerStickyMode})}},{key:'handleInViewEvent',value:function(e,t){var n=this,a=function(e){setTimeout(function(){'in-view'===e.detail?('play-in-view'===n.playbackMode||'play-in-view-pause'===n.playbackMode)&&n.inViewFeature.isInViewport()&&t.play():'out-view'===e.detail&&n.playbackMode&&!n.inStickyMode&&('play-in-view-pause'===n.playbackMode||'pause-out-view'===n.playbackMode)&&t.pause()})};e.targetEl.addEventListener('inViewChange',a,!1),l(function(e){a({detail:'hidden'===e?'out-view':'in-view'})})}}]),e}(),il={CONTENT:{START:'ContentVideoStart',COMPLETE:'ContentVideoComplete',PLAYING:'ContentPlaying',PAUSED:'ContentPaused',PLAY_CLICKED:'ContentPlayClicked',PAUSE_CLICKED:'ContentPauseClicked',NEXT_CLICKED:'ContentNextClicked',PREV_CLICKED:'ContentPrevClicked',FIRST_QUARTILE:'ContentVideoFirstQuartile',MID_POINT:'ContentVideoMidpoint',THIRD_QUARTILE:'ContentVideoThirdQuartile',ERROR:'ContentError'},ADS:{AD_EVENT:'AdEvent',REQUEST:'request',IMPRESSION:'AdImpression',START:'AdVideoStart',COMPLETE:'AdVideoComplete',PLAYING:'AdPlaying',PAUSED:'AdPaused',CLOSED:'AdClosed',SKIPPED:'AdSkipped',VOLUME_CHANGE:'AdVolumeChange',FIST_QUARTILE:'AdVideoFirstQuartile',MID_POINT:'AdVideoMidpoint',THIRD_QUARTILE:'AdVideoThirdQuartile',ERROR:'AdError'},INVENTORY_REQUEST:'InventoryRequest',INVOKED_EVENTS:{VIEWABLE_PLAYER_LOAD:'AV_M20',PLAYER_LOAD:'playerLoaded',CTA:'AV_M19',HEART_BEAT:'AV_M18',PUBLISHER_DEMAND_SESSION:'AV_M17'}},ol=nt.elements,rl=function(){function e(t){ct()(this,e),this.config=t,this.playerUrl=t.playerDetails.nativePlayerVersion,this.config.adConfig=this.config.data.adConfig,this.MOBILE_DEVICE_CLASS='pb-device-mobile',this.DESKTOP_DEVICE_CLASS='pb-device-desktop',this.playerParentElm=null}return _t()(e,[{key:'init',value:function(){try{this._sendTrackPixel();var e=document.getElementById(this.config.divId);if(!e){e=document.createElement('div'),e.setAttribute('id',this.config.divId),e.style.setProperty('position','relative');var t=document.createElement('div');t.setAttribute('id',this.config.divParentId),t.classList.add('pbs__player'),t.appendChild(e),t.style.height='inherit',this.setElementSelectors(e),this.config.targetEl.appendChild(t),this.playerParentElm=t}this.adsSetupService=new Js(this.config.data,this.config.playerDetails);var n=this.config.data,a=this.config.adConfig;this.config.isExternalContents||(n.content.contents=this.adsSetupService.setupAds(n.content.contents,a)),this.handleOnPlayerLoad(n)}catch(e){Ao.error('aniview - error while creating new player provider instance',e)}}},{key:'_sendTrackPixel',value:function(){ol.fireImgElementEvent(Ds(ws(this.config.adConfig),il.INVOKED_EVENTS.PLAYER_LOAD))}},{key:'setElementSelectors',value:function(e){var t=this.getDeviceTypeClass();e.classList.add('pb-stream'),e.classList.add(t)}},{key:'getDeviceTypeClass',value:function(){return vo.isMobileOrTablet()?this.MOBILE_DEVICE_CLASS:this.DESKTOP_DEVICE_CLASS}},{key:'handleOnPlayerLoad',value:function(e){Ao.info('aniview - script loaded');var t=new window._avcp(e);this.nativePlayer=t;new al(this.config,t,this.playerParentElm,ks.playback);this.changeGui(t,{numOfVideos:e.content.contents.length}),t.nextContent()}},{key:'changeGui',value:function(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{},n=Object.assign({},this._getBigNextPrevButtonsConfigs(t.numOfVideos));e.changeGUI(n)}},{key:'_getBigNextPrevButtonsConfigs',value:function(e){var t=!(1>=e);return{showBigPrevNextOnPause:t,showBigPrevNext:t}}},{key:'getNativePlayer',value:function(){return this.nativePlayer}}]),e}(),sl={MCD:'mcd',RSS:'rss'},ll=nt.arrays,dl=nt.is,pl=nt.guid,cl=nt.objects,ul=nt.environment,_l=nt.urls,gl=ul.getEnvPrefix,yl=Fe.SERVER_ROUTES,ml=rt.EnvVars,bl=Xs.MEDIA.CONTENT,vl=function(){function e(){ct()(this,e),this._contents=[],this._content={},this._videotag=null,this._playerprovider=null,this._currentAction=null,Ao.info('contents service - initiated')}return _t()(e,[{key:'set',value:function(e){return dl.empty(e.exco)&&dl.empty(e.external)?void Ao.error('contents service - no content provided'):void(this._contents=this._arrangeContents(e),Ao.info('contents service - content set',this._contents),this._updateContent({index:0}))}},{key:'get',value:function(){return this._contents}},{key:'fetch',value:function(e){function t(){return e.apply(this,arguments)}return t.toString=function(){return e.toString()},t}(function(){var e=this,t=ks.content;return new Promise(function(n,a){if(t&&!t.clientSide)return n();var i=yl.PLAYLIST,o=e._createContentQuery(ks.raw),r='//'.concat(gl()).concat(i,'/api/v2/playlist?').concat(o);return r?fetch(ml.applyEnvVars(decodeURIComponent(r))).then(function(e){return e.json()}).then(function(e){ks.raw.contents=e,n()})['catch'](function(e){return a(e)}):(ks.raw.contents=[],n())})})},{key:'listen',value:function(e){var t=e.playerprovider,n=e.videotag;this._playerprovider=t,this._videotag=n,this._listen()}},{key:'addMP4WidthExtensions',value:function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:[],t=1<arguments.length?arguments[1]:void 0;return e.map(function(e){var n=cl.clone(e);return n&&n.video&&(n.video.mp4=n.video.mp4||{},n.video.mp4.src=n.video.mp4.src.includes('upload/')?n.video.mp4.src.replace('upload/','upload/c_scale,w_'.concat(t,'/')):n.video.mp4.src),n})}},{key:'removeM3U8Extensions',value:function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:[];return e.map(function(e){var t=cl.clone(e);return t&&t.video&&delete t.video.m3u8,t})}},{key:'isCurrentActionCTA',value:function(){return this._isActionOfTypeCTA(this._currentAction)}},{key:'updateContent',value:function(e){this._onContentPlaying(e),tl.publish(bl.START)}},{key:'onchange',value:function(e){tl.subscribe(Xs.CONTENT.CHANGED,e)}},{key:'onActionChange',value:function(e){this.subscribe(Xs.CONTENT.ACTION_CHANGED,e)}},{key:'anyContentContainsCTAActions',value:function(){var e=this;return this._contents.some(function(t){return e.containsCTAActions(t)})}},{key:'containsCTAActions',value:function(){var e=this,t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},n=t.videoSpecMeta||{},a=n.actions;return dl.array(a)&&a.some(function(t){return e._isActionOfTypeCTA(t)})}},{key:'getActionTimes',value:function(e){var t=[];return dl.empty(e.videoSpecMeta)||dl.empty(e.videoSpecMeta.actions)||(t=e.videoSpecMeta.actions.map(function(e){return{startTime:e.startTime,endTime:e.endTime}})),t}},{key:'subscribe',value:function(e,t){tl.subscribe(e,t)}},{key:'_getCurrentAction',value:function(e){var t=this.current.videoSpecMeta;t=void 0===t?{}:t;var n=t.actions;if(!n)return null;var a=Ve(e),i=n.filter(function(e){return dl.inRange(a,e.startTime,e.endTime)})[0];return i&&(i.index=n.indexOf(i)),i}},{key:'_isErrorCodeOfType',value:function(e){return this._videotag.error&&this._videotag.error.code===e.code}},{key:'_listen',value:function(){this._playerprovider.onContentPlaying(function(){tl.publish(bl.LOAD)}),this._initVideoTagListeners()}},{key:'_initVideoTagListeners',value:function(){var e=this;this._videotag.onplay=function(){tl.publish(bl.PLAYING)},this._videotag.onpause=function(){tl.publish(bl.PAUSE)},this._videotag.oncanplay=function(t){t.target.paused?tl.publish(bl.PAUSE):tl.publish(bl.PLAYING)},this._videotag.onloadstart=function(){tl.publish(bl.LOADING)},this._videotag.ontimeupdate=function(){var t=e._videotag.currentTime;e._onTimeUpdate(t),tl.publish(bl.TIMEUPDATE,{currentTime:t,duration:e._videotag.duration})}}},{key:'_onContentPlaying',value:function(e){dl.equal(e,this._content.source)||(this._updateContent({source:e}),tl.publish(Xs.CONTENT.CHANGED,this.current))}},{key:'_onTimeUpdate',value:function(e){var t=this._getCurrentAction(e);this._currentAction!==t&&(this._currentAction=t,tl.publish(Xs.CONTENT.ACTION_CHANGED,this._currentAction))}},{key:'_updateContent',value:function(e){var t=e.source?this._getContentBySource(e.source):this._getContentByIndex(e.index);this._setContent({content:t,source:e.source})}},{key:'_getContentByIndex',value:function(e){return this._contents[e]}},{key:'_getContentBySource',value:function(e){return ll.find(this._contents,e)}},{key:'_setContent',value:function(e){var t=e.content,n=e.source,a=this._extractContentImplementationType(t),i=t.title,o=t.videoSpecMeta,r=void 0===o?{}:o,s=t.context,l=void 0===s?[]:s,d=t.video,p=void 0===d?{}:d,c=p.videoDuration,u=p.duration;this._content={source:n,type:a,videoSpecMeta:r,title:i,context:l,id:t.id||t._id,createDate:t.createDate||r.createDate,duration:c||u||r.duration}}},{key:'_extractContentImplementationType',value:function(e){return this.containsCTAActions(e)||'rss'===e.source?sl.RSS:sl.MCD}},{key:'_isActionOfTypeCTA',value:function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};return e&&'cta'===e.type}},{key:'_getExternalVideosMap',value:function(e){return e.map(function(e){var t=e.source,n=e.fallbackSource,a=e.title,i=e.id,o=e.poster,r=e.keywords;return{title:a||'',id:i||pl.generate(),source:t,fallbackSource:n,poster:o,itemTags:r||[],type:'external-video'}})}},{key:'_getFinalizedContent',value:function(e,t,n){return n?e:e.concat(t)}},{key:'_arrangeContents',value:function(e){var t=e.exco,n=e.external,a=n.sources,i=void 0===a?[]:a,o=n.isExternalVideosOnly,r=e.externalCTA,s=e.random,l=e.randomFrom,d;if(dl.empty(i))d=t;else{var p=this._getExternalVideosMap(i);d=this._getFinalizedContent(p,t,o)}return dl.empty(r)||(d=this._setCTAOnAllVideos(d,r)),this._shouldRandomize(s,l,d)?this._randomize(d,l):d}},{key:'_setCTAOnAllVideos',value:function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:[],t=1<arguments.length?arguments[1]:void 0;return e.map(function(e){var n=p({},e);return n.videoSpecMeta=n.videoSpecMeta||{},n.videoSpecMeta.actions=(n.videoSpecMeta.actions||[]).filter(function(e){return'cta'!==e.type}).concat({type:'cta',startTime:0,endTime:9e9,data:t}),n})}},{key:'_shouldRandomize',value:function(e,t,n){return e&&t<n.length}},{key:'_randomize',value:function(e,t){var n=this._getGroupedContentsByFeedId(e),a=[],i=n;return 0!==t&&(a=n.slice(0,t),i=n.slice(t)),i=this._randomizeFeeds(i),i=ll.random(i),a.concat(i).flat()}},{key:'_getGroupedContentsByFeedId',value:function(e){var t={};return e.forEach(function(e){'feed'===e.source?(!t[e.feedId]&&(t[e.feedId]=[]),t[e.feedId].push(e)):t[e.id]=[e]}),Object.values(t)}},{key:'_randomizeFeeds',value:function(e){return e.map(function(e){if(1===e.length)return e;var t=e.find(function(e){return'intro'===e.type}),n=ll.random(e.filter(function(e){return'intro'!==e.type}));return t&&n.unshift(t),n})}},{key:'_createContentQuery',value:function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},t=this._getQueryMap(e);return this._getQueryFromMap(t)}},{key:'_getQueryFromMap',value:function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},t=e.mrss,n=e.rss,a=e.videoconsole,i={};return t&&t.source?Object.assign(i,t):n&&n.playerId?Object.assign(i,{playerId:n.playerId}):a&&a.playlistId&&Object.assign(i,{id:a.playlistId}),_l.objectToQueries(i)}},{key:'_getQueryMap',value:function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},t=e._id,n=e.content,a=void 0===n?{}:n,i=a.mrss?a.mrss:{},o=a.rss?a.rss:{},r=a.userPlaylist?a.userPlaylist:{},s=null,l=null,d=null;return i.enabled&&(s={maxDuration:i.maxDuration,minDuration:i.minDuration,source:i.source,limit:i.limit,sort:i.sort?i.sort.map(function(e){return e.id}):null,daysSincePublished:i.filter?i.filter.daysSincePublished:null}),o.enabled&&(l={playerId:t}),r.enabled&&(d={playlistId:r.id}),Object.assign({},{mrss:s,rss:l,videoconsole:d})}},{key:'current',get:function(){return this._content}},{key:'currentContext',get:function(){return this._content.context||[]}},{key:'nextContent',get:function(){var e=this.currentIndex+1===this._contents.length?0:this.currentIndex+1;return this._contents[e]}},{key:'currentIndex',get:function(){var e=this;return this._contents.findIndex(function(t){return t.id===e._content.id})}},{key:'type',get:function(){return this._content.type}},{key:'action',get:function(){return this._currentAction}}]),e}(),hl=new vl,El=hl,kl={ERROR:'error',ERROR_CODES:{ABORTED:{name:'MEDIA_ERR_ABORTED',code:1},NETWORK:{name:'MEDIA_ERR_NETWORK',code:2},DECODE:{name:'MEDIA_ERR_DECODE',code:3},SRC_NOT_SUPPORTED:{name:'MEDIA_ERR_SRC_NOT_SUPPORTED',code:4}}},fl=Fe.PLAYBACK,Al=nt.environment,Sl=nt.elements,Pl=nt.Pubsub,Cl=nt.ResizeObserver,Tl='player-resize',Il='ad-request',xl=function(){function e(){var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};ct()(this,e),this._config=t,this._aniviewConfig=null,this._aniviewContents=null,this._aniviewPlayer=null,this._oldImplPlayer=null,this._onContentMutedCallback=null,this._onContentUnMutedCallback=null,this._pubsub=new Pl}return _t()(e,[{key:'init',value:function(){var e=El.get(),t=qs.isExternalContents(e);this._aniviewContents=t?e:this._createContents(e),Ao.info('aniview player manager - player contents set',this._aniviewContents),this._aniviewConfig=this._createConfiguration(),this._aniviewConfig.isExternalContents=t,Ao.info('aniview player manager - player configs set',this._aniviewConfig),this._initPlayer(),this._initResizeObserver(),this._addSoundChangeListener(),this._addListener(il.ADS.AD_EVENT,this._onAdEvent.bind(this))}},{key:'play',value:function(){this._aniviewPlayer.play()}},{key:'isPlayButtonPaused',value:function(){var e=this.container.querySelector('.avp-p-cn-bp'),t=e.getAttribute('data-avp-state');return'play'===t}},{key:'playUsingButton',value:function(){this.isPlayButtonPaused()&&this.togglePlayButton()}},{key:'pauseUsingButton',value:function(){this.isPlayButtonPaused()||this.togglePlayButton()}},{key:'togglePlayButton',value:function(){var e=this.container.querySelector('.avp-p-cn-bp');e.click()}},{key:'pause',value:function(){this._aniviewPlayer.pause()}},{key:'resume',value:function(){this._aniviewPlayer.resume()}},{key:'next',value:function(){this._aniviewPlayer.nextContent()}},{key:'prev',value:function(){this._aniviewPlayer.prevContent()}},{key:'close',value:function(){this._aniviewPlayer.close()}},{key:'mute',value:function(){this._aniviewPlayer.mute()}},{key:'unmute',value:function(){this._aniviewPlayer.unmute()}},{key:'getMuted',value:function(){return this._aniviewPlayer.getMuted()}},{key:'volume',value:function(){return this._aniviewPlayer.getVolume()}},{key:'setVolume',value:function(e){this._aniviewPlayer.setVolume(e)}},{key:'duration',value:function(){return this._aniviewPlayer.getAdDuration()}},{key:'setTime',value:function(e){this._aniviewPlayer.setContentCurrentTime(e)}},{key:'setContentByIndex',value:function(e){this._aniviewPlayer.setContentByIndex(e),this._onSetContentByIndex(e)}},{key:'resize',value:function(){this._aniviewPlayer.resize(),this._publishResize()}},{key:'onResize',value:function(e){this._pubsub.subscribe(Tl,e)}},{key:'_initResizeObserver',value:function(){var e=this,t=new Cl(function(t){var n=t[0];n&&e._publishResize()});t.observe(this.container)}},{key:'_publishResize',value:function(){var e=Sl.dimensions(this.container),t=e.width,n=e.height;this._pubsub.publish(Tl,{width:t,height:n})}},{key:'toggleGUI',value:function(e){this._aniviewPlayer.changeGUI(e)}},{key:'setMinimalGUI',value:function(){this._aniviewPlayer.changeGUI({showTimelineReplay:!0,showPrevButton:!1,showNextButton:!1,showFullScreen:!1,showBigPrevNext:!1,showBigPlayOnPause:!0,showBigPrevNextOnPause:!1,showVolumeControl:!0,showSoundButton:!0,mobileConfig:{showFullScreen:!1,showBigPrevNext:!1,showBigPlayOnPause:!0,showBigPrevNextOnPause:!1}})}},{key:'setFullGUI',value:function(){this._aniviewPlayer.changeGUI({showTimelineReplay:!0,showPrevButton:!1,showNextButton:!1,showFullScreen:ks.showFullScreenIcon,showBigPrevNext:!0,showBigPlayOnPause:!0,showBigPrevNextOnPause:!0,showSoundButton:!0,showVolumeControl:!0,timelineMode:'default',showDuration:!0,mobileConfig:{showFullScreen:!0,showBigPrevNext:!0,showBigPlayOnPause:!1,showBigPrevNextOnPause:!1}})}},{key:'hideGUI',value:function(){this._aniviewPlayer.changeGUI({showTimelineReplay:!1,showPrevButton:!1,showNextButton:!1,showFullScreen:!1,showBigPrevNext:!1,showBigPlayOnPause:!1,showBigPrevNextOnPause:!1,mobileConfig:{showFullScreen:!1,showBigPrevNext:!1,showBigPlayOnPause:!1,showBigPrevNextOnPause:!1}})}},{key:'playButtonGUIOnly',value:function(){this._aniviewPlayer.changeGUI({showTimelineReplay:!1,showPrevButton:!1,showNextButton:!1,showFullScreen:!1,showBigPrevNext:!1,showBigPlayOnPause:!0,showBigPrevNextOnPause:!1,showSoundButton:!1,showVolumeControl:!1,timelineMode:'none',showDuration:!1})}},{key:'isPublisherOwnerType',value:function(e){var t=null===e||void 0===e||null===(n=e.payload)||void 0===n||null===(a=n.data)||void 0===a||null===(i=a.p1)||void 0===i||null===(o=i.tagInfo)||void 0===o||null===(r=o.papi)||void 0===r?void 0:r.ot,n,a,i,o,r;return t===2}},{key:'sendPublisherDemandSessionEvent',value:function(){Sl.fireImgElementEvent(this.publisherDemandSessionEventUrl)}},{key:'sendViewablePlayerLoadEvent',value:function(){Sl.fireImgElementEvent(this.viewablePlayerLoadEventUrl)}},{key:'sendCTAClickedEvent',value:function(){Sl.fireImgElementEvent(this.ctaEventUrl)}},{key:'sendHeartBeatEvent',value:function(){Sl.fireImgElementEvent(this.heartbeatEventUrl)}},{key:'onSetContentByIndex',value:function(e){this._onSetContentByIndex=e}},{key:'onContentMuted',value:function(e){this._onContentMutedCallback=e}},{key:'onContentUnMuted',value:function(e){this._onContentUnMutedCallback=e}},{key:'onContentStart',value:function(e){this._addListener(il.CONTENT.START,e)}},{key:'onContentEnded',value:function(e){this._addListener(il.CONTENT.COMPLETE,e)}},{key:'onContentPlaying',value:function(e){this._addListener(il.CONTENT.PLAYING,e)}},{key:'onContentPaused',value:function(e){this._addListener(il.CONTENT.PAUSED,e)}},{key:'onContentPlayClicked',value:function(e){this._addListener(il.CONTENT.PLAY_CLICKED,e)}},{key:'onContentPauseClicked',value:function(e){this._addListener(il.CONTENT.PAUSE_CLICKED,e)}},{key:'onNextClicked',value:function(e){this._addListener(il.CONTENT.NEXT_CLICKED,e)}},{key:'onPrevClicked',value:function(e){this._addListener(il.CONTENT.PREV_CLICKED,e)}},{key:'onContentFirstQuarter',value:function(e){this._addListener(il.CONTENT.FIRST_QUARTILE,e)}},{key:'onContentMidPoint',value:function(e){this._addListener(il.CONTENT.MID_POINT,e)}},{key:'onContentThirdQuarter',value:function(e){this._addListener(il.CONTENT.THIRD_QUARTILE,e)}},{key:'onAdTerminated',value:function(){}},{key:'onAdImpression',value:function(e){var t=this;this._addListener(il.ADS.IMPRESSION,function(n){return t._arrangeDataForAdImpressionEvent(n,e)})}},{key:'onAdStart',value:function(e){this._addListener(il.ADS.START,e)}},{key:'onAdCompleted',value:function(e){this._addListener(il.ADS.COMPLETE,e)}},{key:'onAdRequest',value:function(e){this._pubsub.subscribe(Il,e)}},{key:'_onAdEvent',value:function(e){var t;(e===il.ADS.REQUEST||(null===e||void 0===e||null===(t=e.data)||void 0===t?void 0:t.p1)===il.ADS.REQUEST)&&this._pubsub.publish(Il)}},{key:'onAdPlaying',value:function(e){this._addListener(il.ADS.PLAYING,e)}},{key:'onAdPaused',value:function(e){this._addListener(il.ADS.PAUSED,e)}},{key:'onAdClosed',value:function(e){this._addListener(il.ADS.CLOSED,e)}},{key:'onAdSkipped',value:function(e){this._addListener(il.ADS.SKIPPED,e)}},{key:'onAdVolumeChange',value:function(e){this._addListener(il.ADS.VOLUME_CHANGE,e)}},{key:'onAdFirstQuarter',value:function(e){this._addListener(il.ADS.FIST_QUARTILE,e)}},{key:'onAdMidPoint',value:function(e){this._addListener(il.ADS.MID_POINT,e)}},{key:'onAdThirdQuarter',value:function(e){this._addListener(il.ADS.THIRD_QUARTILE,e)}},{key:'onAdError',value:function(e){this._addListener(il.ADS.ERROR,e)}},{key:'onError',value:function(e){this.videoElement.addEventListener(kl.ERROR,e)}},{key:'onAbortedError',value:function(e){var t=this;this.onError(function(){t._isErrorCodeOfType(kl.ERROR_CODES.ABORTED)&&e({message:t.videoElement.error.message})})}},{key:'onNetworkError',value:function(e){var t=this;this.onError(function(){t._isErrorCodeOfType(kl.ERROR_CODES.NETWORK)&&e({message:t.videoElement.error.message})})}},{key:'onDecodeError',value:function(e){var t=this;this.onError(function(){t._isErrorCodeOfType(kl.ERROR_CODES.DECODE)&&e({message:t.videoElement.error.message})})}},{key:'onSourceNotSupportedError',value:function(e){var t=this;this.onError(function(){t._isErrorCodeOfType(kl.ERROR_CODES.SRC_NOT_SUPPORTED)&&e({message:t.videoElement.error.message})})}},{key:'_arrangeDataForAdImpressionEvent',value:function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},t=1<arguments.length?arguments[1]:void 0,n=this.volume(),a=this._extractTypeFromAdEvent(e),i=this._extractAdSourceIdFromAdEvent(e),o=this._extractCPMFromAdEvent(e),r=this._extractVideoUrlFromAdEvent(e),s=this.duration();t({payload:e,adSourceType:a,adVolume:n,adSourceId:i,cpm:o,videoUrl:r,adDuration:s})}},{key:'_isErrorCodeOfType',value:function(e){return this.videoElement.error&&this.videoElement.error.code===e.code}},{key:'_extractTypeFromAdEvent',value:function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};return e.data&&e.data.p1?e.data.p1.mt:void 0}},{key:'_extractAdSourceIdFromAdEvent',value:function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};return e.data&&e.data.p1?e.data.p1.asid:void 0}},{key:'_extractCPMFromAdEvent',value:function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},t=0,n=e.data&&e.data.p1&&e.data.p1.tagInfo;return n&&(t=n.bidCpm||n.floorCpm||0),t}},{key:'_extractVideoUrlFromAdEvent',value:function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};return e.data&&e.data.p1?e.data.p1.videoUrl:void 0}},{key:'_createConfiguration',value:function(){return new Ns(this._config).getConfigurations(this._aniviewContents)}},{key:'_createContents',value:function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:[],t=ks.playback===fl.MODE.CLICK_TO_PLAY;return qs.createContents(e,{shouldPassPoster:t})}},{key:'_initPlayer',value:function(){this._oldImplPlayer=this._createPlayer(),this._oldImplPlayer.init(),this._aniviewPlayer=this._oldImplPlayer.getNativePlayer(),Ao.info('aniview player manager - created new player.')}},{key:'_createPlayer',value:function(){return new rl(this._aniviewConfig)}},{key:'_addListener',value:function(t,e){if(this._aniviewPlayer)try{this._aniviewPlayer.on(t,e)}catch(n){Ao.error('Could not add event-listener for event \''.concat(t,'\''),n)}else Ao.error('Could not add event-listener for event \''.concat(t,'\' since AV player is not initizlized.'))}},{key:'_addSoundChangeListener',value:function(){var e=this,t=this.container.querySelector('.avp-p-cn-s.avp-btn');t&&t.addEventListener('click',function(){e._aniviewPlayer.getMuted()?e._onContentMutedCallback():e._onContentUnMutedCallback()})}},{key:'viewablePlayerLoadEventUrl',get:function(){var e=ws(this._aniviewConfig.adConfig);return Ds(e,il.INVOKED_EVENTS.VIEWABLE_PLAYER_LOAD)}},{key:'publisherDemandSessionEventUrl',get:function(){var e=ws(this._aniviewConfig.adConfig);return Ds(e,il.INVOKED_EVENTS.PUBLISHER_DEMAND_SESSION)}},{key:'ctaEventUrl',get:function(){var e=ws(this._aniviewConfig.adConfig);return Ds(e,il.INVOKED_EVENTS.CTA)}},{key:'heartbeatEventUrl',get:function(){var e=ws(this._aniviewConfig.adConfig);return Ds(e,il.INVOKED_EVENTS.HEART_BEAT)}},{key:'container',get:function(){var e=Al.document();return e.getElementById(this._aniviewConfig.divId)}},{key:'videoElement',get:function(){return this.container.querySelector('video')}}]),e}(),wl=nt.environment,Dl=nt.urls;n(43).polyfill();var Ol=function(){function e(t){ct()(this,e),this._config=t,this._player=null,Ao.info('player manager - initiated')}return _t()(e,[{key:'init',value:function(){var e=this;return new Promise(function(t){var n=e._config,a=n.prefetchPlayer,i=n.nativePlayerVersion;if(a||!i)e._onPlayerScriptLoaded(),t();else{var o=wl.useCDNinsteadOfS3(i);wl.addPreconnectLink(Dl.origin(o)),wl.downloadScript(o).then(function(){e._onPlayerScriptLoaded(),t()})}})}},{key:'_onPlayerScriptLoaded',value:function(){this._player=this._createPlayer(),Ao.info('player manager - initialized')}},{key:'_createPlayer',value:function(){var e=new xl(this._config);return e.init(),Ao.info('player manager - new player provider instance created'),e}},{key:'player',get:function(){return this._player?this._player:void Ao.error('Cannot get player - should call init before accessing the player.')}}]),e}();const Ml={MOCK:'mock',ANIVIEW:'aniview'};class Ll{async init(){return null}get container(){return null}enableOpenCloseAnimation(){return null}sendPlayerLoadEvent(){return null}sendViewablePlayerLoadEvent(){return null}sendCTAClickedEvent(){return null}sendHeartBeatEvent(){return null}canPlay(){return null}play(){return null}pause(){return null}skip(){return null}close(){return null}get volume(){return null}mute(){return null}unmute(){return null}resize(){return null}startAd(){return null}startWaterfall(){return null}pauseWaterfall(){return null}onAdViewability(){return null}onAdLoaded(){return null}onAdImpression(){return null}onAdStart(){return null}onAdComplete(){return null}onAdPlaying(){return null}onAdPaused(){return null}onAdClosed(){return null}onAdSkipped(){return null}onAdVolumeChange(){return null}onAdFirstQuartile(){return null}onAdMidPoint(){return null}onAdThirdQuartile(){return null}onAdError(){return null}}const{reporting:{SUB_ID_DIMENSION_NAME:Nl,UTM_NAMES:Rl,COUNTRY_DIMENSION_NAME:Bl,PAGE_LOAD_UID_DIMENSION_NAME:Ul,AB_TEST_DIMENSION_NAMES:Vl,INTEGRATION_TYPE_NAME:zl}}=Fe,Gl=[{name:Rl.UTM_SOURCE,mappingNames:['AV_UTM_SOURCE']},{name:Rl.UTM_MEDIUM,mappingNames:['AV_UTM_MEDIUM']},{name:Rl.UTM_CAMPAIGN,mappingNames:['AV_UTM_CAMPAIGN']},{name:Rl.UTM_TERM,mappingNames:['AV_UTM_TERM']},{name:Rl.UTM_CONTENT,mappingNames:['AV_UTM_CONTENT']},{name:Nl,mappingNames:['sn','AV_SUBID']},{name:Ul,mappingNames:['AV_PAGE_LOAD_UID','AV_CDIM4']},{name:Bl,mappingNames:['cou']},{name:Vl.WEIGHT,mappingNames:['AV_ABTEST_TEMPLATE_WIGHT','AV_CDIM6']},{name:Vl.NAME,mappingNames:['AV_ABTEST_TEMPLATE_NAME','AV_CDIM7']},{name:zl,mappingNames:['AV_CDIM5']}];var Hl=Gl;const{reporting:{SUB_ID_DIMENSION_NAME:Yl,COUNTRY_DIMENSION_NAME:Fl,PAGE_LOAD_UID_DIMENSION_NAME:Wl,AB_TEST_DIMENSION_NAMES:jl,INTEGRATION_TYPE_NAME:Zl}}=Fe,{urls:Kl,is:ql,objects:Ql}=nt,Jl='56ea678d181f46c76f8b45fb',Xl=(e='')=>{const{mappingNames:t}=Hl.find((e)=>e.name===Fl);return Ql.reduceToObject(t,e)},$l=(e='')=>{if(!e)return{};const{mappingNames:t}=Hl.find((e)=>e.name===Wl);return Ql.reduceToObject(t,e)},ed=(e)=>{if(ql.nullOrUndefined(e)||!e.value)return{};const{mappingNames:t=[]}=Hl.find((e)=>e.name===Yl);return Ql.reduceToObject(t,e.value)},td=(e={})=>e.reduce((e,t)=>{const{mappingNames:n=[]}=Hl.find((e)=>e.name===t.name);return Ql.merge([e,Ql.reduceToObject(n,t.value)])},{}),nd=(e={})=>{const{name:t,weight:n}=e,a=Hl.find((e)=>e.name===jl.NAME),i=Hl.find((e)=>e.name===jl.WEIGHT);return Ql.merge([Ql.reduceToObject(a.mappingNames,t),Ql.reduceToObject(i.mappingNames,n)])},ad=(e)=>{if(ql.nullOrUndefined(e))return{};const{mappingNames:t=[]}=Hl.find((e)=>e.name===Zl);return Ql.reduceToObject(t,e)},id=(e={},t={})=>{const{urlParams:i=[],subId:o='',pageLoadUid:n,country:r='',integrationType:a}=e,s=Ql.merge([{},td(i),ed(o),$l(n),Xl(r),nd(t),ad(a)]);return Kl.objectToQueries(s)};var od={createConfiguration:({publisherId:e,channelId:t,containerId:n,customDimensions:a,abtest:i,vastRetry:d=0,errorLimit:p=999,maxWaterfallRun:c=100,maxImp:o,skip:u=!1,skipOffset:_=0,skipText:r,adsInterval:s,timeToFirstAd:l,autoPlay:g=!0,loop:y=!0,enableDebug:m=!1})=>({publisherId:e,channelId:t,position:n,vastRetry:d,errorLimit:p,maxImp:o,midrolltime:5,maxrun:c,ref1:id(a,i),width:100,height:0,autoPlay:g,loop:y,soundButton:!0,pauseButton:!0,logo:!1,hideInitPreloader:!0,skip:u,skipOffset:_,skipText:r,startmidroll:s,midrolldelay:l,logLevel:m?10:0,noifsnd:!0,antihjck:!0,imaflags:!1,noMuteOnBlur:!1,lastFrame:!1}),getAniviewPublisherId:()=>Jl,getAniviewScriptURL:()=>'https://player.aniview.com/script/6.1/aniview.js'};const{environment:rd,elements:sd,is:ld}=nt,dd=(e,t)=>{const n=rd.document();let a=n.getElementById(t);if(ld.nullOrUndefined(a)){const i=n.getElementById(e);a=sd.insert(i,'div',{id:t})}return a},pd=()=>(((rd.window().com||{}).aniview||{}).player||{}).avPlayer,cd=()=>rd.window().avPlayer,ud=()=>!!pd(),_d=()=>!!cd(),gd=()=>cd()||pd();var yd={createInstance:async(e,t,n={})=>{dd(e,t),_d()||ud()||(await rd.downloadScript(od.getAniviewScriptURL()));const a=gd();return new a(n)}};var md={ADS:{AD_EVENT:'AdEvent',LOADED:'AdLoaded',IMPRESSION:'AdImpression',START:'AdVideoStart',COMPLETE:'AdVideoComplete',PLAYING:'AdPlaying',PAUSED:'AdPaused',CLOSED:'AdClosed',SKIPPED:'AdSkipped',VOLUME_CHANGE:'AdVolumeChange',FIST_QUARTILE:'AdVideoFirstQuartile',MID_POINT:'AdVideoMidpoint',THIRD_QUARTILE:'AdVideoThirdQuartile',AD_ERROR:'AdError',REQUEST:'request',STOP:'stop',ERROR:'error'},INVENTORY_REQUEST:'InventoryRequest',INVOKED_EVENTS:{VIEWABLE_PLAYER_LOAD:'AV_M20',PLAYER_LOAD:'playerLoaded',CTA:'AV_M19',HEART_BEAT:'AV_M18',PUBLISHER_DEMAND_SESSION:'AV_M17'},CUSTOM_DIMENSIONS:{PAGE_LOAD_UID:'AV_PAGE_LOAD_UID'}};const{elements:bd,urls:vd}=nt,hd='https://servt.playbuzz.co/track',Ed=({host:n='',channelId:e,ref1:t},a)=>{const i={pid:Jl,AV_PUBLISHERID:Jl,e:a,cb:Date.now(),cid:e},o=vd.appendQueryParams(n,vd.objectToQueries(i));return`${o}&${t}`},kd=({host:e,channelId:t,ref1:n})=>{const a=Ed({host:e,channelId:t,ref1:n},md.INVOKED_EVENTS.PLAYER_LOAD);bd.fireImgElementEvent(a)},fd=({host:e,channelId:t,ref1:n})=>{const a=Ed({host:e,channelId:t,ref1:n},md.INVOKED_EVENTS.VIEWABLE_PLAYER_LOAD);bd.fireImgElementEvent(a)},Ad=({host:e,channelId:t,ref1:n})=>{const a=Ed({host:e,channelId:t,ref1:n},md.INVOKED_EVENTS.CTA);bd.fireImgElementEvent(a)},Sd=({host:e,channelId:t,ref1:n})=>{const a=Ed({host:e,channelId:t,ref1:n},md.INVOKED_EVENTS.HEART_BEAT);bd.fireImgElementEvent(a)},Pd=({host:e,channelId:t,ref1:n})=>{const a=Ed({host:e,channelId:t,ref1:n},md.INVOKED_EVENTS.PUBLISHER_DEMAND_SESSION);bd.fireImgElementEvent(a)},{is:Cd,environment:Td,ViewabilityObserver:Id,Pubsub:xd,guid:wd}=nt,Dd='ad-request',Od='ad-viewability';class Md extends Ll{constructor({logger:e}){super({logger:e}),this._avPlayer=null,this._avConfig=null,this._containerId=`${'exco-ap'}_${wd.generate()}`,this._pubsub=new xd({logger:e}),this._viewabilityObserver=new Id({threshold:.5}),this._isInView=!1,this._isAdPlaying=!1,this._isViewabilityCalled=!1,this._viewabilityTimeoutId=null}async init({parentId:e,channelId:t,reportHost:n,customDimensions:a,abtest:i,maxAds:o,errorLimit:r,vastRetry:s,maxWaterfallRun:l,skipButton:d,skipOffset:p,skipButtonText:u,adsInterval:_,timeToFirstAd:g,autoPlay:y,enableDebug:m}){this._avConfig=od.createConfiguration({publisherId:od.getAniviewPublisherId(),channelId:t,containerId:this._containerId,customDimensions:a,abtest:i,vastRetry:s,errorLimit:r,maxWaterfallRun:l,maxImp:o,skip:d,skipTimer:p,skipText:u,adsInterval:_,timeToFirstAd:g,autoPlay:y,enableDebug:m}),this._avPlayer=await yd.createInstance(e,this._containerId,this._avConfig),this._eventDispatcher=new c({host:n}),this._listen(),this._loadedAds=[]}get container(){return Td.document().getElementById(this._containerId)}enableOpenCloseAnimation(){this._avPlayer.startTemplate(Td.document().getElementById(this._containerId))}isPublisherOwnerType(e){const t=e&&e.tagInfo&&e.tagInfo.papi?e.tagInfo.papi.ot:null;return t===2}sendPlayerLoadEvent(){const{channelId:e,ref1:t}=this._avConfig;this._eventDispatcher.sendPlayerLoadEvent({channelId:e,ref1:t})}sendPublisherDemandSessionEvent(){const{channelId:e,ref1:t}=this._avConfig;this._eventDispatcher.sendPublisherDemandSessionEvent({channelId:e,ref1:t})}sendViewablePlayerLoadEvent(){const{channelId:e,ref1:t}=this._avConfig;this._eventDispatcher.sendViewablePlayerLoadEvent({channelId:e,ref1:t})}sendCTAClickedEvent(){const{channelId:e,ref1:t}=this._avConfig;this._eventDispatcher.sendCTAClickedEvent({channelId:e,ref1:t})}sendHeartBeatEvent(){const{channelId:e,ref1:t}=this._avConfig;this._eventDispatcher.sendHeartBeatEvent({channelId:e,ref1:t})}canPlay(){return!Cd.empty(this._loadedAds)||this._hasLoadedVideoElements()}play(){this._avPlayer.playCalled?this._avPlayer.resume():this._avPlayer.play()}pause(){this._avPlayer.pause()}skip(){this._avPlayer.skip()}close(){this._avPlayer.close()}resize(e,t){this._avPlayer.resize(e,t)}get volume(){return this._avPlayer.getAdVolume()}mute(){this._avPlayer.mute()}unmute(){this._avPlayer.unmute()}startAd(){this._avPlayer.startAd()}startWaterfall(){this._avPlayer.setWaterfallState(!0,!0)}pauseWaterfall(){this._avPlayer.setWaterfallState(!1,!0)}onAdViewability(e){this._pubsub.subscribe(Od,e)}onAdLoaded(e){this._addListener(md.ADS.LOADED,e)}onAdImpression(e){this._addListener(md.ADS.IMPRESSION,e)}onAdStart(e){this._addListener(md.ADS.START,e)}onAdComplete(e){this._addListener(md.ADS.COMPLETE,e)}onAdPlaying(e){this._addListener(md.ADS.PLAYING,e)}onAdPaused(e){this._addListener(md.ADS.PAUSED,e)}onAdClosed(e){this._addListener(md.ADS.CLOSED,e)}onAdSkipped(e){this._addListener(md.ADS.SKIPPED,e)}onAdVolumeChange(e){this._addListener(md.ADS.VOLUME_CHANGE,e)}onAdFirstQuartile(e){this._addListener(md.ADS.FIST_QUARTILE,e)}onAdMidPoint(e){this._addListener(md.ADS.MID_POINT,e)}onAdThirdQuartile(e){this._addListener(md.ADS.THIRD_QUARTILE,e)}onAdError(e){this._addListener(md.ADS.AD_ERROR,e)}_listen(){this._addListener(md.ADS.AD_EVENT,this._onAdEvent.bind(this)),this.onAdLoaded(()=>{this._isFirstAdLoaded=!0}),this.onAdImpression(this._onAdImpression.bind(this)),this.onAdComplete(()=>this._isAdPlaying=!1),this._viewabilityObserver.observe(this.container,this._onInView.bind(this),this._onOutOfView.bind(this))}_onAdEvent(e,t){e===md.ADS.LOADED?this._loadedAds.push(t):e===md.ADS.STOP||e===md.ADS.ERROR?this._loadedAds=[...this._loadedAds.filter((e)=>e!==t)]:e===md.ADS.REQUEST&&this._pubsub.publish(Dd)}onAdRequest(e){this._pubsub.subscribe(Dd,e)}_hasLoadedVideoElements(){const e=Td.document().getElementById('videoslot');return e&&0<e.children.length&&Array.from(e.children).some((e)=>!!e.getElementsByTagName('video')[0].src)}_onAdImpression(){this._isAdPlaying=!0,this._callbackViewabilityEvent()}_onInView(){this._isInView=!0,this._callbackViewabilityEvent()}_callbackViewabilityEvent(){!this._isViewabilityCalled&&Cd.nullOrUndefined(this._viewabilityTimeoutId)&&(this._viewabilityTimeoutId=setTimeout(()=>{this._isInView&&this._isAdPlaying?(this._isViewabilityCalled=!0,this._viewabilityObserver.disconnect(),this._pubsub.publish(Od)):this._viewabilityTimeoutId=null},2e3))}_onOutOfView(){this._isInView=!1}_addListener(e,t){if(Cd.function(t))try{this._avPlayer.on(e,t)}catch(t){}}}const Ld={[Ml.MOCK]:Ll,[Ml.ANIVIEW]:Md};var Nd={createAdPlayer:(e,t={})=>new Ld[e](t)},Rd=nt.environment,Bd=nt.urls,Ud=nt.is,Vd=function(){return!!((Rd.window().com||{}).aniview||{}).player},zd=function(){var e=0<arguments.length&&arguments[0]!==void 0?arguments[0]:'';return new Promise(function(t){if(Ud.empty(e)||Vd())t();else{var n=Rd.useCDNinsteadOfS3(e);Rd.addPreconnectLink(Bd.origin(n)),Rd.downloadScript(n).then(function(){t()})}})},Gd={PUBLISHER_ID:'56ea678d181f46c76f8b45fb',DEFAULTS:{adConfig:{antihjck:!0,autoPlay:!0,soundButton:!0,pauseButton:!0,closebutton:!1,HD:!0,mode:0,lastFrame:!1,logo:!1,imaflags:!1,noifsnd:!0},showBigPlay:!0,showBigPlayOnPause:!0,showBigPrevNextOnPause:!0,soundButtonPosition:'right',showPauseButton:!0,showPrevButton:!1,showNextButton:!1,showBigPrevNext:!0,showSoundButton:!0,showVolumeControl:!0,volumeControlVertical:!0,showErrorScreen:!0,durationPosition:'right',playlistAutoSkipOnError:!0,noAdsOnContentPause:!0,showUiOnPause:!1,viewPercentageRequired:1,showDuration:!0,hideGuiOnMouseout:!0,hideGuiTimeout:1,timelineMode:'default',spinner:'default',theme:'solid',themeColor:'#ff0000',playOnView:!1,gui:{usePoster:!0},syncVolume:!0,showReplay:!0,mobile:{showBigPlay:!0,showBigPlayOnPause:!0,showBigPrevNext:!0,showUiOnPause:!1,showPauseButton:!0,showPrevButton:!1,showNextButton:!1,hideGuiTimeout:2},replayText:'Replay',content:{}}},Hd={utm_medium:{name:'AV_UTM_MEDIUM'},utm_campaign:{name:'AV_UTM_CAMPAIGN'},utm_content:{name:'AV_UTM_CONTENT'},utm_source:{name:'AV_UTM_SOURCE'},utm_term:{name:'AV_UTM_TERM'},abtest_weight:{name:'AV_ABTEST_TEMPLATE_WIGHT',synonym:'AV_CDIM6'},abtest_name:{name:'AV_ABTEST_TEMPLATE_NAME',synonym:'AV_CDIM7'},page_load_uid:{name:'AV_PAGE_LOAD_UID',synonym:'AV_CDIM4'},subId:{name:'AV_SUBID',synonym:'sn'},country:{name:'cou'}},Yd={COUNTRY:'country',SUBID:'subId',PAGE_LOAD_UID:'page_load_uid',ABTEST_WEIGHT:'abtest_weight',ABTEST_NAME:'abtest_name'},Fd=nt.guid,Wd=nt.urls,jd=nt.is,Zd=function(e){var t=e.publisherId,n=e.channelId,a=e.ref1,i=e.baseJsUrlwl;return{publisherId:t,channelId:n,ref1:a,baseJsUrlwl:i}},Kd=function(e,t){var n=e.publisherId,a=e.channelId,i=e.ref1,o=e.baseJsUrlwl,r=o?'servt.playbuzz.co':'atrack.avplayer.com',s='&AV_PUBLISHERID='.concat(n),l='&e='.concat(t),d='&cb='.concat(Date.now()),p='&cid='.concat(a);return'https://'.concat(r,'/track?pid=').concat(n).concat(s).concat(l).concat(d).concat(p,'&').concat(i)},qd=function(e,t){var n={};return jd.empty(e)||jd.empty(t)||(n[Hd[e].name]=t,Hd[e].synonym&&(n[Hd[e].synonym]=t)),n},Qd=function(e,t){var n={},a=t.map(function(e){return e.name});return e.filter(function(e){return a.includes(e.name)}).forEach(function(e){return Object.assign(n,qd(e.name,e.value))}),n},Jd=function(e){var t=e.dimensions,n=e.abtestParams,a=e.queryParamsConfig,i=t.urlParams,o=t.subId,r=void 0===o?{}:o,s=t.country,l=t.pageLoadUid,d=Qd(i,a);return Object.assign(d,qd(Yd.COUNTRY,s),qd(Yd.SUBID,r.value),qd(Yd.PAGE_LOAD_UID,l),qd(Yd.ABTEST_WEIGHT,n.weight),qd(Yd.ABTEST_NAME,n.name)),Wd.objectToQueries(d)},Xd=function(){function e(t){ct()(this,e),this.config=t,this._configurationService=ks}return _t()(e,[{key:'getConfigurations',value:function(e){var t=this._getPlayerData(e);return this._getPlayerConfig(t)}},{key:'_getPlayerData',value:function(e){var t=this._updateConfigs(Gd.DEFAULTS,e),n=this._enrichConfigs(t);return n.plugins=this._getPluginConfig(),n}},{key:'_updateConfigs',value:function(e,t){var n=this._getSkip({enable:this.config.skipButton,text:this._configurationService.skipText,timer:this._configurationService.skipOffset}),a=this._configurationService.dimensions.width,i=this._configurationService.dimensions.height,o=this._getLogLevel(this._configurationService.debugMode),r=this.config.containerId,s=this._configurationService.showFullScreenIcon,l=this._configurationService.loop;return e.content.order=this._getOrder(),e.content.randomFrom=this._configurationService.randomFrom,e.content.slotTimeout=this._configurationService.slotTimeout,e.content.breakingAds=this._configurationService.timeBetweenErrorLimits,e.content.breakingAdsMode=this._getBreakingAdsMode(),e.content.adsDelay=9e9,e.content.hlsConfig=this._getHLSConfig(),e.content.contents=t,e.adConfig.imalang=this._configurationService.language,e.adConfig.publisherId=Gd.PUBLISHER_ID,e.adConfig.channelId=this._configurationService.avChannelId,e.adConfig.ref1=Jd({dimensions:this.config.dimensions,abtestParams:co,queryParamsConfig:this.config.reporting.queryParams}),e.adConfig.logLevel=o,e.adConfig.skip=n.enable,e.adConfig.skipTimer=n.timer,e.adConfig.skipText=n.text,e.adConfig.noMuteOnBlur=this._configurationService.noMuteOnBlur,e.adConfig.errorlimit=this._configurationService.errorLimit,e.adConfig.vastRetry=this._configurationService.vastRetry,e.adConfig.loop=l,e.adConfig.position=r,e.adConfig.height=i,e.adConfig.width=a,e.logo=this._getLogos(),e.logLevel=o,e.position=r,e.width=a,e.height=i,e.showTimelineReplay=this._getTimelineReplay(this._configurationService.showTimelineReplay),e.showFullScreen=s,e.hideLogoOnMouseout=this._getLogoShowOnHover(this._configurationService.logoShowOnHover),e.startVolume=this._getStartVolume(),e.autoPlay=this._configurationService.isAutoPlay(),e.autoLoop=l,e.autoContinue=this._configurationService.autoContinue,e.mobile.showFullScreen=s,e}},{key:'_enrichConfigs',value:function(e){var t=this._configurationService.startmidroll,n=this._configurationService.midrolldelay,a=this._configurationService.isPlayerCap(),i=this._configurationService.isMonetizedPlayer(),o=this._getHeightRatio();return this._isMaxRun(this.config.maxRun)&&(e.adConfig.maxrun=this._configurationService.maxRun),ks.isWhitelable()&&(e.adConfig.baseJsUrlwl='https://player.playbuzz.co/script/6.1/',e.adConfig.adServerDomain='pbsrv.playbuzz.co',e.adConfig.trackDomain='servt.playbuzz.co'),t&&(e.adConfig.startmidroll=this._configurationService.startmidroll),n&&(e.adConfig.midrolldelay=n),this._setBlockedAutoplayBehavior(e),a&&(e.adConfig.maximp=this.config.maxAds,e.content.breakingAdsMode='os'),i||(e.content.breakingAds=null,e.content.breakingAdsMode='default'),o&&(e.heightRatio=o),e}},{key:'_getPluginConfig',value:function(){var e=[];return this._shouldAddPlaylist()&&e.push(this._getPlaylistPluginConfig()),e}},{key:'_shouldAddPlaylist',value:function(){return ks.videoGallery.enabled.onDevice}},{key:'_getPlaylistPluginConfig',value:function(){return{name:'Playlist',config:{src:ks.videoGallery.pluginURL,settings:this._getPlaylistSettings()}}}},{key:'_getPlaylistSettings',value:function(){return{minWidthWindow:300,upNextText:'Up next',moreVideosText:'More videos',showEntryTitles:!0,infinite:!1}}},{key:'_setBlockedAutoplayBehavior',value:function(e){var t=this._configurationService.blockedAutoplayAction;if(t)switch(e.detectAutoPlay=!0,t){case'image-video':e.detectAutoPlayAction='images';break;case'click-to-play':e.detectAutoPlayAction='ctp';break;default:e.detectAutoPlayAction='ctp';}}},{key:'_getSkip',value:function(e){return{timer:0===e.timer?1:e.timer,enable:e.enable,text:e.text}}},{key:'_getLogLevel',value:function(e){return e?10:0}},{key:'_getTimelineReplay',value:function(e){return void 0===e||e}},{key:'_getLogoShowOnHover',value:function(e){return void 0!==e&&e}},{key:'_getLogos',value:function(){var e=this._configurationService.showPlaybuzzLogo,t=this._configurationService.logoPosition,n=this._configurationService.logoClickThrough,a=[this._configurationService.logoWidth,this._configurationService.logoHeight],i=this._configurationService.logoRedirect,o=!1,r={url:this._configurationService.logoUrl,text:o,size:a,position:t,clickThrough:n,redirect:i};if(!e)return r;var s={url:Cs,text:o,size:a,position:'left'===this.config.logoPosition?'right':'left',clickThrough:n,redirect:i};return[r,s]}},{key:'_getStartVolume',value:function(){return this._configurationService.mute?0:1}},{key:'_getOrder',value:function(){return this._configurationService.random?1:0}},{key:'_getBreakingAdsMode',value:function(){var e=this._configurationService.breakingAdsMode;return e&&this._configurationService.isBreakingAds()?e:'op'}},{key:'_getHLSConfig',value:function(){var e=vo.isMobile()?Ps.MOBILE_AUTO_CAPPING:Ps.DESKTOP_AUTO_CAPPING;return{autoLevelCapping:e}}},{key:'_isMaxRun',value:function(e){return void 0!==e}},{key:'_getHeightRatio',value:function(){var e=this._configurationService.heightRatio;return void 0!==e&&e}},{key:'_getPlayerConfig',value:function(e){var t={data:e,appConfig:this.appConfig,targetEl:this.config.el,channelId:e.adConfig.channelId,divId:e.position,divParentId:this.config.parentId,playerDetails:this.config};return t}}]),e}(),$d='external-video',ep=nt.objects,tp=function(){var e=0<arguments.length&&arguments[0]!==void 0?arguments[0]:{};return e.context||[]},np=function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:[],n=ep.clone(e),a=t.toString();return a&&a.length&&(n.cparam1=a),n},ap=function(){var e=0<arguments.length&&arguments[0]!==void 0?arguments[0]:{};return e.itemTags||[]},ip=function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:[],n=ep.clone(e);return n.keywords=t.slice(0,10),n},op=function(e){var t=e.type,n=e.video,a=e.fallbackSource;return t===$d?a:n.mp4&&n.mp4.src||''},rp=function(e){var t=e.type,n=e.video,a=e.source,i=e.fallbackSource;return t===$d?a:n.m3u8&&n.m3u8.src||op({type:t,video:n,fallbackSource:i})},sp=function(e){var t=e.type,n=e.poster,a=e.video;return t===$d?n:a.jpg&&a.jpg.src||''},lp=function(e){var t=ep.clone(e);return t.entry={thumbnailUrl:e.poster,name:e.title,userExpand:{fullName:null},duration:null},t},dp=function(e,t){return t.video&&t.video.videoDuration&&(e.videoDuration=t.video.videoDuration),e},pp=function(e,t){return t.mimeType&&(e.mimetype=t.mimeType),e},cp=function(e,t){var n=rp(e),a=op(e),i={id:e.id,itemTags:e.itemTags,url:n,fallbackUrl:a,type:'video',title:e.title};return i.poster=t.shouldPassPoster?sp(e):'',i=lp(i),i=np(i,tp(e)),i=ip(i,ap(e)),i=dp(i,e),i=pp(i,e),i},up={isExternalContents:function(e){return!(e[0]||{}).video},createContents:function(e,t){return e.map(function(e){return cp(e,t)})}},_p={CONTENT:{START:'ContentVideoStart',COMPLETE:'ContentVideoComplete',PLAYING:'ContentPlaying',PAUSED:'ContentPaused',PLAY_CLICKED:'ContentPlayClicked',PAUSE_CLICKED:'ContentPauseClicked',NEXT_CLICKED:'ContentNextClicked',PREV_CLICKED:'ContentPrevClicked',FIRST_QUARTILE:'ContentVideoFirstQuartile',MID_POINT:'ContentVideoMidpoint',THIRD_QUARTILE:'ContentVideoThirdQuartile',ERROR:'ContentError',VOLUME_CHANGE:'ContentVolumeChange'},ADS:{IMPRESSION:'AdImpression',START:'AdVideoStart',COMPLETE:'AdVideoComplete',PLAYING:'AdPlaying',PAUSED:'AdPaused',CLOSED:'AdClosed',SKIPPED:'AdSkipped',VOLUME_CHANGE:'AdVolumeChange',FIST_QUARTILE:'AdVideoFirstQuartile',MID_POINT:'AdVideoMidpoint',THIRD_QUARTILE:'AdVideoThirdQuartile',ERROR:'AdError'},INVENTORY_REQUEST:'InventoryRequest',INVOKED_EVENTS:{VIEWABLE_PLAYER_LOAD:'AV_M20',PLAYER_LOAD:'playerLoaded',CTA:'AV_M19',HEART_BEAT:'AV_M18',PUBLISHER_DEMAND_SESSION:'AV_M17'}},gp=nt.elements,yp=function(){function e(t){ct()(this,e),this.config=t,this.playerUrl=t.playerDetails.nativePlayerVersion,this.config.adConfig=this.config.data.adConfig,this.MOBILE_DEVICE_CLASS='pb-device-mobile',this.DESKTOP_DEVICE_CLASS='pb-device-desktop',this.playerParentElm=null}return _t()(e,[{key:'init',value:function(){try{this.playerParentElm=document.getElementById(this.config.divParentId),this.adsSetupService=new Js(this.config.data,this.config.playerDetails);var e=this.config.data,t=this.config.adConfig;this.config.isExternalContents||(e.content.contents=this.adsSetupService.setupAds(e.content.contents,t)),this.handleOnPlayerLoad(e)}catch(e){Ao.error('aniview - error while creating new player provider instance',e)}}},{key:'handleOnPlayerLoad',value:function(e){Ao.info('aniview - script loaded');var t=new window._avcp(e);this.nativePlayer=t;new al(this.config,t,this.playerParentElm,ks.playback);this.changeGui(t,{numOfVideos:e.content.contents.length}),t.nextContent()}},{key:'changeGui',value:function(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{},n=Object.assign({},this._getBigNextPrevButtonsConfigs(t.numOfVideos));e.changeGUI(n)}},{key:'_getBigNextPrevButtonsConfigs',value:function(e){var t=!(1>=e);return{showBigPrevNextOnPause:t,showBigPrevNext:t}}},{key:'getNativePlayer',value:function(){return this.nativePlayer}}]),e}(),mp=Fe.PLAYBACK,bp=nt.environment,vp=nt.elements,hp=nt.device,Ep=nt.guid,kp=nt.Pubsub,fp='content-play',Ap='content-pause',Sp='content-set-by-index',Pp='content-muted',Cp='content-un-muted',Tp=function(){function e(){ct()(this,e),this._config=null,this._containerId=null,this._aniviewConfig=null,this._aniviewContents=null,this._aniviewPlayer=null,this._oldImplPlayer=null,this._blockPlayEvent=!1,this._blockPauseEvent=!1,this._pubsub=new kp({})}return _t()(e,[{key:'init',value:function(){var e=this,t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};return this._config=t,new Promise(function(t){var n=e._config,a=n.prefetchPlayer,i=n.nativePlayerVersion;a?(e._onPlayerScriptOnPage(),t()):zd(i).then(function(){e._onPlayerScriptOnPage(),t()})})}},{key:'_onPlayerScriptOnPage',value:function(){this._createContainer();var e=El.get(),t=up.isExternalContents(e);this._aniviewContents=t?e:this._createContents(e),Ao.info('aniview player manager - player contents set',this._aniviewContents),this._aniviewConfig=this._createConfiguration(),this._aniviewConfig.isExternalContents=t,Ao.info('aniview player manager - player configs set',this._aniviewConfig),this._initPlayer(),this._listen()}},{key:'_listen',value:function(){var e=this;this._addSoundChangeListener(),this._addListener(_p.CONTENT.PLAYING,function(){e._blockPlayEvent||e._pubsub.publish(fp),e._blockPlayEvent=!1}),this._addListener(_p.CONTENT.PAUSED,function(){e._blockPauseEvent||e._pubsub.publish(Ap),e._blockPauseEvent=!1})}},{key:'_createContainer',value:function(){this._containerId=''.concat('exp','_').concat(Ep.generate());var e=bp.document(),t=e.getElementById(this._config.parentId),n=vp.insert(t,'div',{id:this._containerId});vp.addClass(n,'pb-stream');var a=hp.isMobileOrTablet()?'pb-device-mobile':'pb-device-desktop';vp.addClass(n,a),vp.setStyle(n,{position:'relative'})}},{key:'play',value:function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},t=e.triggerEvent;this._blockPlayEvent=!(void 0===t||t),this._aniviewPlayer.play()}},{key:'pause',value:function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},t=e.triggerEvent;this._blockPauseEvent=!(void 0===t||t),this._aniviewPlayer.pause()}},{key:'isPlayButtonPaused',value:function(){var e=this.container.querySelector('.avp-p-cn-bp'),t=e.getAttribute('data-avp-state');return'play'===t}},{key:'playUsingButton',value:function(){this.isPlayButtonPaused()&&this.togglePlayButton()}},{key:'pauseUsingButton',value:function(){this.isPlayButtonPaused()||this.togglePlayButton()}},{key:'togglePlayButton',value:function(){var e=this.container.querySelector('.avp-p-cn-bp');e.click()}},{key:'resume',value:function(){this._aniviewPlayer.resume()}},{key:'next',value:function(){this._aniviewPlayer.nextContent()}},{key:'prev',value:function(){this._aniviewPlayer.prevContent()}},{key:'close',value:function(){this._aniviewPlayer.close()}},{key:'mute',value:function(){this._aniviewPlayer.mute()}},{key:'unmute',value:function(){this._aniviewPlayer.unmute()}},{key:'getMuted',value:function(){return this._aniviewPlayer.getMuted()}},{key:'volume',value:function(){return this._aniviewPlayer.getVolume()}},{key:'setVolume',value:function(e){this._aniviewPlayer.setVolume(e)}},{key:'duration',value:function(){return this._aniviewPlayer.getAdDuration()}},{key:'setTime',value:function(e){this._aniviewPlayer.setContentCurrentTime(e)}},{key:'setContentByIndex',value:function(e){this._aniviewPlayer.setContentByIndex(e),this._pubsub.publish(Sp,e)}},{key:'onSetContentByIndex',value:function(e){this._pubsub.subscribe(Sp,e)}},{key:'toggleGUI',value:function(e){this._aniviewPlayer.toggleGUI(e)}},{key:'resize',value:function(){this._aniviewPlayer.resize()}},{key:'setMinimalGUI',value:function(){this._aniviewPlayer.changeGUI({showTimelineReplay:!0,showPrevButton:!1,showNextButton:!1,showFullScreen:!1,showBigPrevNext:!1,showBigPlayOnPause:!0,showBigPrevNextOnPause:!1,showVolumeControl:!0,showSoundButton:!0,mobileConfig:{showFullScreen:!1,showBigPrevNext:!1,showBigPlayOnPause:!0,showBigPrevNextOnPause:!1}})}},{key:'setFullGUI',value:function(){this._aniviewPlayer.changeGUI({showTimelineReplay:!0,showPrevButton:!1,showNextButton:!1,showFullScreen:ks.showFullScreenIcon,showBigPrevNext:!0,showBigPlayOnPause:!0,showBigPrevNextOnPause:!0,showSoundButton:!0,showVolumeControl:!0,timelineMode:'default',showDuration:!0,mobileConfig:{showFullScreen:!0,showBigPrevNext:!0,showBigPlayOnPause:!1,showBigPrevNextOnPause:!1}})}},{key:'hideGUI',value:function(){this._aniviewPlayer.changeGUI({showTimelineReplay:!1,showPrevButton:!1,showNextButton:!1,showFullScreen:!1,showBigPrevNext:!1,showBigPlayOnPause:!1,showBigPrevNextOnPause:!1,mobileConfig:{showFullScreen:!1,showBigPrevNext:!1,showBigPlayOnPause:!1,showBigPrevNextOnPause:!1}})}},{key:'playButtonGUIOnly',value:function(){this._aniviewPlayer.changeGUI({showTimelineReplay:!1,showPrevButton:!1,showNextButton:!1,showFullScreen:!1,showBigPrevNext:!1,showBigPlayOnPause:!0,showBigPrevNextOnPause:!1,showSoundButton:!1,showVolumeControl:!1,timelineMode:'none',showDuration:!1})}},{key:'showVideoGallery',value:function(){this._aniviewPlayer.showPlaylist()}},{key:'hideVideoGallery',value:function(){this._aniviewPlayer.hidePlaylist()}},{key:'onContentMuted',value:function(e){this._pubsub.subscribe(Pp,e)}},{key:'onContentUnMuted',value:function(e){this._pubsub.subscribe(Cp,e)}},{key:'onContentStart',value:function(e){this._addListener(_p.CONTENT.START,e)}},{key:'onContentEnded',value:function(e){this._addListener(_p.CONTENT.COMPLETE,e)}},{key:'onContentPlaying',value:function(e){this._pubsub.subscribe(fp,e)}},{key:'onContentPaused',value:function(e){this._pubsub.subscribe(Ap,e)}},{key:'onContentPlayClicked',value:function(e){this._addListener(_p.CONTENT.PLAY_CLICKED,e)}},{key:'onContentPauseClicked',value:function(e){this._addListener(_p.CONTENT.PAUSE_CLICKED,e)}},{key:'onNextClicked',value:function(e){this._addListener(_p.CONTENT.NEXT_CLICKED,e)}},{key:'onPrevClicked',value:function(e){this._addListener(_p.CONTENT.PREV_CLICKED,e)}},{key:'onContentFirstQuarter',value:function(e){this._addListener(_p.CONTENT.FIRST_QUARTILE,e)}},{key:'onContentMidPoint',value:function(e){this._addListener(_p.CONTENT.MID_POINT,e)}},{key:'onContentThirdQuarter',value:function(e){this._addListener(_p.CONTENT.THIRD_QUARTILE,e)}},{key:'onAdImpression',value:function(e){var t=this;this._addListener(_p.ADS.IMPRESSION,function(n){return t._arrangeDataForAdImpressionEvent(n,e)})}},{key:'onAdStart',value:function(e){this._addListener(_p.ADS.START,e)}},{key:'onAdCompleted',value:function(e){this._addListener(_p.ADS.COMPLETE,e)}},{key:'onAdPlaying',value:function(e){this._addListener(_p.ADS.PLAYING,e)}},{key:'onAdPaused',value:function(e){this._addListener(_p.ADS.PAUSED,e)}},{key:'onAdClosed',value:function(e){this._addListener(_p.ADS.CLOSED,e)}},{key:'onAdSkipped',value:function(e){this._addListener(_p.ADS.SKIPPED,e)}},{key:'onAdVolumeChange',value:function(e){this._addListener(_p.ADS.VOLUME_CHANGE,e)}},{key:'onAdFirstQuarter',value:function(e){this._addListener(_p.ADS.FIST_QUARTILE,e)}},{key:'onAdMidPoint',value:function(e){this._addListener(_p.ADS.MID_POINT,e)}},{key:'onAdThirdQuarter',value:function(e){this._addListener(_p.ADS.THIRD_QUARTILE,e)}},{key:'onAdError',value:function(e){this._addListener(_p.ADS.ERROR,e)}},{key:'onError',value:function(e){this.videoElement.addEventListener(kl.ERROR,e)}},{key:'onAbortedError',value:function(e){var t=this;this.onError(function(){t._isErrorCodeOfType(kl.ERROR_CODES.ABORTED)&&e({message:t.videoElement.error.message})})}},{key:'onNetworkError',value:function(e){var t=this;this.onError(function(){t._isErrorCodeOfType(kl.ERROR_CODES.NETWORK)&&e({message:t.videoElement.error.message})})}},{key:'onDecodeError',value:function(e){var t=this;this.onError(function(){t._isErrorCodeOfType(kl.ERROR_CODES.DECODE)&&e({message:t.videoElement.error.message})})}},{key:'onSourceNotSupportedError',value:function(e){var t=this;this.onError(function(){t._isErrorCodeOfType(kl.ERROR_CODES.SRC_NOT_SUPPORTED)&&e({message:t.videoElement.error.message})})}},{key:'_arrangeDataForAdImpressionEvent',value:function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},t=1<arguments.length?arguments[1]:void 0,n=this.volume(),a=this._extractTypeFromAdEvent(e),i=this._extractAdSourceIdFromAdEvent(e),o=this._extractCPMFromAdEvent(e),r=this._extractVideoUrlFromAdEvent(e),s=this.duration();t({payload:e,adSourceType:a,adVolume:n,adSourceId:i,cpm:o,videoUrl:r,adDuration:s})}},{key:'_isErrorCodeOfType',value:function(e){return this.videoElement.error&&this.videoElement.error.code===e.code}},{key:'_extractTypeFromAdEvent',value:function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};return e.data&&e.data.p1?e.data.p1.mt:void 0}},{key:'_extractAdSourceIdFromAdEvent',value:function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};return e.data&&e.data.p1?e.data.p1.asid:void 0}},{key:'_extractCPMFromAdEvent',value:function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},t=0,n=e.data&&e.data.p1&&e.data.p1.tagInfo;return n&&(t=n.bidCpm||n.floorCpm||0),t}},{key:'_extractVideoUrlFromAdEvent',value:function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};return e.data&&e.data.p1?e.data.p1.videoUrl:void 0}},{key:'_createConfiguration',value:function(){return this._config.containerId=this._containerId,new Xd(this._config).getConfigurations(this._aniviewContents)}},{key:'_createContents',value:function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:[],t=ks.playback===mp.MODE.CLICK_TO_PLAY,n=ks.videoGallery.enabled.onDevice||ks.videoGallery.enabled.onSticky;return up.createContents(e,{shouldPassPoster:t||n})}},{key:'_initPlayer',value:function(){this._oldImplPlayer=this._createPlayer(),this._oldImplPlayer.init(),this._aniviewPlayer=this._oldImplPlayer.getNativePlayer(),Ao.info('aniview player manager - created new player.')}},{key:'_createPlayer',value:function(){return new yp(this._aniviewConfig)}},{key:'_addListener',value:function(t,e){if(this._aniviewPlayer)try{this._aniviewPlayer.on(t,e)}catch(n){Ao.error('Could not add event-listener for event \''.concat(t,'\''),n)}else Ao.error('Could not add event-listener for event \''.concat(t,'\' since AV player is not initizlized.'))}},{key:'_addSoundChangeListener',value:function(){var e=this;this._addListener(_p.CONTENT.VOLUME_CHANGE,function(){e._aniviewPlayer.getMuted()?e._pubsub.publish(Pp):e._pubsub.publish(Cp)})}},{key:'onTimeUpdate',value:function(e){var t=this.videoElement;t.addEventListener('timeupdate',function(){var n=t.currentTime;e({currentTime:n})})}},{key:'viewablePlayerLoadEventUrl',get:function(){var e=Zd(this._aniviewConfig.adConfig);return Kd(e,_p.INVOKED_EVENTS.VIEWABLE_PLAYER_LOAD)}},{key:'publisherDemandSessionEventUrl',get:function(){var e=Zd(this._aniviewConfig.adConfig);return Kd(e,_p.INVOKED_EVENTS.PUBLISHER_DEMAND_SESSION)}},{key:'ctaEventUrl',get:function(){var e=Zd(this._aniviewConfig.adConfig);return Kd(e,_p.INVOKED_EVENTS.CTA)}},{key:'heartbeatEventUrl',get:function(){var e=Zd(this._aniviewConfig.adConfig);return Kd(e,_p.INVOKED_EVENTS.HEART_BEAT)}},{key:'container',get:function(){var e=bp.document();return e.getElementById(this._containerId)}},{key:'videoElement',get:function(){return this.container.querySelector('video')}},{key:'currentDuration',get:function(){var e=this.videoElement.duration;return e}}]),e}(),Ip={ANIVIEW:'aniview'},xp=so()({},Ip.ANIVIEW,Tp),wp=function(e){var t=1<arguments.length&&arguments[1]!==void 0?arguments[1]:{};return new xp[e](t)},Dp=n(7),Op=n.n(Dp),Mp=n(8),Lp=n.n(Mp),Np=n(6),Rp=n.n(Np),Bp=function(){function e(){ct()(this,e),this._adPlayer=null,this._contentPlayer=null}return _t()(e,[{key:'updateConfig',value:function(e){var t=e.adPlayerConfig;return t}},{key:'start',value:function(e){var t=e.adPlayer,n=e.contentPlayer;this._adPlayer=t,this._contentPlayer=n,this._adPlayer.play(),this._contentPlayer.play()}},{key:'onAdTerminated',value:function(){return null}},{key:'onAdLoaded',value:function(e){this._adPlayer.onAdLoaded(e)}},{key:'onAdImpression',value:function(e){this._adPlayer.onAdImpression(e)}},{key:'onAdStart',value:function(e){this._adPlayer.onAdStart(e)}},{key:'onAdComplete',value:function(e){this._adPlayer.onAdComplete(e)}},{key:'onAdPlaying',value:function(e){this._adPlayer.onAdPlaying(e)}},{key:'onAdRequest',value:function(e){this._adPlayer.onAdRequest(e)}},{key:'onAdPaused',value:function(e){this._adPlayer.onAdPaused(e)}},{key:'onAdClosed',value:function(e){this._adPlayer.onAdClosed(e)}},{key:'onAdSkipped',value:function(e){this._adPlayer.onAdSkipped(e)}},{key:'onAdVolumeChange',value:function(e){this._adPlayer.onAdVolumeChange(e)}},{key:'onAdFirstQuartile',value:function(e){this._adPlayer.onAdFirstQuartile(e)}},{key:'onAdMidPoint',value:function(e){this._adPlayer.onAdMidPoint(e)}},{key:'onAdThirdQuartile',value:function(e){this._adPlayer.onAdThirdQuartile(e)}},{key:'onAdError',value:function(e){this._adPlayer.onAdError(e)}},{key:'onAdViewability',value:function(e){this._adPlayer.onAdViewability(e)}}]),e}(),Up=function(e){function t(e){var a=e.configService,i;return ct()(this,t),i=n.call(this),i._configService=a,i._isInternalContentPause=!1,i}Op()(t,e);var n=g(t);return _t()(t,[{key:'updateConfig',value:function(e){var t=e.adPlayerConfig;return _(_({},t),{},{adsInterval:this._configService.startmidroll,timeToFirstAd:this._configService.midrolldelay})}},{key:'start',value:function(e){var t=this,n=e.adPlayer,a=e.contentPlayer;this._adPlayer=n,this._contentPlayer=a,this._contentPlayer.onContentPaused(function(){return t._pauseAds()}),this._contentPlayer.onContentPlaying(function(){return t._adPlayer.startWaterfall()}),this._adPlayer.onAdImpression(function(){return t._pauseContent()}),this._adPlayer.onAdClosed(this._onAdEnd.bind(this)),this._adPlayer.onAdSkipped(this._onAdEnd.bind(this)),this._adPlayer.onAdComplete(this._onAdEnd.bind(this)),this._adPlayer.play()}},{key:'_onAdEnd',value:function(){this._contentPlayer.play({triggerEvent:!1})}},{key:'_pauseContent',value:function(){this._isInternalContentPause=!0,this._contentPlayer.pause({triggerEvent:!1})}},{key:'_pauseAds',value:function(){this._isInternalContentPause||this._adPlayer.pauseWaterfall(),this._isInternalContentPause=!1}}]),t}(Bp),Vp=nt.Timer,zp=nt.time,Gp=nt.Pubsub,Hp={AD_IMPRESSION:'ad-impression',AD_START:'ad-start',AD_PAUSED:'ad-paused',AD_TERMINATED:'ad-terminated'},Yp=function(e){function t(){var e;return ct()(this,t),e=n.call(this),e._adPlayer=null,e._contentPlayer=null,e._timer=new Vp,e._pubsub=new Gp({logger:Ao}),e._initState(),e}Op()(t,e);var n=m(t);return _t()(t,[{key:'start',value:function(e){var t=e.adPlayer,n=e.contentPlayer;this._adPlayer=t,this._contentPlayer=n,this._initState(),this._adPlayer.play(),this._contentPlayer.onContentStart(this._onContentStart.bind(this)),this._contentPlayer.onTimeUpdate(this._onContentTimeUpdate.bind(this)),this._adPlayer.onAdImpression(this._onAdImpression.bind(this)),this._adPlayer.onAdPaused(this._onAdPaused.bind(this)),this._adPlayer.onAdClosed(this._onAdEnd.bind(this)),this._adPlayer.onAdSkipped(this._onAdEnd.bind(this)),this._adPlayer.onAdComplete(this._onAdEnd.bind(this))}},{key:'onAdTerminated',value:function(e){this._pubsub.subscribe(Hp.AD_TERMINATED,e)}},{key:'onAdImpression',value:function(e){this._pubsub.subscribe(Hp.AD_IMPRESSION,e)}},{key:'onAdStart',value:function(e){this._pubsub.subscribe(Hp.AD_START,e)}},{key:'onAdPaused',value:function(e){this._pubsub.subscribe(Hp.AD_PAUSED,e)}},{key:'_initState',value:function(){this._isAdWaiting=!1,this._isInPrerollTimeoutWindow=!0,this._isAdPlaying=!1,this._isWFPaused=!1}},{key:'_onContentStart',value:function(){this._startAdPlayableTimer(),(this._isAdWaiting||this._adPlayer.canPlay())&&this._playAd()}},{key:'_startAdPlayableTimer',value:function(){var e=this;this._isInPrerollTimeoutWindow=!0,this._timer.timeout(function(){e._isInPrerollTimeoutWindow=!1,e._isAdPlaying||e._onAdEnd()},zp.secondsToMs(.1))}},{key:'_playAd',value:function(){this._startWF(),this._adPlayer.play(),this._isAdWaiting&&(this._contentPlayer.pause({triggerEvent:!1}),this._publishAdImpression())}},{key:'_startWF',value:function(){this._isWFPaused&&(this._isWFPaused=!1,this._adPlayer.startWaterfall())}},{key:'_publishAdImpression',value:function(){this._pubsub.publish(Hp.AD_IMPRESSION,this._adImpressionPayload||{}),this._pubsub.publish(Hp.AD_START)}},{key:'_onContentTimeUpdate',value:function(e){var t=e.currentTime;this._isInActiveWFWindow(t)&&this._startWF()}},{key:'_isInActiveWFWindow',value:function(e){return this._contentPlayer.currentDuration-e<=5}},{key:'_onAdImpression',value:function(e){this._adImpressionPayload=e,this._isAdPlaying=!0,this._isInPrerollTimeoutWindow?(this._contentPlayer.pause({triggerEvent:!1}),this._publishAdImpression()):(this._isAdWaiting=!0,this._pauseAd())}},{key:'_pauseAd',value:function(){this._isInternalAdPause=!0,this._adPlayer.pause()}},{key:'_onAdPaused',value:function(){!this._isInternalAdPause&&this._isAdPlaying&&this._pubsub.publish(Hp.AD_PAUSED),this._isInternalAdPause=!1}},{key:'_onAdEnd',value:function(){this._isAdPlaying=!1,this._pauseWF(),this._contentPlayer.play({triggerEvent:!1})}},{key:'_pauseWF',value:function(){this._isWFPaused||(this._isWFPaused=!0,this._adPlayer.pauseWaterfall(),this._pubsub.publish(Hp.AD_TERMINATED))}}]),t}(Bp),Fp=nt.Pubsub,Wp=nt.Timer,jp=nt.time,Zp={AD:{LOADED:'ad-loaded',IMPRESSION:'ad-impression',START:'ad-start',PAUSED:'ad-paused'},CONTENT:{PAUSED:'content-paused'}},Kp=function(e){function t(e){var a=e.configService,i;return ct()(this,t),i=n.call(this,{configService:a}),i._configService=a,i._pubsub=new Fp({logger:Ao}),i._timer=new Wp,i._adImpressionPayload=null,i._isInternalContentPause=!1,i._isInternalAdPause=!1,i}Op()(t,e);var n=E(t);return _t()(t,[{key:'updateConfig',value:function(e){var t=e.adPlayerConfig;return h(h({},t),{},{adsInterval:this._configService.startmidroll,timeToFirstAd:this._configService.midrolldelay})}},{key:'start',value:function(e){var t=e.adPlayer,n=e.contentPlayer;this._adPlayer=t,this._contentPlayer=n,this._contentPlayer.onContentPaused(this._onContentPaused.bind(this)),this._adPlayer.onAdImpression(this._onAdImpression.bind(this)),this._adPlayer.onAdPaused(this._onAdPaused.bind(this)),this._adPlayer.onAdComplete(this._onAdEnd.bind(this)),this._adPlayer.onAdSkipped(this._onAdEnd.bind(this)),this._adPlayer.onAdClosed(this._onAdEnd.bind(this)),this._adPlayer.play()}},{key:'onAdLoaded',value:function(e){this._pubsub.subscribe(Zp.AD.LOADED,e)}},{key:'_onContentPaused',value:function(){this._pauseAds()}},{key:'onAdImpression',value:function(e){this._pubsub.subscribe(Zp.AD.IMPRESSION,e)}},{key:'onAdStart',value:function(e){this._pubsub.subscribe(Zp.AD.START,e)}},{key:'onAdPaused',value:function(e){this._pubsub.subscribe(Zp.AD.PAUSED,e)}},{key:'onContentPaused',value:function(e){this._pubsub.subscribe(Zp.CONTENT.PAUSED,e)}},{key:'_onAdImpression',value:function(e){this._pauseAd(),this._adImpressionPayload=e,this._pubsub.publish(Zp.AD.LOADED),this._timer.timeout(this._playAd.bind(this),jp.secondsToMs(3))}},{key:'_pauseAd',value:function(){this._isInternalAdPause=!0,this._adPlayer.pause()}},{key:'_playAd',value:function(){this._contentPlayer.pause({triggerEvent:!1}),this._adPlayer.play(),this._pubsub.publish(Zp.AD.IMPRESSION,this._adImpressionPayload||{}),this._pubsub.publish(Zp.AD.START)}},{key:'_onAdEnd',value:function(){this._contentPlayer.next()}},{key:'_pauseAds',value:function(){this._isInternalContentPause||this._adPlayer.pauseWaterfall()}},{key:'_onAdPaused',value:function(){this._isInternalAdPause||this._pubsub.publish(Zp.AD.PAUSED)}}]),t}(Bp),qp=(yu={},so()(yu,Jo.BREAKING_ADS,Up),so()(yu,Jo.PREROLL,Yp),so()(yu,Jo.BREAKING_ADS_NEXT_CONTENT,Kp),yu),Qp=function(e){var t=1<arguments.length&&arguments[1]!==void 0?arguments[1]:{};return new qp[e](t)},Jp=256,Xp={MINIMUM_WIDTH_SIZE:Jp,MINIMUM_STICKY_WIDTH_SIZE_URL_PARAM:'constStickySize',MINIMUM_WIDTH_SIZE_URL_PARAM:'constSize',BREAKPOINTS:[{className:'tiny',maxWidth:Jp-1},{className:'small-tiny',maxWidth:295},{className:'small',maxWidth:400},{className:'medium',maxWidth:600},{className:'medium-large',maxWidth:800},{className:'large',maxWidth:1400},{className:'huge',maxWidth:Infinity}]},$p=nt.elements,ec=nt.environment,tc=function(){var e;return{set:function(t){e=t||e},get:function(){return ec.document().querySelector('#'.concat(e))}}}(),nc=function(){return $p.dimensions(tc.get())},ac=function(){return('true'===ec.param(Xp.MINIMUM_STICKY_WIDTH_SIZE_URL_PARAM)||'true'===ec.param(Xp.MINIMUM_WIDTH_SIZE_URL_PARAM))&&vo.isMobile()},ic=function(e){return e},oc=function(e){return rc({width:e})},rc=function(e){for(var t=e.width,n=e.levelChange,a=Xp.BREAKPOINTS,o=a[0].className,r=1;r<a.length;r++){var i=a[r],s=a[r-1];if(s.maxWidth<t&&t<=i.maxWidth){var l=n&&r>=n&&r+n<a.length;o=l?a[r+n].className:i.className;break}}return o},sc=function(){var e=nc(),t=e.width;return oc(t)},lc={forceWidth:function(e){var t=e.enabled,n=e.currentWidth,a=void 0===n?0:n,i=!1;return(ac()||ic(void 0!==t&&t))&&(i=a<Xp.MINIMUM_WIDTH_SIZE),i},MINIMUM_WIDTH_SIZE:Xp.MINIMUM_WIDTH_SIZE,getBreakpoint:oc,getDecreasedBreakpoint:function(e){return rc({width:e,levelChange:-1})},DISPLAY_AD_MINIMUM_WIDTH_SIZE:Xp.DISPLAY_AD_MINIMUM_WIDTH_SIZE,isBreakpointAboveSize:function(){var e=0<arguments.length&&arguments[0]!==void 0?arguments[0]:0,t=1<arguments.length&&arguments[1]!==void 0?arguments[1]:null,n=t||sc(),a=Xp.BREAKPOINTS.filter(function(e){return e.className===n}).map(function(e){return e.maxWidth}).pop();return!a||a>=e},setPlayerElement:function(e){return tc.set(e)},getPlayerDimensions:nc,getCurrentBreakpoint:sc,getBreakpointMaxWidth:function(e){var t=Xp.BREAKPOINTS.find(function(t){return t.className===e}),n=t.maxWidth;return n}},dc=nt.environment,pc=nt.elements,cc=nt.elementsRatio,uc=nt.ResizeObserver,_c=nt.Pubsub,gc='player-resize',yc=function(){function e(t){var n=t.containerId,a=t.adPlayer,i=t.contentPlayer,o=t.adManager;ct()(this,e),this._containerId=n,this._adPlayer=a,this._contentPlayer=i,this._adManager=o,this._pubsub=new _c,this._initResizeObserver(),this._isMuted=!0}return _t()(e,[{key:'start',value:function(){this._adManager.start({adPlayer:this._adPlayer,contentPlayer:this._contentPlayer}),this._initPlayersVolumeSync()}},{key:'play',value:function(){this._contentPlayer.play()}},{key:'isPlayButtonPaused',value:function(){return this._contentPlayer.isPlayButtonPaused()}},{key:'playUsingButton',value:function(){this._contentPlayer.playUsingButton()}},{key:'pauseUsingButton',value:function(){this._contentPlayer.pauseUsingButton()}},{key:'togglePlayButton',value:function(){this._contentPlayer.togglePlayButton()}},{key:'pause',value:function(){this._contentPlayer.pause()}},{key:'resume',value:function(){this._contentPlayer.resume()}},{key:'next',value:function(){this._contentPlayer.next()}},{key:'prev',value:function(){this._contentPlayer.prev()}},{key:'close',value:function(){this._contentPlayer.close(),this._adPlayer.close()}},{key:'mute',value:function(){this._contentPlayer.mute()}},{key:'unmute',value:function(){this._contentPlayer.unmute()}},{key:'volume',value:function(){return this._contentPlayer.volume()}},{key:'setVolume',value:function(e){this._contentPlayer.setVolume(e)}},{key:'duration',value:function(){return this._contentPlayer.duration()}},{key:'setTime',value:function(e){this._contentPlayer.setTime(e)}},{key:'setContentByIndex',value:function(e){this._contentPlayer.setContentByIndex(e)}},{key:'onSetContentByIndex',value:function(e){this._contentPlayer.onSetContentByIndex(e)}},{key:'toggleGUI',value:function(e){this._contentPlayer.toggleGUI(e)}},{key:'resize',value:function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:null,t=e||lc.getPlayerDimensions(),n=cc.calculateHeightUponRatio(t,16/9);this._contentPlayer.resize(),this._adPlayer.resize(t,n),this._pubsub.publish(gc,{width:t,height:n})}},{key:'onResize',value:function(e){this._pubsub.subscribe(gc,e)}},{key:'setMinimalGUI',value:function(){this._contentPlayer.setMinimalGUI()}},{key:'setFullGUI',value:function(){this._contentPlayer.setFullGUI()}},{key:'hideGUI',value:function(){this._contentPlayer.hideGUI()}},{key:'playButtonGUIOnly',value:function(){this._contentPlayer.playButtonGUIOnly()}},{key:'isPublisherOwnerType',value:function(e){return this._adPlayer.isPublisherOwnerType(e)}},{key:'sendPublisherDemandSessionEvent',value:function(){this._adPlayer.sendPublisherDemandSessionEvent()}},{key:'sendPlayerLoadEvent',value:function(){this._adPlayer.sendPlayerLoadEvent()}},{key:'sendViewablePlayerLoadEvent',value:function(){this._adPlayer.sendViewablePlayerLoadEvent()}},{key:'sendCTAClickedEvent',value:function(){this._adPlayer.sendCTAClickedEvent()}},{key:'sendHeartBeatEvent',value:function(){this._adPlayer.sendHeartBeatEvent()}},{key:'onAdTerminated',value:function(e){this._adManager.onAdTerminated(e)}},{key:'onAdImpression',value:function(e){this._adManager.onAdImpression(e)}},{key:'onAdStart',value:function(e){this._adManager.onAdStart(e)}},{key:'onAdCompleted',value:function(e){this._adManager.onAdComplete(e)}},{key:'onAdPlaying',value:function(e){this._adManager.onAdPlaying(e)}},{key:'onAdRequest',value:function(e){this._adManager.onAdRequest(e)}},{key:'onAdPaused',value:function(e){this._adManager.onAdPaused(e)}},{key:'onAdClosed',value:function(e){this._adManager.onAdClosed(e)}},{key:'onAdSkipped',value:function(e){this._adManager.onAdSkipped(e)}},{key:'onAdVolumeChange',value:function(e){this._adManager.onAdVolumeChange(e)}},{key:'onAdFirstQuarter',value:function(e){this._adManager.onAdFirstQuartile(e)}},{key:'onAdMidPoint',value:function(e){this._adManager.onAdMidPoint(e)}},{key:'onAdThirdQuarter',value:function(e){this._adManager.onAdThirdQuartile(e)}},{key:'onAdError',value:function(e){this._adManager.onAdError(e)}},{key:'onContentMuted',value:function(e){this._contentPlayer.onContentMuted(e)}},{key:'onContentUnMuted',value:function(e){this._contentPlayer.onContentUnMuted(e)}},{key:'onContentStart',value:function(e){this._contentPlayer.onContentStart(e)}},{key:'onContentEnded',value:function(e){this._contentPlayer.onContentEnded(e)}},{key:'onContentPlaying',value:function(e){this._contentPlayer.onContentPlaying(e)}},{key:'onContentPaused',value:function(e){this._contentPlayer.onContentPaused(e)}},{key:'onContentPlayClicked',value:function(e){this._contentPlayer.onContentPlayClicked(e)}},{key:'onContentPauseClicked',value:function(e){this._contentPlayer.onContentPauseClicked(e)}},{key:'onNextClicked',value:function(e){this._contentPlayer.onNextClicked(e)}},{key:'onPrevClicked',value:function(e){this._contentPlayer.onPrevClicked(e)}},{key:'onContentFirstQuarter',value:function(e){this._contentPlayer.onContentFirstQuarter(e)}},{key:'onContentMidPoint',value:function(e){this._contentPlayer.onContentMidPoint(e)}},{key:'onContentThirdQuarter',value:function(e){this._contentPlayer.onContentThirdQuarter(e)}},{key:'onAbortedError',value:function(e){this._contentPlayer.onAbortedError(e)}},{key:'onNetworkError',value:function(e){this._contentPlayer.onNetworkError(e)}},{key:'onDecodeError',value:function(e){this._contentPlayer.onDecodeError(e)}},{key:'onSourceNotSupportedError',value:function(e){this._contentPlayer.onSourceNotSupportedError(e)}},{key:'_initResizeObserver',value:function(){var e=this,t=new uc(function(t){var n=t[0];if(n){var a=pc.dimensions(n.target),i=a.width;e.resize(i)}});t.observe(this.container)}},{key:'_initPlayersVolumeSync',value:function(){var e=this,t=function(){var t=e._contentPlayer.getMuted();e._isMuted&&!t?e._contentPlayer.mute():!e._isMuted&&t&&e._contentPlayer.unmute()};this._adManager.onAdImpression(function(){var t=0===e._adPlayer.volume;e._isMuted&&!t?e._adPlayer.mute():!e._isMuted&&t&&e._adPlayer.unmute()}),this._adManager.onAdComplete(t),this._adManager.onAdSkipped(t),this._adManager.onAdClosed(t),this._adManager.onAdTerminated(t),this._contentPlayer.onContentUnMuted(function(){return e._isMuted=!1}),this._contentPlayer.onContentMuted(function(){return e._isMuted=!0}),this._adManager.onAdVolumeChange(function(){return e._isMuted=0===e._adPlayer.volume})}},{key:'container',get:function(){return dc.document().getElementById(this._containerId)}},{key:'videoElement',get:function(){return this._contentPlayer.videoElement}},{key:'muted',get:function(){return this._isMuted}}]),e}(),mc=nt.elements,bc=function(){function e(){ct()(this,e),this._element=null}return _t()(e,[{key:'setRoot',value:function(e){this._element=e,this.setDataAttribute('root',!0),this.setDataAttribute('position','static'),mc.addClass(this._element,'pbs'),Ao.info('root service - element set',this._element),this._listen()}},{key:'getAttribute',value:function(e){return mc.getAttribute(this._element,e)}},{key:'setAttribute',value:function(e,t){mc.setAttributes(this._element,so()({},e,t))}},{key:'setDataAttribute',value:function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:'',t=1<arguments.length?arguments[1]:void 0;this.setAttribute('data-pbs-'.concat(e),t)}},{key:'subscribe',value:function(e,t){tl.subscribe(e,t)}},{key:'_listen',value:function(){this._element.onmouseenter=function(){tl.publish(Xs.ELEMENT.MOUSE_IN),tl.publish(Xs.ELEMENT.MOUSE_POSITION_CHANGED)},this._element.onmouseleave=function(){tl.publish(Xs.ELEMENT.MOUSE_OUT),tl.publish(Xs.ELEMENT.MOUSE_POSITION_CHANGED)},this._element.addEventListener(Xs.ELEMENT.STICKY_CLOSE,function(){tl.publish(Xs.ELEMENT.STICKY_CLOSE)})}},{key:'element',get:function(){return this._element}},{key:'playerContainerElement',get:function(){return this.element.getElementsByClassName('pbs__player')[0]}},{key:'configFromRoot',get:function(){var e=mc.getAttributeAsJson(this.element,'data-exs-config',function(){Ao.error('data-exs-config: string not parsable',e)});return{externalConfig:e}}}]),e}(),vc=new bc,hc=vc,Ec=nt.environment,kc=nt.elements,fc=function(e){var t=e.adPlayer,n=e.contentPlayer;t.container&&kc.addClass(t.container,'exco__ap'),kc.addClass(n.container,'exco__cp')},Ac=function(e){var t=e.containerId,n=e.adPlayer,a=e.adPlayerConfig,i=e.contentPlayer,o=e.contentPlayerConfig,r=e.adManager;return i.init(o).then(function(){return n.init(a)}).then(function(){return fc({adPlayer:n,contentPlayer:i})}).then(function(){return new yc({containerId:t,adPlayer:n,contentPlayer:i,adManager:r})})},Sc=function(e){var t=e.adManager,n=e.parentId,a=e.customDimensions,i=e.abtest,o={parentId:n,customDimensions:a,abtest:i,reportHost:'https://atrack.avplayer.com/track',channelId:ks.avChannelId,vastRetry:ks.vastRetry,errorLimit:ks.errorLimit,maxWaterfallRun:ks.maxRun,maxAds:ks.maxAds,skipButton:ks.skipButton,skipOffset:ks.skipOffset,skipButtonText:ks.skipText,enableDebug:ks.logger.enable};return t.updateConfig({adPlayerConfig:o})},Pc=function(e){var t=e.parentId,n=e.customDimensions,a=ks.raw;return a.el=hc.element,a.parentId=t,a.dimensions=n,a.adsMode=Jo.BREAKING_ADS,a},Cc=function(){return dt.createAdManager(ks.adsMode()||Jo.BREAKING_ADS,{configService:ks})},Tc=function(){var e=ks.isMonetizedPlayer()?ks.adPlayerProvider:Ml.MOCK;return Nd.createAdPlayer(e||Ml.ANIVIEW,{logger:Ao})},Ic=function(){return lt.createPlayer(Ip.ANIVIEW)},xc=function(e){var t=e.parentId,n=e.containerId,a=Ec.document(),i=a.getElementById(t),o=a.getElementById(n);return o||(o=kc.insert(i,'div',{id:n}),kc.addClass(o,'pbs__player'),kc.setStyle(o,{height:'inherit'})),o},wc=function(e){var t=e.parentId,n=e.containerId,a=e.customDimensions,i=e.abtest;return new Promise(function(e){xc({parentId:t,containerId:n});var o=Ic(),r=Tc(),s=Cc(),l=Pc({parentId:n,customDimensions:a}),d=Sc({adManager:s,parentId:n,customDimensions:a,abtest:i});Ac({containerId:n,adPlayer:r,adPlayerConfig:d,contentPlayer:o,contentPlayerConfig:l,adManager:s}).then(function(t){return e(t)})})},Dc=function(){function e(){ct()(this,e),this.callbacks={}}return _t()(e,[{key:'on',value:function(e,t){(this.events[e]||this[e])&&(!this.callbacks[e]&&(this.callbacks[e]=[]),this.callbacks[e].push(t),this[e]())}},{key:'notify',value:function(e){this.callbacks[e]&&this.callbacks[e].forEach(function(e){e&&'function'==typeof e&&e()})}},{key:'unsubscribe',value:function(e){this.callbacks[e]&&delete this.callbacks[e]}},{key:'_documentReady',value:function(){var e=this,t=function(){return e.notify(e.events.DOCUMENT_READY)},n=function(){return'complete'===window.document.readyState||'interactive'===window.document.readyState};return n()?void t():void(window.document.onreadystatechange=function(){n()&&t()},window.addEventListener('DOMContentLoaded',t,!1))}},{key:'events',get:function(){return{DOCUMENT_READY:'_documentReady'}}}]),e}(),Oc=new Dc,Mc=Oc,Lc={INITIAL:{position:'static',player:'content'},STATE:{ADS:'ads',CONTENT:'content',PLAYER:'player',PLAYING:'playing',PAUSE:'pause',LOADING:'loading',ENDED:'ended',CONTENT_TYPE:'content-type',DISPLAY_ADS:'display-ads',LAYOUT_TYPE:'layout'},HOVER:{NAME:'hover',TRUE:!0,FALSE:!1},DEVICE:{NAME:'device'},POSITION:{NAME:'position',STATIC:'static',STICKY:'sticky'},STICKY:{NAME:'sticky',MOBILE_UPPER_LARGE:'mobile-upper-large',MOBILE_UPPER_SMALL:'mobile-upper-small'}},Nc=nt.is,Rc=Xs.MEDIA.ADS,Bc=function(){function e(){ct()(this,e),this._playerprovider=null,this._eventDispatchers=[]}return _t()(e,[{key:'init',value:function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};return Nc.empty(e.playerprovider)?void Ao.warn('ads service - mandatory params not set.',e):void(this._playerprovider=e.playerprovider,this._eventDispatchers=e.eventDispatchers,this._listen(),Ao.info('Ads service - initialized and listening.',this._config))}},{key:'subscribe',value:function(e,t){tl.subscribe(e,t)}},{key:'_listen',value:function(){this._playerprovider.onAdStart(this._onStart.bind(this)),this._playerprovider.onAdImpression(this._onImpression.bind(this)),this._playerprovider.onAdPlaying(this._onPlaying.bind(this)),this._playerprovider.onAdPaused(this._onPaused.bind(this)),this._playerprovider.onAdClosed(this._onClosed.bind(this)),this._playerprovider.onAdSkipped(this._onSkipped.bind(this)),this._playerprovider.onAdCompleted(this._onCompleted.bind(this)),this._playerprovider.onAdFirstQuarter(this._onFirstQuarter.bind(this)),this._playerprovider.onAdMidPoint(this._onMidPoint.bind(this)),this._playerprovider.onAdThirdQuarter(this._onThirdQuarter.bind(this)),this._playerprovider.onAdVolumeChange(this._onVolumeChange.bind(this)),this._playerprovider.onAdTerminated(this._onTerminated.bind(this))}},{key:'_dispatchEvent',value:function(e){Ao.info('Ads Service: dispatched event',e),this._eventDispatchers.forEach(function(t){return t.dispatch(e.payload)}),tl.publish(e.name)}},{key:'_onTerminated',value:function(e){var t={name:Rc.TERMINATED,payload:e};this._dispatchEvent(t)}},{key:'_onImpression',value:function(e){var t={name:Rc.IMPRESSION,payload:e};e.type=t.name,this._dispatchEvent(t)}},{key:'_onStart',value:function(e){var t={name:Rc.START,payload:e};this._dispatchEvent(t)}},{key:'_onPlaying',value:function(e){var t={name:Rc.PLAYING,payload:e};this._dispatchEvent(t)}},{key:'_onPaused',value:function(e){var t={name:Rc.PAUSE,payload:e};this._dispatchEvent(t)}},{key:'_onClosed',value:function(e){var t={name:Rc.CLOSED,payload:e};this._dispatchEvent(t)}},{key:'_onSkipped',value:function(e){var t={name:Rc.SKIPPED,payload:e};this._dispatchEvent(t)}},{key:'_onCompleted',value:function(e){var t={name:Rc.ENDED,payload:e};this._dispatchEvent(t)}},{key:'_onFirstQuarter',value:function(e){var t={name:Rc.FIRST_QUARTILE,payload:e};this._dispatchEvent(t)}},{key:'_onMidPoint',value:function(e){var t={name:Rc.MID_POINT,payload:e};this._dispatchEvent(t)}},{key:'_onThirdQuarter',value:function(e){var t={name:Rc.THIRD_QUARTILE,payload:e};this._dispatchEvent(t)}},{key:'_onVolumeChange',value:function(e){var t={name:Rc.VOLUME_CHANGE,payload:e};this._dispatchEvent(t)}}]),e}(),Uc=new Bc,Vc=Uc,zc={PLAYER_GUI:'pg',FULL_CTA_PROGRESS_BAR:'fcpb',CTA_BTN_PLAY_BTN_PROGRESS_BAR:'cppb'},Gc=nt.is,Hc=Fe.STICKY,Yc=function(){function e(){ct()(this,e),this._player=null,this._state=Lc.INITIAL,this._adsPlaying=!1,this._currentBreakPoint=null,Ao.info('state service - initiated with state',this._state)}return _t()(e,[{key:'set',value:function(e){e&&(this._player=e,this._listen())}},{key:'setLayoutType',value:function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:'';this._updateState(Lc.STATE.LAYOUT_TYPE,e)}},{key:'subscribe',value:function(e,t){tl.subscribe(e,t)}},{key:'_listen',value:function(){this._contentStateListeners(),this._adsStateListeners(),this._displayAdsStateListeners(),this._rootStateListeners(),this._player.onResize(this._onPlayerResize.bind(this)),this._staticState()}},{key:'_adsStateListeners',value:function(){var e=this;Vc.subscribe(Xs.MEDIA.ADS.PLAYING,function(){e._updateState(Lc.STATE.ADS,Lc.STATE.PLAYING),e._updateState(Lc.STATE.PLAYER,Lc.STATE.ADS),e._publish(Xs.MEDIA.MEDIA_CHANGED)}),Vc.subscribe(Xs.MEDIA.ADS.START,function(){e._adsPlaying=!0,e._updateState(Lc.STATE.ADS,Lc.STATE.PLAYING),e._updateState(Lc.STATE.PLAYER,Lc.STATE.ADS),e._publish(Xs.MEDIA.MEDIA_CHANGED)}),Vc.subscribe(Xs.MEDIA.ADS.PAUSE,function(){e._updateState(Lc.STATE.ADS,Lc.STATE.PAUSE)}),Vc.subscribe([Xs.MEDIA.ADS.CLOSED,Xs.MEDIA.ADS.SKIPPED,Xs.MEDIA.ADS.ENDED,Xs.MEDIA.ADS.TERMINATED],function(){e._adsPlaying=!1,e._updateState(Lc.STATE.ADS,Lc.STATE.ENDED)}),tl.subscribe(Xs.MEDIA.DISPLAY_ADS.PLAYING,function(){e._updateState(Lc.STATE.DISPLAY_ADS,Lc.STATE.PLAYING)}),tl.subscribe(Xs.MEDIA.DISPLAY_ADS.ENDED,function(){e._updateState(Lc.STATE.DISPLAY_ADS,Lc.STATE.ENDED)})}},{key:'_displayAdsStateListeners',value:function(){var e=this;Vc.subscribe(Xs.MEDIA.DISPLAY_ADS.PLAYING,function(){e._updateState(Lc.STATE.ADS,Lc.STATE.PLAYING),e._updateState(Lc.STATE.PLAYER,Lc.STATE.ADS),e._publish(Xs.MEDIA.MEDIA_CHANGED)}),Vc.subscribe(Xs.MEDIA.DISPLAY_ADS.ENDED,function(){e._updateState(Lc.STATE.ADS,Lc.STATE.ENDED)})}},{key:'_contentStateListeners',value:function(){var e=this;El.subscribe(Xs.CONTENT.CHANGED,function(t){var n=t.type;e._updateState(Lc.STATE.CONTENT_TYPE,n)}),El.subscribe(Xs.MEDIA.CONTENT.PLAYING,function(){e._adsPlaying||(e._updateState(Lc.STATE.CONTENT,Lc.STATE.PLAYING),e._updateState(Lc.STATE.PLAYER,Lc.STATE.CONTENT),e._publish(Xs.MEDIA.MEDIA_CHANGED))}),El.subscribe(Xs.MEDIA.CONTENT.PAUSE,function(){e._updateState(Lc.STATE.CONTENT,Lc.STATE.PAUSE)}),El.subscribe(Xs.MEDIA.CONTENT.LOADING,function(){e._updateState(Lc.STATE.CONTENT,Lc.STATE.LOADING),e._updateState(Lc.STATE.PLAYER,Lc.STATE.CONTENT),e._publish(Xs.MEDIA.MEDIA_CHANGED)})}},{key:'_rootStateListeners',value:function(){var e=this;hc.subscribe(Xs.ELEMENT.MOUSE_IN,function(){e._updateState(Lc.HOVER.NAME,Lc.HOVER.TRUE)}),hc.subscribe(Xs.ELEMENT.MOUSE_OUT,function(){e._updateState(Lc.HOVER.NAME,Lc.HOVER.FALSE)}),tl.subscribe(Xs.ELEMENT.STICKY_CHANGED,function(t){t.isSticky?(e._updateState(Lc.POSITION.NAME,Lc.POSITION.STICKY),tl.publish(Xs.ELEMENT.STICKY)):(e._updateState(Lc.POSITION.NAME,Lc.POSITION.STATIC),tl.publish(Xs.ELEMENT.STATIC)),tl.publish(Xs.ELEMENT.POSITION_CHANGED)})}},{key:'_onPlayerResize',value:function(e){var t=e.width,n=lc.getBreakpoint(t);n!==this._currentBreakPoint&&(this._currentBreakPoint=n,this._publish(Xs.ELEMENT.SIZE_BREAKPOINT_CHANGE,n),this._updateState('size',n))}},{key:'_staticState',value:function(){this._updateState(Lc.DEVICE.NAME,vo.getDevice()),ks.stickyPosition===Hc.POSITION.UPPER_LARGE&&this._updateState(Lc.STICKY.NAME,Lc.STICKY.MOBILE_UPPER_LARGE),ks.stickyPosition===Hc.POSITION.UPPER_SMALL&&this._updateState(Lc.STICKY.NAME,Lc.STICKY.MOBILE_UPPER_SMALL)}},{key:'_updateState',value:function(e,t){this._state=Object.assign(this._state,so()({},e,t)),hc.setDataAttribute(e,t),this._publish(Xs.STATE.CHANGED,e)}},{key:'_publish',value:function(e,t){tl.publish(e,t)}},{key:'current',get:function(){return this._state}},{key:'is',get:function(){return{sticky:Gc.equal(this.current[Lc.POSITION.NAME],Lc.POSITION.STICKY),static:Gc.equal(this.current[Lc.POSITION.NAME],Lc.POSITION.STATIC),mousein:Gc.equal(this.current[Lc.HOVER.NAME],Lc.HOVER.TRUE),content:Gc.equal(this.current[Lc.STATE.PLAYER],Lc.STATE.CONTENT),ads:Gc.equal(this.current[Lc.STATE.PLAYER],Lc.STATE.ADS),displayAds:Gc.equal(this.current[Lc.STATE.DISPLAY_ADS],Lc.STATE.PLAYING),contentPlaying:Gc.equal(this.current[Lc.STATE.CONTENT],Lc.STATE.PLAYING),ctaWithPlayButtonLayout:Gc.equal(this.current[Lc.STATE.LAYOUT_TYPE],zc.CTA_BTN_PLAY_BTN_PROGRESS_BAR)}}}]),e}(),Fc=new Yc,Wc=Fc,jc=nt.elements,Zc={"volume-slider":{selector:'.avp-p-cn.avp-pos-abs .avp-p-cn-r .avp-p-cn-v.avp-pos-abs',hidden:!1,ref:null},"volume-button":{selector:'.avp-p-cn.avp-pos-abs .avp-p-cn-r',hidden:!1,ref:null},"progress-bar":{selector:'.avp-p-cn.avp-pos-abs .avp-p-cn-m',hidden:!1,ref:null},"pause-button":{selector:'.avp-p-cn-bp.avp-pos-abs.avp-btn[data-avp-state="pause"]',hidden:!1,ref:null},timers:{selector:'.avp-p-cn.avp-pos-abs .avp-p-cn-d',hidden:!1,ref:null},"ad-progress-bar":{selector:'#av-container #av-inner #timeline',hidden:!1,ref:null},"ad-pause-button":{selector:'#av-container #av-inner #buttons #left',hidden:!1,ref:null}},Kc={hideAVPlayerComponent:function(e){var t=Zc[e];t&&(t.hidden=!0,t.ref=jc.insertStyleSheet(document.head,''.concat(t.selector,' { display: none !important; }')))},showAVPlayerComponent:function(e){var t=Zc[e];t&&(t.hidden=!1,jc.remove(t.ref),t.ref=null)}},qc={play:function(){var e=0<arguments.length&&arguments[0]!==void 0?arguments[0]:{},t=e.width,n=void 0===t?18:t,a=e.height,i=void 0===a?18:a,o=e.color,r=void 0===o?'white':o;return'<svg viewBox="0 0 '.concat(n,' ').concat(i,'"\n  fill="none" xmlns="http://www.w3.org/2000/svg">\n  <path d="M9 0C7.21997 0 5.47991 0.527841 3.99987 1.51677C2.51983 2.50571 1.36628 3.91131 0.685088\n      5.55585C0.00389955 7.20038 -0.17433 9.00998 0.172936 10.7558C0.520203 12.5016 1.37737 14.1053\n      2.63604 15.364C3.89471 16.6226 5.49836 17.4798 7.24419 17.8271C8.99002 18.1743 10.7996 17.9961\n      12.4442 17.3149C14.0887 16.6337 15.4943 15.4802 16.4832 14.0001C17.4722 12.5201 18 10.78 18 9C18\n      6.61305 17.0518 4.32387 15.364 2.63604C13.6761 0.948211 11.387 0 9 0ZM13.8086 9.56571L6.73715\n      13.4229C6.63942 13.4793 6.52856 13.509 6.41572 13.509C6.30287 13.509 6.19202 13.4793 6.09429\n      13.4229C5.99762 13.3641 5.91818 13.2808 5.864 13.1815C5.80982 13.0821 5.78282 12.9703 5.78572\n      12.8571V5.14286C5.78574 5.03129 5.81479 4.92166 5.87002 4.82472C5.92525 4.72779 6.00475 4.6469\n      6.10072 4.59C6.19844 4.53358 6.3093 4.50387 6.42215 4.50387C6.53499 4.50387 6.64585 4.53358\n      6.74357 4.59L13.815 8.44714C13.9171 8.50222 14.0023 8.58389 14.0617 8.68348C14.1211 8.78307\n      14.1525 8.89688 14.1525 9.01286C14.1525 9.12883 14.1211 9.24264 14.0617 9.34223C14.0023\n      9.44182 13.9171 9.52349 13.815 9.57857L13.8086 9.56571Z" fill="').concat(r,'"/>\n  </svg>')},new_window:function(){var e=0<arguments.length&&arguments[0]!==void 0?arguments[0]:{},t=e.width,n=void 0===t?18:t,a=e.height,i=void 0===a?18:a,o=e.color,r=void 0===o?'white':o;return'<svg viewBox="0 0 '.concat(n,' ').concat(i,'" fill="none" xmlns="http://www.w3.org/2000/svg">\n      <path d="M7 0V2H2V16H16V11H18V17C18 17.2652 17.8946 17.5196 17.7071 17.7071C17.5196 17.8946 17.2652\n      18 17 18H1C0.734784 18 0.48043 17.8946 0.292893 17.7071C0.105357 17.5196 0 17.2652 0 17V1C0\n      0.734784 0.105357 0.48043 0.292893 0.292893C0.48043 0.105357 0.734784 0 1 0H7ZM14.586\n      2H10V0H18V8H16V3.414L9 10.414L7.586 9L14.586 2Z" fill="').concat(r,'"/></svg>')}},Qc={render:function(e,t){var n=qc[e];return n?n(t):''}},Jc=n(18),Xc=n.n(Jc),$c=nt.elements,eu=nt.is,tu=Fe.STICKY,nu='Read More',au=function(){function e(t,n){ct()(this,e),Xc.a.use(),this._on={},this._options=n,eu.string(t)?this._parentElement=document.querySelector(t):eu.element(t)&&(this._parentElement=t),this._parentElement&&this._init()}return _t()(e,[{key:'hide',value:function(){var e=!!(0<arguments.length&&void 0!==arguments[0])&&arguments[0];this._isTransition=e,this._hideEl(this._element)}},{key:'show',value:function(){this._isAbleToShow()&&(this._toggleFullScreenMode(),this._showEl(this._element))}},{key:'_isAbleToShow',value:function(){return this._url||this._hasActions()&&!this._isTransition}},{key:'_createIconElement',value:function(){var e=this._options.icon&&'none'!==this._options.icon,t=!e&&this._options.stickyPosition===tu.POSITION.UPPER_LARGE,n=t?'pbs-cta-icon-sticky-only':'';(e||t)&&(this._icon=this._createEl({parent:this._button,className:'pbs-cta-icon '.concat(n),html:Qc.render(e?this._options.icon:'new_window')}))}},{key:'_createTextElement',value:function(){this._text=this._createEl({parent:this._button,className:'pbs-cta-text',text:this._getDefaultText()})}},{key:'_createButtonElement',value:function(){var e=!1===(null===(a=this._options)||void 0===a||null===(i=a.enabled)||void 0===i?void 0:i.onSticky)?' cta-button-hide-on-sticky':'',t=!1===(null===(o=this._options)||void 0===o||null===(r=o.enabled)||void 0===r?void 0:r.onDevice)?' cta-button-hide-on-device':'',n=!1===this._options.animation?'':' animated',a,i,o,r;this._button=this._createEl({parent:this._element,className:'pbs-cta-button'.concat(e).concat(t).concat(n),style:'background-color: '.concat(this._options.color)})}},{key:'_createCtaElement',value:function(){var e=''.concat(this._options.stickyPosition===tu.POSITION.UPPER_LARGE||this._options.stickyPosition===tu.POSITION.UPPER_SMALL?'cta-button-sticky-'.concat(this._options.stickyPosition):'');this._element=this._createEl({parent:this._parentElement,className:'pbs-cta pbs-hidden '.concat(e)})}},{key:'addEventListener',value:function(e,t){this._on[e]=t}},{key:'_hasActions',value:function(){return El.containsCTAActions(this._content)&&El.action}},{key:'_init',value:function(){this._createCtaElement(),this._createButtonElement(),this._createIconElement(),this._createTextElement(),this._element.addEventListener('click',this._onClick.bind(this)),El.onActionChange(this._onContentActionChange.bind(this)),tl.publish(Xs.CTA.ENABLED)}},{key:'_onClick',value:function(){eu['function'](this._on.click)&&this._on.click()}},{key:'_toggleFullScreenMode',value:function(){this._hasActions()?$c.addClass(this._element,'pbs-cta-fullscreen'):$c.removeClass(this._element,'pbs-cta-fullscreen')}},{key:'_hideEl',value:function(e){$c.addClass(e,'pbs-hidden')}},{key:'_showEl',value:function(e){$c.removeClass(e,'pbs-hidden')}},{key:'update',value:function(e){this._isTransition=!1,this._content=e,this._url=(e.videoSpecMeta||{}).articleUrl,this._isAbleToShow()?this.show():this.hide()}},{key:'_onContentActionChange',value:function(){this._updateText()}},{key:'_updateText',value:function(){var e=El.action||{},t=e.data;t=void 0===t?{}:t;var n=t.text,a=void 0===n?'':n;this._text.innerText=this.isDefault(a)?this._options.text:a||nu,this.show()}},{key:'isDefault',value:function(e){return e.toLowerCase()===nu.toLowerCase()}},{key:'_getDefaultText',value:function(){return this._options.text}},{key:'_createEl',value:function(e){var t=e.tag,n=e.parent,a=e.className,i=e.text,o=e.html,r=e.style;return $c.insert(n,t||'div',{class:a,style:r},i,o)}},{key:'element',get:function(){return this._element}}]),e}(),iu={update:null,begin:null,loopBegin:null,changeBegin:null,change:null,changeComplete:null,loopComplete:null,complete:null,loop:1,direction:'normal',autoplay:!0,timelineOffset:0},ou={duration:1e3,delay:0,endDelay:0,easing:'easeOutElastic(1, .5)',round:0},ru=['translateX','translateY','translateZ','rotate','rotateX','rotateY','rotateZ','scale','scaleX','scaleY','scaleZ','skew','skewX','skewY','perspective','matrix','matrix3d'],su={CSS:{},springs:{}},lu={arr:function(e){return Array.isArray(e)},obj:function(e){return A(Object.prototype.toString.call(e),'Object')},pth:function(e){return lu.obj(e)&&e.hasOwnProperty('totalLength')},svg:function(e){return e instanceof SVGElement},inp:function(e){return e instanceof HTMLInputElement},dom:function(e){return e.nodeType||lu.svg(e)},str:function(e){return'string'==typeof e},fnc:function(e){return'function'==typeof e},und:function(e){return'undefined'==typeof e},nil:function(e){return lu.und(e)||null===e},hex:function(e){return /(^#[0-9A-F]{6}$)|(^#[0-9A-F]{3}$)/i.test(e)},rgb:function(e){return /^rgb/.test(e)},hsl:function(e){return /^hsl/.test(e)},col:function(e){return lu.hex(e)||lu.rgb(e)||lu.hsl(e)},key:function(e){return!iu.hasOwnProperty(e)&&!ou.hasOwnProperty(e)&&'targets'!==e&&'keyframes'!==e}},du=function(){function e(e,t){return 1-3*t+3*e}function t(e,t){return 3*t-6*e}function n(e){return 3*e}function a(a,i,o){return((e(i,o)*a+t(i,o))*a+n(i))*a}function i(a,i,o){return 3*e(i,o)*a*a+2*t(i,o)*a+n(i)}function o(e,t,n,o,r){var s=0,i,l;do l=t+(n-t)/2,i=a(l,o,r)-e,0<i?n=l:t=l;while(1e-7<Oe(i)&&10>++s);return l}function r(e,t,n,o){for(var r=0,s;4>r;++r){if(s=i(t,n,o),0===s)return t;var l=a(t,n,o)-e;t-=l/s}return t}var s=11,l=1/(s-1);return function(e,t,n,d){function p(t){for(var a=0,d=1;d!==s-1&&c[d]<=t;++d)a+=l;--d;var p=(t-c[d])/(c[d+1]-c[d]),u=a+p*l,_=i(u,e,n);return .001<=_?r(t,u,e,n):0===_?u:o(t,a,a+l,e,n)}if(0<=e&&1>=e&&0<=n&&1>=n){var c=new Float32Array(s);if(e!==t||n!==d)for(var u=0;u<s;++u)c[u]=a(u*l,e,n);return function(i){return e===t&&n===d?i:0===i||1===i?i:a(p(i),t,d)}}}}(),pu=function(){var e={linear:function(){return function(e){return e}}},t={Sine:function(){return function(e){return 1-Le(e*De/2)}},Circ:function(){return function(e){return 1-Ne(1-e*e)}},Back:function(){return function(e){return e*e*(3*e-2)}},Bounce:function(){return function(e){for(var t=4,n;e<((n=we(2,--t))-1)/11;);return 1/we(4,3-t)-7.5625*we((3*n-2)/22-e,2)}},Elastic:function(e,t){void 0===e&&(e=1),void 0===t&&(t=.5);var n=f(e,1,10),i=f(t,.1,2);return function(e){return 0===e||1===e?e:-n*we(2,10*(e-1))*Me((e-1-i/(2*De)*Math.asin(1/n))*(2*De)/i)}}};return['Quad','Cubic','Quart','Quint','Expo'].forEach(function(e,n){t[e]=function(){return function(e){return we(e,n+2)}}}),Object.keys(t).forEach(function(n){var i=t[n];e['easeIn'+n]=i,e['easeOut'+n]=function(e,n){return function(a){return 1-i(e,n)(1-a)}},e['easeInOut'+n]=function(e,n){return function(a){return .5>a?i(e,n)(2*a)/2:1-i(e,n)(-2*a+2)/2}},e['easeOutIn'+n]=function(e,n){return function(a){return .5>a?(1-i(e,n)(1-2*a))/2:(i(e,n)(2*a-1)+1)/2}}}),e}(),cu={css:function(e,t,n){return e.style[t]=n},attribute:function(e,t,n){return e.setAttribute(t,n)},object:function(e,t,n){return e[t]=n},transform:function(e,t,n,a,i){if(a.list.set(t,n),t===a.last||i){var o='';a.list.forEach(function(e,t){o+=t+'('+e+') '}),e.style.transform=o}}},uu=0,_u=[],gu=function(){function e(){a||fe()&&Ae.suspendWhenDocumentHidden||!(0<_u.length)||(a=requestAnimationFrame(n))}function n(e){for(var t=_u.length,o=0,i;o<t;)i=_u[o],i.paused?(_u.splice(o,1),t--):(i.tick(e),o++);a=0<o?requestAnimationFrame(n):void 0}function t(){Ae.suspendWhenDocumentHidden&&(fe()?a=cancelAnimationFrame(a):(_u.forEach(function(e){return e._onDocumentVisibility()}),gu()))}var a;return'undefined'!=typeof document&&document.addEventListener('visibilitychange',t),e}(),yu;Ae.version='3.2.1',Ae.speed=1,Ae.suspendWhenDocumentHidden=!0,Ae.running=_u,Ae.remove=function(e){for(var t=pe(e),n=_u.length,a;n--;)a=_u[n],Pe(t,a)},Ae.get=Q,Ae.set=be,Ae.convertPx=W,Ae.path=function(e,t){var n=lu.str(e)?x(e)[0]:e;return function(e){return{property:e,el:n,svg:se(n),totalLength:oe(n)*((t||100)/100)}}},Ae.setDashoffset=function(e){var t=oe(e);return e.setAttribute('stroke-dasharray',t),t},Ae.stagger=function(e,t){void 0===t&&(t={});var n=t.direction||'normal',a=t.easing?I(t.easing):null,i=t.grid,o=t.axis,r=t.from||0,s='first'===r,l='center'===r,d='last'===r,p=lu.arr(e),c=p?parseFloat(e[0]):parseFloat(e),u=p?parseFloat(e[1]):0,_=G(p?e[1]:e)||0,g=t.start||0+(p?c:0),y=[],m=0;return function(e,b,v){if(s&&(r=0),l&&(r=(v-1)/2),d&&(r=v-1),!y.length){for(var t=0;t<v;t++){if(!i)y.push(Oe(r-t));else{var h=l?(i[0]-1)/2:r%i[0],E=l?(i[1]-1)/2:Ve(r/i[0]),k=t%i[0],f=Ve(t/i[0]),A=h-k,S=E-f,P=Ne(A*A+S*S);'x'===o&&(P=-A),'y'===o&&(P=-S),y.push(P)}m=Ue.apply(Math,y)}a&&(y=y.map(function(e){return a(e/m)*m})),'reverse'===n&&(y=y.map(function(e){return o?0>e?-1*e:-e:Oe(m-e)}))}var C=p?(u-c)/m:c;return g+C*(ze(100*y[b])/100)+_}},Ae.timeline=function(e){void 0===e&&(e={});var t=Ae(e);return t.duration=0,t.add=function(n,a){function o(e){e.passThrough=!0}var r=_u.indexOf(t),s=t.children;-1<r&&_u.splice(r,1);for(var l=0;l<s.length;l++)o(s[l]);var i=R(n,N(ou,e));i.targets=i.targets||e.targets;var d=t.duration;i.autoplay=!1,i.direction=t.direction,i.timelineOffset=lu.und(a)?d:J(a,d),o(t),t.seek(i.timelineOffset);var p=Ae(i);o(p),s.push(p);var c=Ee(s,e);return t.delay=c.delay,t.endDelay=c.endDelay,t.duration=c.duration,t.seek(0),t.reset(),t.autoplay&&t.play(),t},t},Ae.easing=I,Ae.penner=pu,Ae.random=function(e,t){return Ve(Math.random()*(t-e+1))+e};var mu=Ae,bu=n(19),vu=n.n(bu),hu=nt.elements,Eu=nt.is,ku='pbs-animated-text-lines',fu=function(){function e(t,n){var a=n.maxLines;ct()(this,e),vu.a.use(),this._options={maxLines:a},this._lines=[],this._maxWords=[],this._on={},Eu.string(t)?this._parentElement=document.querySelector(t):Eu.element(t)&&(this._parentElement=t),this._parentElement&&this._init()}return _t()(e,[{key:'hide',value:function(){this._hideEl(this._element)}},{key:'show',value:function(){this._showEl(this._element)}},{key:'addEventListener',value:function(e,t){this._on[e]=t}},{key:'_init',value:function(){var e=this;this._element=this._createEl(this._parentElement,''.concat(ku,'-container')),Eo()(Array(this._options.maxLines)).forEach(function(){return e._createLineEl()})}},{key:'_onClick',value:function(){Eu['function'](this._on.click)&&this._on.click()}},{key:'_hideEl',value:function(e){hu.addClass(e,'pbs-hidden')}},{key:'_showEl',value:function(e){hu.removeClass(e,'pbs-hidden')}},{key:'clearTitle',value:function(){this._lines.forEach(function(e){e.innerHTML=''})}},{key:'update',value:function(e){this._setTitle(e)}},{key:'_setTitle',value:function(e){var t=this;if(!e)return this._lines.forEach(function(e){e.innerHTML=''}),this.hide();this.show(),this._calcMaxWords(e);var n=e.split(/\s/g);return this._lines.forEach(function(e,a){var i=t._getLineText(n,a);i?t._showEl(e):t._hideEl(e),e.innerHTML=i.trim()}),!0}},{key:'_getLineText',value:function(e,t){return t===this._lines.length-1?e.splice(0).join(' '):e.splice(0,this._maxWords[t]).join(' ')}},{key:'_calcMaxWords',value:function(e){var t=this,n=e.split(/\s/g),a=hu.insert(this._element,'div',{class:ku,style:'visibility: hidden; display: inline-block;'}),o=this._element.getBoundingClientRect();this._lines.forEach(function(e,r){r!==t._lines.length-1&&(a.innerHTML='',n.forEach(function(e,n){hu.insert(a,'span',{style:'visibility: hidden'},n?' '.concat(e):e);var i=a.getBoundingClientRect();o.width-12>i.width&&(t._maxWords[r]=n+1)}),n.splice(0,t._maxWords[r]))}),this._element.removeChild(a)}},{key:'animateIn',value:function(){this._animate('in')}},{key:'animateOut',value:function(){this._animate('out')}},{key:'_animate',value:function(e){var t=this._parentElement.className.split(' ').join('.');mu.timeline({loop:!1}).add({targets:'.'.concat(t,' .').concat(ku,'-container .animated'),translateY:'in'===e?['100%','0%']:['0%','-100%'],easing:'in'===e?'cubicBezier(0, 0, .3, 1)':'cubicBezier(0, 0, 1, .3)',duration:400,delay:function(e,t){return 120*(t+1)}})}},{key:'_createEl',value:function(e,t,n){return hu.insert(e,'div',{class:t},n)}},{key:'_createLineEl',value:function(){var e=this._createEl(this._element,''.concat(ku,'-wrapper line-').concat(this._lines.length)),t=this._createEl(e,''.concat(ku,' line-').concat(this._lines.length,' animated pbs-hidden'));t.addEventListener('click',this._onClick.bind(this)),this._lines.push(t)}},{key:'element',get:function(){return this._element}}]),e}(),Au=fu,Su=n(20),Pu=n.n(Su),Cu=nt.elements,Tu=nt.is,Iu=function(){function e(t,n){var a=n.position,i=n.title,o=n.clickable;ct()(this,e),Pu.a.use(),this._options={position:a,title:i,clickable:o},this._on={},this._lines=[],this._visible=!1,this._mouseOver=!1,Tu.string(t)?this._parentElement=document.querySelector(t):Tu.element(t)&&(this._parentElement=t),this._parentElement&&this._init()}return _t()(e,[{key:'addEventListener',value:function(e,t){this._on[e]=t}},{key:'_init',value:function(){var e=''.concat('pbs-title',' ').concat(this._options.position);this._element=this._createEl(this._parentElement,e),this._setClickable(this._options.clickable),this._animatedTextLines=new Au(this._element,{maxLines:2}),this._animatedTextLines.addEventListener('click',this._onClick.bind(this)),El.onActionChange(this._onContentActionChange.bind(this))}},{key:'_onContentActionChange',value:function(){this._updateText()}},{key:'_updateText',value:function(){var e=El.action||{},t=e.data;t=void 0===t?{}:t;var n=t.title,a=void 0===n?'':n,i=t.url;a?this.updateTitle({title:a,clickable:this._options.clickable&&i}):this._setClickable(this._options.clickable&&i)}},{key:'_onClick',value:function(){Tu['function'](this._on.click)&&this._on.click()}},{key:'hide',value:function(){this._hideEl(this._element)}},{key:'show',value:function(){this._title&&this._showEl(this._element)}},{key:'_hideEl',value:function(e){Cu.addClass(e,'pbs-hidden')}},{key:'_showEl',value:function(e){Cu.removeClass(e,'pbs-hidden')}},{key:'_setClickable',value:function(e){void 0!==e&&(this._clickable=e),this._clickable?Cu.addClass(this._element,'clickable'):Cu.removeClass(this._element,'clickable')}},{key:'updateTitle',value:function(e){var t=e.title,n=e.clickable;this._title=t,this._setClickable(n),this._animatedTextLines.update(this._title),this._title?(this.show(),this.animateIn()):this.animateOut()}},{key:'animateIn',value:function(){!this._visible&&this._title&&(this._animatedTextLines.animateIn(),this._visible=!0)}},{key:'animateOut',value:function(){this._visible&&(this._animatedTextLines.animateOut(),this._visible=!1)}},{key:'_createEl',value:function(e,t,n){var a=Cu.create('div',{class:t});return n?Cu.insertFirstChild(e,a):Cu.appendChild(e,a),a}},{key:'element',get:function(){return this._element}}]),e}(),xu=n(21),wu=n.n(xu),Du=nt.elements,Ou=nt.is,Mu=function(){function e(t,n){var a=n.position,i=n.contents;ct()(this,e),wu.a.use(),this._options={position:a,contents:i},this._on={},Ou.string(t)?this._parentElement=document.querySelector(t):Ou.element(t)&&(this._parentElement=t),this._parentElement&&this._init()}return _t()(e,[{key:'addEventListener',value:function(e,t){this._on[e]=t}},{key:'_init',value:function(){var e=this,t='pbs-paging '.concat(this._options.position);this._element=this._createEl(this._parentElement,t,'bottom'===this._options.position),this._dots=Eo()(Array(this._options.contents.length)).map(function(t,n){return e._createDot(n)})}},{key:'updatePaging',value:function(e){this._updateActive(e),this.show()}},{key:'_updateActive',value:function(e){this._dots.forEach(function(t,n){n===e?Du.addClass(t,'active'):Du.removeClass(t,'active')})}},{key:'hide',value:function(){this._hideEl(this._element)}},{key:'show',value:function(){this._showEl(this._element)}},{key:'_hideEl',value:function(e){Du.addClass(e,'pbs-hidden')}},{key:'_showEl',value:function(e){Du.removeClass(e,'pbs-hidden')}},{key:'_createDot',value:function(e){var t=this,n=this._createEl(this._element,'pbs-paging-dot index-'.concat(e));return n.addEventListener('click',function(){return t._handleDotClick(e)}),n}},{key:'_handleDotClick',value:function(e){Ou['function'](this._on.navigate)&&this._on.navigate(e)}},{key:'_createEl',value:function(e,t,n){var a=Du.create('div',{class:t});return n?Du.insertFirstChild(e,a):Du.appendChild(e,a),a}},{key:'element',get:function(){return this._element}}]),e}(),Lu=n(22),Nu=n.n(Lu),Ru=nt.elements,Bu=nt.is,Uu=nt.time,Vu=Uu.millisecondsToMinutesAndSeconds,zu=Uu.convertTS,Gu='pbs-metadata',Hu=function(){function e(t,n){var a=n.position;ct()(this,e),Nu.a.use(),this._options={position:a},this._on={},Bu.string(t)?this._parentElement=document.querySelector(t):Bu.element(t)&&(this._parentElement=t),this._parentElement&&this._init()}return _t()(e,[{key:'addEventListener',value:function(e,t){this._on[e]=t}},{key:'_init',value:function(){var e=''.concat(Gu,' ').concat(this._options.position,' pbs-hidden');this._element=this._createEl(this._parentElement,e,'bottom'===this._options.position),this._innerWrapper=this._createEl(this._element,'pbs-metadata-inner animated'),this._dateEl=this._createEl(this._innerWrapper,'pbs-metadata-date'),this._durationEl=this._createEl(this._innerWrapper,'pbs-metadata-duration')}},{key:'updateMeta',value:function(e){var t=e.createDate;this.setDate(t)}},{key:'setDate',value:function(e){if(this._date=e,!e)return this.animateOut();this._showEl(this._element),this.animateIn();var t=new Date(e),n=new Date().getTime()-t.getTime(),a=zu(Ve(n/1e3));return this._dateEl.innerHTML=a.years?'Posted '.concat(a.years,' ').concat(1<a.years?'Years':'Year',' Ago'):a.months?'Posted '.concat(a.months,' ').concat(1<a.months?'Months':'Month',' Ago'):a.days?'Posted '.concat(a.days,' ').concat(1<a.days?'Days':'Day',' Ago'):a.hours?'Posted '.concat(a.hours,' ').concat(1<a.hours?'Hours':'Hour',' Ago'):a.minutes?'Posted '.concat(a.minutes,' ').concat(1<a.minutes?'Minutes':'Minute',' Ago'):'Posted '.concat(a.seconds,' ').concat(1<a.seconds?'Seconds':'Second',' Ago'),!0}},{key:'setDuration',value:function(e){var t={};e?(t=Vu(1e3*e),this._showEl(this._durationEl)):this._hideEl(this._durationEl),this._durationEl.innerHTML='// '.concat(t.minutes?''.concat(t.minutes,'m'):''.concat(t.seconds,'s'))}},{key:'animateIn',value:function(){!this._visible&&this._date&&(this._animate('in'),this._visible=!0)}},{key:'animateOut',value:function(){this._visible&&(this._animate('out'),this._visible=!1)}},{key:'_animate',value:function(e){var t=this._parentElement.className.split(' ').join('.');mu.timeline({loop:!1}).add({targets:'.'.concat(t,' .').concat(Gu,' .animated'),translateY:'in'===e?['100%','0%']:['0%','-100%'],easing:'in'===e?'cubicBezier(0, 0, .3, 1)':'cubicBezier(0, 0, 1, .3)',duration:400,delay:function(e,t){return 120*(t+1)}})}},{key:'hide',value:function(){this._hideEl(this._element)}},{key:'show',value:function(){this._date&&this._showEl(this._element)}},{key:'_hideEl',value:function(e){Ru.addClass(e,'pbs-hidden')}},{key:'_showEl',value:function(e){Ru.removeClass(e,'pbs-hidden')}},{key:'_createEl',value:function(e,t,n){var a=Ru.create('div',{class:t});return n?Ru.insertFirstChild(e,a):Ru.appendChild(e,a),a}},{key:'element',get:function(){return this._element}}]),e}(),Yu=n(23),Fu=n.n(Yu),Wu=nt.elements,ju=nt.is,Zu=nt.Timer,Ku=Fe.PLAYBACK,qu=function(){function e(t,n){var a=n.enabled,i=n.logo,o=n.logoImage;ct()(this,e),Fu.a.use(),this._animatedIn=!0,this._options={enabled:a,logo:i,logoImage:o},this._on={},ju.string(t)?this._parentElement=document.querySelector(t):ju.element(t)&&(this._parentElement=t),this._parentElement&&(this._initialTimer=new Zu,this._init())}return _t()(e,[{key:'addEventListener',value:function(e,t){this._on[e]=t}},{key:'_init',value:function(){var e=this,t=this._parentElement.querySelector('.pbs__player');this._wrapper=this._createEl(t,'pbs-transition-wrapper'),this._element=this._createEl(this._wrapper,'pbs-transition full-size'),this._logo=this._options.logo?Wu.insert(this._element,'img',{class:'pbs-transition-logo',src:this._options.logoImage||this._options.logo}):null,this._animatedTextLines=new Au(this._element,{maxLines:3}),this._isNotAutoPlaying()&&this._initialTimer.timeout(function(){return e.animateOut()},3e3)}},{key:'_isNotAutoPlaying',value:function(){return[Ku.MODE.CLICK_TO_PLAY_PAUSE_OUT_OF_VIEW,Ku.MODE.CLICK_TO_PLAY,Ku.MODE.PLAY_IN_VIEW].includes(ks.playback)}},{key:'update',value:function(e){this._animatedTextLines.update(e.title)}},{key:'animate',value:function(){var e=this;Wu.addClass(this._element,'animate'),setTimeout(function(){return Wu.removeClass(e._element,'animate')},5e3)}},{key:'animateIn',value:function(){var e=this;return!0!==this._animatedIn&&void(this._canShow=!0,this._animatedIn=!0,this.show(),this._animatedTextLines.animateIn(),Wu.addClass(this._element,'full-size'),Wu.addClass(this._element,'animate-in'),setTimeout(function(){Wu.removeClass(e._element,'animate-in')},2e3),this._isNotAutoPlaying()&&this._initialTimer.timeout(function(){return e.animateOut()},3e3))}},{key:'animateOut',value:function(){var e=this;this._initialTimer.stop(),this._animatedTextLines.animateOut(),Wu.removeClass(this._element,'full-size'),Wu.addClass(this._element,'animate-out'),setTimeout(function(){Wu.removeClass(e._element,'animate-out'),e.hide(),e._canShow=!1,e._animatedIn=!1},2e3)}},{key:'hide',value:function(){this._hideEl(this._wrapper)}},{key:'show',value:function(){this._canShow&&this._showEl(this._wrapper)}},{key:'_hideEl',value:function(e){Wu.addClass(e,'pbs-hidden')}},{key:'_showEl',value:function(e){Wu.removeClass(e,'pbs-hidden')}},{key:'_createEl',value:function(e,t,n){var a=Wu.create('div',{class:t});return n?Wu.insertFirstChild(e,a):Wu.appendChild(e,a),a}},{key:'element',get:function(){return this._element}}]),e}(),Qu=n(24),Ju=n.n(Qu),Xu=nt.elements,$u=function e(t){var n=t.radius;ct()(this,e),Ju.a.use(),Xu.insertStyleSheet(document.head,'\n      .pbs__player,\n      .pb-stream {\n        border-radius: '.concat(n,'px;\n      }\n\n      .pbs-transition-wrapper {\n        border-radius: ').concat(n,'px;\n      }\n\n      .pb-stream .avp-p-wrapper div[id^="content_"] {\n        border-radius: ').concat(n,'px;\n      }\n\n      @media only screen and (max-width: 768px) {\n        .pbs__player .pbs-ui-hub {\n          border-bottom-right-radius: ').concat(n,'px;\n          border-bottom-left-radius: ').concat(n,'px;\n        }\n      }\n\n      @media only screen and (max-width: 768px) {\n        [data-pbs-position="sticky"] .pbs-transition-wrapper {\n          border-radius: ').concat(n,'px;\n        }\n      }\n    '))},e_=n(25),t_=n.n(e_),n_=nt.elements,a_=nt.environment,i_=function(){var e=n_.insert(a_.document().body,'video',{id:'pbs-apbd',src:'data:audio/mpeg;base64,/+MYxAAAAANIAUAABASEEB/jwOFM/0MM/90b/+RhST//w4NFwOjf///PZu////9lns5GFDv//l9GlUIEEIAAAgIg8Ir/JGq3/+MYxDsLIj5QMYcoAP0dv9HIjUcH//yYSg+CIbkGP//8w0bLVjUP///3Z0x5QCAv/yLjwtGKTEFNRTMuOTeqqqqqqqqqqqqq/+MYxEkNmdJkUYc4AKqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqq',"webkit-playsinline":!0});return e.muted=!0,e.playsInline=!0,e},o_=function(e){return new Promise(function(t,n){var a=e.play();a!==void 0&&a.then(function(){t()})['catch'](function(e){n(e)})})},r_=function(){return!!('connection'in navigator)&&navigator.connection.saveData},s_={detect:function(e){if(r_())e(!0);else{var t=i_();o_(t).then(function(){return Ao.info('Autoplay enabled')})['catch'](function(n){Ao.info('Autoplay block detection retry - '.concat(n)),setTimeout(function(){o_(t).then(function(){return'Autoplay blocked'})['catch'](e)},1e3)})['finally'](function(){return n_.remove(t)})}}},l_=nt.elements,d_=nt.is,p_=nt.Timer,c_=2e3,u_=function(){function e(t,n){var a=n.player,i=n.position,o=void 0===i?'bottom':i,r=n.cta,s=n.paging,l=n.transition,d=n.metadata,p=n.title,c=n.splashLogo,u=n.videoTeasers,_=n.borderRadius,g=n.contents;ct()(this,e),t_.a.use(),this._options={position:o,cta:r,paging:s,transition:l,metadata:d,title:p,videoTeasers:u,splashLogo:c,borderRadius:_,contents:g},this._on={},d_.string(t)?this._parentElement=document.querySelector(t):d_.element(t)&&(this._parentElement=t),this._parentElement&&(this._player=a,this._skipTimer=new p_,this._transitionTimer=new p_,this._hoverTimer=new p_,this._volumeTimer=new p_,this._init())}return _t()(e,[{key:'addEventListener',value:function(e,t){this._on[e]=t}},{key:'_getHubClassNames',value:function(){var e=this,t=['contents','position'];return Object.keys(this._options).reduce(function(n,a){if(t.includes(a))return n;var i=e._options[a]||{};return''.concat(n,' ').concat(a,'-').concat(i.enabled?'enabled':'disabled')},'')}},{key:'_init',value:function(){this._element=this._createContainerEl(),this._titleAndMetaWrapper=l_.insert(this._element,'div',{class:'pbs-title-wrapper pbs-metadata-wrapper '.concat(this._options.position)}),Kc.hideAVPlayerComponent('ad-progress-bar'),this._options.videoTeasers&&this._options.videoTeasers.enabled&&(Kc.hideAVPlayerComponent('pause-button'),Kc.hideAVPlayerComponent('progress-bar'),Kc.hideAVPlayerComponent('ad-pause-button'),Kc.hideAVPlayerComponent('timers'),Kc.hideAVPlayerComponent('volume-slider')),this._options.title&&this._options.title.enabled&&this._initTitle(),this._options.cta&&this._options.cta.enabled&&this._initCTA(),this._options.paging&&this._options.paging.enabled&&this._initPaging(),this._options.transition&&this._options.transition.enabled&&this._initTransition(),this._options.metadata&&this._options.metadata.enabled&&this._initMetadata(),this._options.borderRadius&&this._options.borderRadius.enabled&&this._initBorderRadius(),this._listenToPlayerEvents(),this._handleBlockedAutoplay(),this._attachEvents()}},{key:'_attachEvents',value:function(){var e=this;vo.isDesktop()&&(this._parentElement.addEventListener('mouseenter',function(){e._hoverTimer.stop(),e._title&&e._title.animateIn(),e._metadata&&!0!==e._adPlaying&&e._metadata.animateIn(),e._mouseOver=!0}),this._parentElement.addEventListener('mouseleave',function(){e._hoverTimer.timeout(function(){e._title&&e._title.animateOut(),e._metadata&&e._metadata.animateOut()},1e3),e._mouseOver=!1}))}},{key:'_listenToPlayerEvents',value:function(){var e=this;this._player.onAdClosed(this.adEnded.bind(this)),this._player.onAdSkipped(this.adEnded.bind(this)),this._player.onAdStart(this.adStarted.bind(this)),this._player.onAdCompleted(this.adEnded.bind(this)),this._player.onContentPaused(this.pauseTimers.bind(this)),this._player.onContentPlaying(this.resumeTimers.bind(this)),this._player.onPrevClicked(function(){return e.onPrevOrNextClicked(e._contentIndex-1)}),this._player.onNextClicked(function(){return e.onPrevOrNextClicked(e._contentIndex+1)}),this._player.onSetContentByIndex(this.onPrevOrNextClicked.bind(this)),this._player.onContentEnded(this.onContentEnded.bind(this))}},{key:'_initBorderRadius',value:function(){this._borderRadius=new $u(this._options.borderRadius)}},{key:'_initMetadata',value:function(){this._metadata=new Hu(this._titleAndMetaWrapper,this._options)}},{key:'_initTitle',value:function(){var e=!this._options.cta||!this._options.cta.enabled,t=Object.assign({position:this._options.position,clickable:e},this._options.title);this._title=new Iu(this._titleAndMetaWrapper,t),e&&this._title.addEventListener('click',this.onTitleClick.bind(this))}},{key:'_initPaging',value:function(){var e=Object.assign(this._options,{contents:this._options.contents});this._paging=new Mu(this._parentElement.querySelector('.pbs__player'),e),this._paging.addEventListener('navigate',this.onPagingClick.bind(this))}},{key:'_initCTA',value:function(){this._cta=new au(this._element,this._options.cta),this._cta.addEventListener('click',this.onCtaClick.bind(this))}},{key:'_initTransition',value:function(){this._transitionScreen=new qu(this._parentElement,this._options.transition)}},{key:'_handleBlockedAutoplay',value:function(){var e=this;s_.detect(function(t){if(t){var n=document.querySelector('.pb-stream .avp-p-cn-bp.avp-pos-abs.avp-btn[data-avp-state="play"]'),a=document.querySelector('.pb-stream .avp-spinner.avp-pos-abs');n&&(l_.removeClass(n,'avp-hidden'),n.addEventListener('click',function(){return e._player.play()})),a&&l_.addClass(a,'avp-hidden'),setTimeout(function(){return e._transitionScreen.animateOut()},1e3)}})}},{key:'onContentEnded',value:function(){this._transitionScreen&&this._transitionScreen.animateIn(),this._title&&this._title.animateOut(),this._metadata&&this._metadata.animateOut(),this._cta&&this._cta.hide()}},{key:'onPagingClick',value:function(e){d_['function'](this._on.pagingClick)&&this._on.pagingClick(e),this._transitionScreen&&(this._transitionScreen.update(this._options.contents[e]),this._transitionScreen.animateIn()),this._title&&this._title.animateOut(),this._metadata&&this._metadata.animateOut(),this._cta&&this._cta.hide(),this._handleBlockedAutoplay()}},{key:'_getContent',value:function(e){var t;return t=0>e?0>e?this._options.contents.length-1:e:e===this._options.contents.length-1?0:e,this._options.contents[t]}},{key:'onCtaClick',value:function(){d_['function'](this._on.ctaClick)&&!this._adPlaying&&this._on.ctaClick(this._content)}},{key:'onTitleClick',value:function(){d_['function'](this._on.titleClick)&&!this._adPlaying&&this._on.titleClick(this._content)}},{key:'onPrevOrNextClicked',value:function(e){this._fadeVolume('out',{forceUnmute:!0}),this._transitionScreen&&(this._transitionScreen.update(this._getContent(e)),this._transitionScreen.animateIn()),this._title&&this._title.animateOut(),this._metadata&&this._metadata.animateOut(),this._cta&&this._cta.hide()}},{key:'pauseTimers',value:function(){this._skipTimer.pause(),this._transitionTimer.pause()}},{key:'resumeTimers',value:function(){this._skipTimer.resume(),this._transitionTimer.resume()}},{key:'adStarted',value:function(){this._adPlaying=!0,this._adStartTS=new Date().getTime(),this.hide(),this.pauseTimers(),this._title&&this._title.updateTitle({title:this._options.title.title.ad})}},{key:'adEnded',value:function(){this._adPlaying=!1,this._adDuration=new Date().getTime()-this._adStartTS,this.show(),this.resumeTimers(),this._title&&this._title.updateTitle({title:this._content.title||this._options.title.title.content})}},{key:'hide',value:function(){this._transitionScreen&&this._transitionScreen.hide(),this._metadata&&this._metadata.hide(),this._paging&&this._paging.hide(),this._cta&&this._cta.hide()}},{key:'show',value:function(){this._transitionScreen&&this._transitionScreen.show(),this._metadata&&this._metadata.show(),this._paging&&this._paging.show(),this._cta&&this._cta.show()}},{key:'_hideEl',value:function(e){l_.addClass(e,'pbs-hidden')}},{key:'_showEl',value:function(e){l_.removeClass(e,'pbs-hidden')}},{key:'update',value:function(e,t){var n=this,a=t.contentIndex,i=t.nextContent;this._content=e,this._contentIndex=a,this._nextContent=i,this._transitionScreen&&(this._transitionScreen.update(e),this._transitionScreen.animateIn()),this._cta&&this._cta.hide(),this._title&&this._title.updateTitle({title:e.title||this._options.title.title.content,clickable:!!(e.videoSpecMeta||{}).articleUrl}),setTimeout(function(){n._paging&&n._paging.updatePaging(a),n._transitionScreen&&n._transitionScreen.animateOut(),n._options.videoTeasers&&n._options.videoTeasers.enabled&&n._startTimer(),n._cta&&setTimeout(function(){return n._cta.update(e)},200),n._metadata&&n._metadata.updateMeta(e),vo.isDesktop()&&n._hoverTimer.timeout(function(){n._mouseOver||(n._title&&n._title.animateOut(),n._metadata&&n._metadata.animateOut())},3e3)},1e3)}},{key:'_playNext',value:function(){this._player.next()}},{key:'_playPrev',value:function(){this._player.prev()}},{key:'_fadeVolume',value:function(e){var t=this,n=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{};if(!1===this._player.muted){var a=this._player.volume(),i='in'===e?.1:-.1;this._volumeTimer.fadeOut(function(){var e=Be(100*t._player.volume())/100+i;t._player.setVolume(0<=e?e:0)},50,{stopFn:function(){return 0>=t._player.volume()},finishFn:function(){return setTimeout(function(){t._player.setVolume(a),t._player.unmute()},n.forceUnmute?1:c_)}})}}},{key:'_startTimer',value:function(){var e=this,t=1e3*(this._options.videoTeasers.duration||20),n=this._adDuration>t?this._adDuration+1e3:t;this._skipTimer.timeout(this._playNext.bind(this),n),this._transitionTimer.timeout(function(){e._transitionScreen&&(e._transitionScreen.update(e._nextContent),e._transitionScreen.animateIn()),e._paging&&e._paging.hide(),e._cta&&e._cta.hide(!0),e._title&&e._title.animateOut(),e._metadata&&e._metadata.animateOut(),e._fadeVolume('out')},n-c_),this._adDuration=0}},{key:'_createContainerEl',value:function(){var e=l_.create('div',{class:'pbs-ui-hub '.concat(this._getHubClassNames())}),t=this._parentElement.querySelector('.pbs__player');return'top'===this._options.position?l_.insertFirstChild(t,e):l_.appendChild(t,e),e}},{key:'element',get:function(){return this._element}}]),e}(),__=nt.ViewabilityObserver,g_=nt.is,y_=function(){function e(t){var n=t.target,a=t.timeInView,i=t.onViewability;ct()(this,e),this._target=n,this._timeInView=a,this._onViewability=i,this._viewabilityObserver=new __({threshold:.5}),this._isDispatched=!1,this._isInView=!1}return _t()(e,[{key:'init',value:function(){this._initViewabilityListener()}},{key:'_initViewabilityListener',value:function(){this._viewabilityObserver.observe(this._target,this._onInView.bind(this),this._onOutOfView.bind(this))}},{key:'_onInView',value:function(){this._isInView=!0,setTimeout(this._triggerCallback.bind(this),this._timeInView)}},{key:'_onOutOfView',value:function(){this._isInView=!1}},{key:'_triggerCallback',value:function(){!this._isDispatched&&this._isInView&&(this._isDispatched=!0,this._viewabilityObserver.disconnect(),g_['function'](this._onViewability)&&this._onViewability())}}]),e}(),m_={init:function(e){var t=e.interval,n=e.timeout,a=e.callback,i=setInterval(a,t);setTimeout(function(){return clearInterval(i)},n)}},b_=nt.environment,v_=nt.elements,h_=function(){var e=v_.insert(b_.document().body,'div',{id:'ad-container'},'','<img src="data:image/svg+xml,%3Csvg/%3E" id="ad" class="banner" height="5" width="5" style="position: relative !important;">');return e.style.position='absolute',e},E_={detect:function(){var e=h_();return new Promise(function(t){setTimeout(function(){var n=5>e.offsetHeight;return v_.remove(e),n?t({blocked:!0}):t({blocked:!1})})})}},k_={PARTNER_CODE:'vidplaybuzzjs491747965698',DURATION:30,SUPPORTED_EVENTS:{IMPRESSION:'AdImpression',START:'AdVideoStart',COMPLETE:'AdVideoComplete',PLAYING:'AdPlaying',PAUSED:'AdPaused',VOLUME_CHANGE:'AdVolumeChange',FIST_QUARTILE:'AdVideoFirstQuartile',MID_POINT:'AdVideoMidpoint',THIRD_QUARTILE:'AdVideoThirdQuartile'}},f_=nt.objects,A_=nt.environment,S_=function(){function e(){var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};ct()(this,e),this._config=t,this._dispatcher=null,this._moatDispatcherQueue=[],this._isInitiated=!1,this._isMoatScriptLoaded=!1}return _t()(e,[{key:'_init',value:function(){var e=this._config,t=e.container,n=e.duration,a=e.partnerCode,i=e.url,o=this._onLoad.bind(this),r=this._createIds();try{this._dispatcher=this._initMoatTracking(t,r,n,a,i,o)}catch(t){Ao.error('Error loading Moat script.',t)}}},{key:'_dispatchEvent',value:function(e){this._isSupportedEvent(e)&&(this._dispatcher.adData=this._getUpdatedAdData(e),this._dispatcher.dispatchEvent({type:e.type,adVolume:e.adVolume}),Ao.info('Moat Service: dispatched event.',{type:e.type,adVolume:e.adVolume,adData:this._dispatcher.adData}))}},{key:'dispatch',value:function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};this._isMoatScriptLoaded?this._dispatchEvent(e):this._aggregateEvent(e)}},{key:'_aggregateEvent',value:function(e){this._moatDispatcherQueue.push(e),this._initMoatService(),Ao.info('Moat Service: aggregated event',e)}},{key:'_initMoatService',value:function(){this._isInitiated||(this._init(),this._isInitiated=!0)}},{key:'_dispatchEventsQueue',value:function(){var t=this;this._moatDispatcherQueue.forEach(function(n){return t.dispatch(n)}),Ao.info('Moat Service: dispatch aggregated events',this._moatDispatcherQueue),this._moatDispatcherQueue=[]}},{key:'_isSupportedEvent',value:function(e){var t=f_.values(k_.SUPPORTED_EVENTS);return t.includes(e.type)}},{key:'_getUpdatedAdData',value:function(e){var t=this._dispatcher.adData;return t.ids.zMoatAdSource=e.adSourceId||t.ids.zMoatAdSource,t}},{key:'_createIds',value:function(){return{level1:this._config.host,level2:this._config.channelId,level3:'',level4:'',slicer1:this._config.url,slicer2:'',zMoatAdSource:''}}},{key:'_onLoad',value:function(){Ao.info('Moat service initialized.',this),this._isMoatScriptLoaded=!0,this._dispatchEventsQueue()}},{key:'_initMoatTracking',value:function(t,n,i,o,s,p){var r=A_.document().createElement('script'),c=[];n={adData:{ids:n,duration:i,url:s},dispatchEvent:function(e){this.sendEvent?(c&&(c.push(e),e=c,c=!1),this.sendEvent(e)):c.push(e)}},i='_moatApi'+Ve(1E8*Math.random());var a,u;try{a=t.ownerDocument,u=a.defaultView||a.parentWindow}catch(e){a=document,u=window}return u[i]=n,r.type='text/javascript',r.defer=!0,r.onload=p,t&&t.insertBefore(r,t.childNodes[0]||null),r.src='https://z.moatads.com/'+o+'/moatvideo.js#'+i,n}}]),e}(),P_=n(26),C_=n.n(P_),T_=function(){var e=document.createElement('script');e.src='//www.googletagservices.com/tag/js/gpt.js',e.async=!0,document.body.appendChild(e),window.googletag=window.googletag||{},window.googletag.cmd=window.googletag.cmd||[]},I_=[],x_={initDFP:function(){T_(),window.googletag.cmd.push(function(){window.googletag.enableServices()})},isLoaded:function(){return!!window.googletag&&window.googletag.apiReady&&window.googletag.pubadsReady},createAd:function(e){var t=e.adunitId,n=e.adunitName,a=e.dimensions,i=void 0===a?[]:a,o=e.targeting,r=void 0===o?{}:o;return new Promise(function(e){var a='/'.concat('94166617','/').concat(n);window.googletag.cmd.push(function(){var n=window.googletag.defineSlot(a,i,t).addService(window.googletag.pubads());Object.keys(r).forEach(function(e){n.setTargeting(e,r[e])},void 0),window.googletag.enableServices(),I_.push(n),e(n,I_)})})},show:function(e){window.googletag.cmd.push(function(){if(window.googletag.pubads().isInitialLoadDisabled()){var t=x_.getSlotById(e);window.googletag.pubads().refresh([t])}else window.googletag.display(e)})},clear:function(e){var t=Array.isArray(e)?e:[e];window.googletag.pubads().clear(t.map(function(e){return'string'==typeof e?x_.getSlotById(e):e}))},destroySlots:function(e){var t=Array.isArray(e)?e:[e];window.googletag.destroySlots(t.map(function(e){return'string'==typeof e?x_.getSlotById(e):e}))},refresh:function(e){var t=Array.isArray(e)?e:[e];window.googletag.pubads().refresh(t.map(function(e){return'string'==typeof e?x_.getSlotById(e):e}))},display:function(e){return window.googletag.display(e)},getGoogleTagInstance:function(){return window.googletag},getSlotById:function(e){return I_.find(function(t){return t.getSlotId().getDomId()===e})},onSlotRenderEnded:function(e){var t='string'==typeof e?x_.getSlotById(e):e;return new Promise(function(e){window.googletag.pubads().addEventListener('slotRenderEnded',function(n){n.slot.getSlotId().getDomId()===t.getSlotId().getDomId()&&e(n)})})}},w_=x_,D_=n(27),O_=n.n(D_),M_=nt.elements,L_=nt.time.millisecondsToMinutesAndSeconds,N_=function(){function e(t){var n=t.parentElement,a=void 0===n?null:n,i=t.label;ct()(this,e),this._parentElement=a,this._label=i,this._element=M_.insert(this._parentElement,'div',null,null,null),this._interval=null}return _t()(e,[{key:'start',value:function(e){var t=this,n=e.dismissalTimeout,a=this._getUpdateTimeFunction(n);a(),this._interval=setInterval(a,1e3),setTimeout(function(){clearInterval(t._interval)},n)}},{key:'stop',value:function(){this._interval&&clearInterval(this._interval)}},{key:'_getUpdateTimeFunction',value:function(e){var t=this,n=e;return function(){var e=L_(n),a=e.minutes,i=e.seconds;t._element.innerHTML=''.concat(t._label,' &#8729 ').concat(a,':').concat(9<i?i:'0'.concat(i)),n-=1e3}}}]),e}(),R_=nt.elements,B_='pbs__display-ad',U_=''.concat(B_,'-dfp-ad-unit'),V_=''.concat(B_,'-close-button'),z_=''.concat(B_,'-counter'),G_=function(){function e(t){var n=this,a=t.adunitName,i=t.parentElementId,o=t.onRendered,r=t.onDismissed,s=t.onEmptyFill,l=t.onRefresh,d=t.refreshTimeout,p=t.channelId,c=t.dismissalTimeout;ct()(this,e),O_.a.use(),this._adunitName=a,this._parentElementId=i,this._onRenderedCallback=o,this._onDismissedCallback=r,this._onEmptyFillCallback=s,this._channelId=p,this._onRefreshCallback=l,this._adunitId=null,this._adunitElement=null,this._refreshTimeout=d,this._dismissalTimeout=c,this._initDfpInterface(),this._parentElement=document.getElementById(this._parentElementId),this._displayAdContainer=this._createContainer(),this._closeButtonElement=this._createCloseButton(),this._closeButtonElement.addEventListener('click',function(){return n.hide()}),this._counterContainer=this._createCounterContainer(),this._counter=new N_({parentElement:this._counterContainer,label:'SPONSORED'})}return _t()(e,[{key:'render',value:function(e){var t=this,n=e.dimensions;this._remainingRefreshTimes=this._calculateNumberOfRefreshTimes(),this._adunitId=''.concat(this._adunitName,'_').concat(+new Date),this._adunitElement=R_.insert(this._displayAdContainer,'div',{id:this._adunitId,class:U_},null,null),w_.createAd({adunitName:this._adunitName,adunitId:this._adunitId,dimensions:n,targeting:{channelid:this._channelId}}).then(function(){w_.show(t._adunitId),w_.onSlotRenderEnded(t._adunitId).then(function(n){return t._onRendered(n)})})}},{key:'hide',value:function(){var e=!!(0<arguments.length&&void 0!==arguments[0])&&arguments[0],t=!!(1<arguments.length&&void 0!==arguments[1])&&arguments[1];this._disposeOfAdunit(),this._counter.stop(),tl.publish(Xs.MEDIA.DISPLAY_ADS.ENDED),e?this._onEmptyFillCallback(t):this._onDismissedCallback()}},{key:'_disposeOfAdunit',value:function(){this._adunitElement&&(w_.destroySlots(this._adunitId),R_.remove(this._adunitElement),this._adunitElement=null)}},{key:'_initDfpInterface',value:function(){w_.isLoaded()||w_.initDFP()}},{key:'_createContainer',value:function(){return R_.insert(this._parentElement,'div',{class:B_},null,null)}},{key:'_createCloseButton',value:function(){return this._displayAdContainer||(this._displayAdContainer=this._createContainer()),R_.insert(this._displayAdContainer,'button',{class:V_},null,null)}},{key:'_createCounterContainer',value:function(){return R_.insert(this._displayAdContainer,'div',{class:z_},null,null)}},{key:'_onRendered',value:function(e){e.isEmpty?this.hide(!0):(tl.publish(Xs.MEDIA.DISPLAY_ADS.PLAYING),this._counter.start({dismissalTimeout:this._dismissalTimeout}),this._onRenderedCallback(),this._remainingRefreshTimes&&this._handleDisplayAdRefresh())}},{key:'_handleDisplayAdRefresh',value:function(){var t=this;0<this._remainingRefreshTimes&&(setTimeout(function(){w_.refresh(t._adunitId),w_.display(t._adunitId),w_.onSlotRenderEnded(t._adunitId).then(function(n){return t._onRefreshHandler(n)})},this._refreshTimeout),this._remainingRefreshTimes--)}},{key:'_onRefreshHandler',value:function(e){e.isEmpty?this.hide(!0,!0):(w_.clear(this._adunitId),this._onRefreshCallback(),this._handleDisplayAdRefresh())}},{key:'_calculateNumberOfRefreshTimes',value:function(){return this._dismissalTimeout&&this._refreshTimeout&&Ve(this._dismissalTimeout/this._refreshTimeout)-1}}]),e}(),H_={DISPLAY_AD_MINIMUM_WIDTH_SIZE:233,FLUID:'fluid',STATIC:[{width:300,height:250},{width:320,height:50}]},Y_=Xs.MEDIA.ADS,F_=H_.DISPLAY_AD_MINIMUM_WIDTH_SIZE,W_=function(){function e(t){var n=t.triggerTimeout,a=t.dismissalTimeout,i=t.placementCap,o=void 0===i?0:i,r=t.unfilledCap,s=void 0===r?0:r,l=t.onShow,d=t.onHide,p=t.onAdShouldNotBeTriggered;ct()(this,e),this._triggerTimeout=n,this._dismissalTimeout=a,this._placementCap=o,this._unfilledCap=s,this._placementCounter=0,this._unfilledCapCounter=0,this._onShowCallback=l,this._onHideCallback=d,this._onAdShouldNotBeTriggered=p,this._currentTriggerTimeoutId=null,this._isVideoAdPlaying=!1,this._isServiceActive=!0,this._listen()}return _t()(e,[{key:'onAdRendered',value:function(){setTimeout(this._dismissAd.bind(this),this._dismissalTimeout)}},{key:'trigger',value:function(){this.stopTriggerCounter(),this._triggerAd()}},{key:'startTriggerCounter',value:function(){this._isServiceActive&&!this.isTriggerActive&&(Ao.info('Display-ad: starting trigger countdown'),this._currentTriggerTimeoutId=setTimeout(this._triggerAd.bind(this),this._triggerTimeout))}},{key:'stopTriggerCounter',value:function(){Ao.info('Display-ad: stopping trigger countdown'),clearTimeout(this._currentTriggerTimeoutId),this._currentTriggerTimeoutId=null}},{key:'decrementPlacementCounter',value:function(){0<this._placementCounter&&this._placementCounter--}},{key:'incrementUnfilledCounter',value:function(){this._unfilledCapCounter++}},{key:'deactivate',value:function(){this._isServiceActive=!1}},{key:'_listen',value:function(){tl.subscribe([Y_.CLOSED,Y_.SKIPPED,Y_.ENDED],this._onVideoAdEnd.bind(this)),tl.subscribe(Y_.START,this._onVideoAdStart.bind(this)),tl.subscribe(Xs.STATE.CHANGED,this._onStateChange.bind(this))}},{key:'_onVideoAdStart',value:function(){this._isVideoAdPlaying=!0,this.stopTriggerCounter(),this._dismissAd()}},{key:'_onVideoAdEnd',value:function(){this._isVideoAdPlaying=!1,this.startTriggerCounter()}},{key:'_onStateChange',value:function(e){e===Lc.POSITION.NAME&&this._dismissAd()}},{key:'_triggerAd',value:function(){if(this._currentTriggerTimeoutId=null,this._shouldTriggerAd()){this._placementCounter++,Ao.info('Display-Ad: Triggering placement '.concat(this._placementCounter,' out of ').concat(this._placementCap));var e=this._getDimensions();this._onShowCallback({dimensions:e})}else this._skipAdTrigger()}},{key:'_skipAdTrigger',value:function(){this._currentTriggerTimeoutId=null,this._onAdShouldNotBeTriggered();var e='';this._placementCapReachedLimit()?e='Placement cap reached':this._unfilledCapReachedLimit()&&(e='Unfilled cap reached'),Ao.info('Display-Ad: ad trigger skipped. '.concat(e))}},{key:'_shouldTriggerAd',value:function(){return!this._placementCapReachedLimit()&&!this._unfilledCapReachedLimit()&&this._isPlayerSizeLargeEnough()&&!this._isVideoAdPlaying}},{key:'_placementCapReachedLimit',value:function(){return 0!==this._placementCap&&this._placementCounter>=this._placementCap}},{key:'_unfilledCapReachedLimit',value:function(){return 0!==this._unfilledCap&&this._unfilledCapCounter>=this._unfilledCap}},{key:'_isPlayerSizeLargeEnough',value:function(){var e=lc.getPlayerDimensions(),t=e.width;return t>=F_}},{key:'_dismissAd',value:function(){this._onHideCallback()}},{key:'_getDimensions',value:function(){var e=[H_.FLUID],t=lc.getPlayerDimensions(),n=t.width,a=t.height,i=H_.STATIC.filter(function(e){return n>=e.width&&a>=e.height}).map(function(e){return[e.width,e.height]});return e.push.apply(e,Eo()(i)),e}},{key:'isTriggerActive',get:function(){return this._currentTriggerTimeoutId&&0<this._currentTriggerTimeoutId&&!this._placementCapReachedLimit()}}]),e}(),j_=n(28),Z_=n.n(j_),K_=nt.elements,q_=nt.environment,Q_=nt.device,J_=nt.playerUtil,X_=nt.cookies,$_=function(){function e(t){var n=t.parentElement;ct()(this,e),Z_.a.use(),this._parentElement=n,this._container=K_.insert(this._parentElement,'div',{class:'exp-debug-console'}),this._printAll()}return _t()(e,[{key:'_printAll',value:function(){this._print('time',new Date),this._print('playerId',J_.getPlayerId()),this._print('userId',X_.getUserCookieId()),this._print('session id',q_.getPageLoadUid()),this._print('user agent',Q_.getUserAgent()),this._print('device type',Q_.getType()),this._print('url',q_.url())}},{key:'_print',value:function(e,t){K_.insert(this._container,'div',{},''.concat(e,' - ').concat(t))}}]),e}(),eg=nt.time.millisecondsToSeconds,tg=nt.is,ng=nt.environment,ag=nt.device,ig=Fe.DATA_EVENTS.DATA_EVENTS_NAMES,og=function(){var e=lc.getPlayerDimensions(),t=e.width,n=void 0===t?0:t,a=e.height,i=void 0===a?0:a;return''.concat(n,'x').concat(i)},rg=function(){return El.type},sg=function(){var e={},t=og(),n=rg();return t&&(e.playerSize=t),n&&(e.implementation=n),e},lg=function(e){if(tg.empty(e))return{};var t=ag.getType(),n={mcdSourceId:cr(e,t),adsModeConfig:_r(e),playbackConfig:ur(e,t),stickyConfig:vr(e,t),playerSize:og()};return tg.nullOrUndefined(co.name)||(n.abtestTemplateName=co.name),tg.nullOrUndefined(co.weight)||(n.abtestWeight=co.weight),n},dg={getEventDispatcherConfig:function(e){var t={tracking:pr(e),reporting:Ar(e),country:Tr(e),isLoggerEnabled:hr(e),additionalBaseEventAttributes:lg(e),getDynamicBaseEventAttributes:sg};return t},getDynamicBaseEventAttributes:sg,getAdditionalBaseEventAttributes:lg,getCTAClickEvent:function(e,t,n){var a=ig.CONTENT.CTA_CLICK,i={eventName:a,destinationUrl:e},o=sg();return Object.assign(i,n,o),i.ctaIndex=t,i}},pg=Fe.SERVER_ROUTES,cg=nt.urls,ug=function(e){return'https://'.concat(pg.CTA_REDIRECT,'?').concat(cg.objectToQueries(e))},_g={buildURL:ug,getCTARedirectURL:function(e){var t=e.url,n=e.index,a=e.urlParams,i=e.attributes,o=''.concat(t);if(a&&a.params){var r=a.replace,s=a.params;o=r?cg.replaceQueryParams(t,s):cg.appendQueryParams(t,s)}return ug(dg.getCTAClickEvent(o,n,i))}},gg=n(29),yg=n.n(gg),mg=nt.elements,bg=nt.is,vg=function(){function e(t,n){var a=n.content,i=n.contentIndex,o=n.index;ct()(this,e),yg.a.use(),this._options={content:a,contentIndex:i,index:o},this._on={},bg.string(t)?this._parentElement=document.querySelector(t):bg.element(t)&&(this._parentElement=t),this._parentElement&&this._init()}return _t()(e,[{key:'addEventListener',value:function(e,t){this._on[e]=t}},{key:'_init',value:function(){this._element=this._createEl({parent:this._parentElement,options:{class:'pbs-gallery-item '.concat(0===this._options.contentIndex?'active':''),"data-index":this._options.contentIndex}}),this._createTitle();var e=this._getPosterSrc();e?this._createImage(e):this._createCanvas()}},{key:'_getPosterSrc',value:function(){var e=this._options.content.poster||this._getVideoPoster();return(e||'').replace('so_4','so_4,c_scale,w_200')}},{key:'_createTitle',value:function(){this._title=this._createEl({parent:this._element,tag:'div',text:this._options.content.title,options:{class:'pbs-gallery-item-title '.concat(this._options.content.title?'':'empty-title')}})}},{key:'_createImage',value:function(e){this._image=this._createEl({parent:this._element,tag:'img',options:{class:'pbs-gallery-item-poster',src:e}}),this._image.addEventListener('load',this._loaded.bind(this))}},{key:'_createCanvas',value:function(){var e=this,t=this._element.getBoundingClientRect(),n=t.width,a=t.height;this._canvas=this._createEl({parent:this._element,tag:'canvas',options:{class:'pbs-gallery-item-poster',width:n,height:a}});var i=this._canvas.getContext('2d'),o=mg.create('video',{src:this._getVideoSrc()});o.muted=!0,o.addEventListener('loadeddata',function(){o.play(),setTimeout(function(){return e._waitForVideo(o,i)},2e3)})}},{key:'_waitForVideo',value:function(e,t){var n=this._canvas,a=n.width,i=n.height;t.drawImage(e,0,0,a,i),e.pause(),this._loaded()}},{key:'_getVideoSrc',value:function(){var e=this._options.content.video,t=void 0===e?{}:e,n=t.mp4,a=void 0===n?{}:n,i=t.m3u8,o=void 0===i?{}:i;return a.src||o.src}},{key:'_getVideoPoster',value:function(){var e=this._options.content.video,t=void 0===e?{}:e,n=t.jpg,a=void 0===n?{}:n;return a.src}},{key:'_loaded',value:function(){var e={targets:this._element,easing:'cubicBezier(0, 0, .3, 1)',opacity:[0,1],duration:700};mu.timeline({loop:!1}).add(e)}},{key:'_createEl',value:function(e){var t=e.tag,n=e.parent,a=e.text,i=e.html,o=e.options;return mg.insert(n,t||'div',Te({},o),a,i)}},{key:'element',get:function(){return this._element}}]),e}(),hg=n(30),Eg=n.n(hg),kg=nt.elements,fg=nt.is,Ag=function(){function e(t,n){var a=n.position;ct()(this,e),Eg.a.use(),this._on={},this._options={position:a},fg.string(t)?this._parentElement=document.querySelector(t):fg.element(t)&&(this._parentElement=t),this._parentElement&&this._init()}return _t()(e,[{key:'addEventListener',value:function(e,t){this._on[e]=t}},{key:'setRightPositionForSticky',value:function(){this._galleryStickyPosition='right'}},{key:'setOriginalPosition',value:function(){this._galleryStickyPosition=void 0}},{key:'_init',value:function(){this._createControls(),this._handleScrollEvents()}},{key:'_handleScrollEvents',value:function(){this._handleMobileScrollEvents(),this._handleDesktopScrollEvents()}},{key:'_handleMobileScrollEvents',value:function(){var t=this,n=0,a=0;this._parentElement.addEventListener('touchstart',function(t){n=t.touches[0].clientY,a=t.touches[0].clientX}),this._parentElement.addEventListener('touchmove',function(t){return t.preventDefault&&t.preventDefault(),t.cancelBubble=!0,t.returnValue=!1,!1}),this._parentElement.addEventListener('touchend',function(i){var e=i.changedTouches[0].clientY,o=i.changedTouches[0].clientX,r='right'===t._galleryStickyPosition||'right'===t._options.position?e-n:o-a;10<Oe(r)&&t._scroll(r)})}},{key:'_handleDesktopScrollEvents',value:function(){var t=this;window.addEventListener('mousewheel',function(n){return!t.isMouseOver||(n.preventDefault&&n.preventDefault(),n.returnValue=!1,!1)},{passive:!1}),this._parentElement.addEventListener('mouseenter',function(){t.isMouseOver=!0}),this._parentElement.addEventListener('mouseleave',function(){t.isMouseOver=!1}),this._parentElement.addEventListener('mousewheel',function(n){t._scroll(n.wheelDelta)})}},{key:'_scroll',value:function(e){this._scrolling||(0<e?this._scrollPrev():this._scrollNext())}},{key:'_createControls',value:function(){this._prevButton=this._createEl({parent:this._parentElement,className:'pbs-gallery-prev-button'}),this._nextButton=this._createEl({parent:this._parentElement,className:'pbs-gallery-next-button'}),this._prevButton.addEventListener('click',this._scrollPrev.bind(this)),this._nextButton.addEventListener('click',this._scrollNext.bind(this))}},{key:'_scrollPrev',value:function(){fg['function'](this._on.prev)&&!this._scrolling&&this._on.prev()}},{key:'_scrollNext',value:function(){fg['function'](this._on.next)&&!this._scrolling&&this._on.next()}},{key:'_createEl',value:function(e){var t=e.tag,n=e.parent,a=e.className,i=e.text,o=e.html,r=e.style,s=e.src;return kg.insert(n,t||'div',{class:a,style:r,src:s},i,o)}},{key:'scrolling',get:function(){return this._scrolling},set:function(e){this._scrolling=e}}]),e}(),Sg=n(31),Pg=n.n(Sg),Cg=nt.elements,Tg=nt.is,Ig=2,xg=function(){function e(t,n){var a=n.position,i=n.contents;ct()(this,e),Pg.a.use(),this._options={position:a,contents:i},this._on={},Tg.string(t)?this._parentElement=document.querySelector(t):Tg.element(t)&&(this._parentElement=t),this._parentElement&&'right'===this._options.position&&Cg.insertStyleSheet(document.head,'\n          .pbs:not([data-pbs-position="sticky"]) .pbs__player { width: 80%; }\n          .pbs { text-align: initial; }\n        ')}return _t()(e,[{key:'addEventListener',value:function(e,t){this._on[e]=t}},{key:'show',value:function(){Cg.removeClass(this._element,'hidden')}},{key:'hide',value:function(){Cg.addClass(this._element,'hidden')}},{key:'disable',value:function(){Cg.addClass(this._element,'disabled')}},{key:'enable',value:function(){this._adIsPlaying||Cg.removeClass(this._element,'disabled')}},{key:'setRightClassForSticky',value:function(){Cg.removeClass(this._element,'below'),Cg.addClass(this._element,'right'),this._controls.setRightPositionForSticky()}},{key:'setOriginalClass',value:function(){Cg.removeClass(this._element,'right'),Cg.addClass(this._element,this._options.position),this._controls.setOriginalPosition()}},{key:'init',value:function(e){var t=this;this._element=this._createEl({parent:this._parentElement.querySelector('.pbs__player'),className:'pbs-gallery '.concat(this._options.position)}),this._wrapper=this._createEl({parent:this._element,className:'pbs-gallery-items-wrapper'});var n=Cg.create('div',{class:'pbs-gallery-item-next'},'Playing Next:',null);Cg.insertBeforeSibling(this._wrapper,n),this._controls=new Ag(this._element,{position:this._options.position}),this._items=this._createItems(),this._adjustPlayer(),this._wrapper.addEventListener('click',this._onClick.bind(this)),this._controls.addEventListener('prev',this._scrollPrev.bind(this)),this._controls.addEventListener('next',this._scrollNext.bind(this)),e.onAdClosed(this._adEnded.bind(this)),e.onAdSkipped(this._adEnded.bind(this)),e.onAdStart(this._adPlaying.bind(this)),e.onAdCompleted(this._adEnded.bind(this)),setTimeout(function(){return t._adjustPlayer()})}},{key:'update',value:function(e){var t=e.contentIndex,n=e.stickyClass;this._contentIndex=t;for(var a=this._wrapper.childNodes,o=!1,r=0,i;r<a.length;r++)i=a[r].dataset,parseInt(i.index,10)!==t||o||(this._activate(a[r],n),o=!0)}},{key:'_adPlaying',value:function(){this._adIsPlaying=!0,this.disable()}},{key:'_adEnded',value:function(){this._adIsPlaying=!1,this.enable()}},{key:'_scrollPrev',value:function(){this._wrapper.insertBefore(this._wrapper.lastElementChild,this._wrapper.firstChild);var e='right'===this._options.position?'offsetHeight':'offsetWidth',t=this._wrapper.childNodes[0];this._activate(t,{ignoreClass:!0,toShift:t[e],ignoreOut:!0,inverse:!0})}},{key:'_scrollNext',value:function(){var e='right'===this._options.position?'offsetHeight':'offsetWidth',t=this._wrapper.childNodes[1],n='right'===this._options.position&&vo.isMobile()?4:10;this._activate(t,{ignoreClass:!0,toShift:t[e]+n})}},{key:'_adjustPlayer',value:function(){if('below'===this._options.position){var e=this._element.getBoundingClientRect(),t=e.height,n=ks.playerSize||{},a=n.margin,i=void 0===a?{}:a,o=i.bottom?'var(--pbs-margin-bottom)':'0px';Cg.insertStyleSheet(document.head,'\n        .pbs { margin-bottom: calc(var(--pbs-margin-bottom) + '.concat(t,'px) }\n        .pbs-gallery.below {\n          bottom: calc(0px - ').concat(t,'px)\n        }\n        @media only screen and (max-width: 768px) {\n          .pbs-gallery.below {\n            bottom: calc(0px - ').concat(t,'px - ').concat(o,')\n          }\n        }\n      '))}}},{key:'_createItems',value:function(){var e=this,t=this._options.contents.length,n=8<=t?t:2*t;return Eo()(Array(n)).map(function(n,a){var o=a>=t?a-t:a;return e._createItem(e._options.contents[o],o,a)})}},{key:'_createItem',value:function(e,t,n){return new vg(this._wrapper,{content:e,contentIndex:t,index:n})}},{key:'_scroll',value:function(e){var t=this,n=e.index,a=e.shift,i=e.ignoreOut,o=e.inverse,r=e.stickyClass;if(!(10>a)){this._controls.scrolling=!0;var s={targets:'.pbs-gallery-items-wrapper',easing:'cubicBezier(0, 0, .3, 1)',duration:700,complete:function(){t._swapNodes(n)}},l={targets:'.pbs-gallery-items-wrapper',easing:'steps(1)',duration:700,complete:function(){t._controls.scrolling=!1}},d=['0px',''.concat(-1*a,'px')],p=[''.concat(-1*a,'px'),'0px'];'right'===r||'right'===this._options.position?(s.translateY=o?p:d,!i&&(l.translateY=o?d:p)):'below'===this._options.position&&(s.translateX=o?p:d,!i&&(l.translateX=o?d:p)),mu.timeline({loop:!1}).add(s).add(l)}}},{key:'_swapNodes',value:function(e){for(var t=0,n;t<e;t++)n=this._wrapper.childNodes[0],this._wrapper.appendChild(this._wrapper.removeChild(n))}},{key:'_onClick',value:function(t){t.stopPropagation();var e=t.target;if(e!==this._wrapper){var n=parseInt(e.parentNode.dataset.index||0,10),a=parseInt(this._contentIndex,10);a!==n&&this._onItemClick({contentIndex:n})}t.cancelBubble=!0}},{key:'_activate',value:function(e,t){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:{},a=n.ignoreClass,i=n.toShift,o=n.ignoreOut,r=n.inverse,s=this._getIndex(e),l=i||this._getShift(e);this._scroll({index:s,shift:l,ignoreOut:o,inverse:r,stickyClass:t}),a||this._setActiveClass(e)}},{key:'_onItemClick',value:function(e){var t=e.contentIndex;Tg['function'](this._on.itemClick)&&this._on.itemClick(t)}},{key:'_getShift',value:function(e){return'below'===this._options.position?e.offsetLeft-2*Ig:'right'===this._options.position?e.offsetTop-2*Ig:0}},{key:'_getIndex',value:function(e){for(var t=this._wrapper.childNodes,n=0,a,i;n<t.length;n++)i=t[n].dataset,i.index===e.dataset.index&&void 0===a&&(a=n);return a}},{key:'_setActiveClass',value:function(e){for(var t=this._wrapper.childNodes,n=0,a,i;n<t.length;n++)i=t[n].dataset,Cg.removeClass(t[n],'next'),i.index===e.dataset.index?(Cg.addClass(e,'active'),a=e):Cg.removeClass(t[n],'active');a&&a.nextElementSibling&&Cg.addClass(a.nextElementSibling,'next')}},{key:'_createEl',value:function(e){var t=e.tag,n=e.parent,a=e.className,i=e.text,o=e.html,r=e.style,s=e.src;return Cg.insert(n,t||'div',{class:a,style:r,src:s},i,o)}},{key:'element',get:function(){return this._element}}]),e}(),wg=n(32),Dg=n.n(wg),Og={render:function(){var e=0<arguments.length&&arguments[0]!==void 0?arguments[0]:{},t=e.width,n=void 0===t?54:t,a=e.height,i=void 0===a?54:a;return'<svg width='.concat(n,' height=').concat(i,' viewBox="0 0 54 54" fill="none" xmlns="http://www.w3.org/2000/svg">\n          <g filter="url(#filter0_d)">\n          <path fill-rule="evenodd" clip-rule="evenodd" d="M27 42C35.2843 42 42 35.2843 42 27C42 18.7157 35.2843\n          12 27 12C18.7157 12 12 18.7157 12 27C12 35.2843 18.7157 42 27 42ZM22.5001 20.1152L24.6151 18.0002L33.6151\n          27.0002L24.6151 36.0002L22.5001 33.8852L29.3701 27.0002L22.5001 20.1152Z" fill="white"/>\n          </g>\n          <defs>\n          <filter id="filter0_d" x="0" y="0" width="54" height="54" filterUnits="userSpaceOnUse"\n          color-interpolation-filters="sRGB">\n          <feFlood flood-opacity="0" result="BackgroundImageFix"/>\n          <feColorMatrix in="SourceAlpha" type="matrix" values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0"/>\n          <feOffset/>\n          <feGaussianBlur stdDeviation="6"/>\n          <feColorMatrix type="matrix" values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0.25 0"/>\n          <feBlend mode="normal" in2="BackgroundImageFix" result="effect1_dropShadow"/>\n          <feBlend mode="normal" in="SourceGraphic" in2="effect1_dropShadow" result="shape"/>\n          </filter>\n          </defs>\n          </svg>')}},Mg=nt.elements,Lg='exco_next-video-hide',Ng=function(){function e(t){var n=t.parentElement;ct()(this,e),Dg.a.use(),this._parentElement=n,this._element=this._createContainer(),this._buttonElement=this._createButton({})}return _t()(e,[{key:'onClick',value:function(e){this._element.addEventListener('click',e)}},{key:'show',value:function(){Mg.removeClass(this._element,Lg)}},{key:'hide',value:function(){Mg.addClass(this._element,Lg)}},{key:'_createContainer',value:function(){return Mg.insert(this._parentElement,'div',{class:'exco_next-video'})}},{key:'_createButton',value:function(){var e=Mg.insert(this._element,'div',{class:'exco_next-video-button'},null,Og.render());return e}},{key:'element',get:function(){return this._element}}]),e}(),Rg=Fe.DATA_EVENTS.DATA_EVENTS_NAMES,Bg=Fe.STICKY,Ug=st.Sticky,Vg=rt.reportingDimensions.getAllDimensions,zg=rt.dataEvents.arrangeImpressionEventForData,Gg=rt.GooglePixel,Hg=rt.FacebookPixel,Yg=rt.EnvVars,Fg=rt.cleanio,Wg=rt.ClientSideEventDispatcher,jg=nt.playerUtil,Zg=nt.guid,Kg=nt.environment,qg=nt.is,Qg=nt.storage,Jg=nt.elements,Xg=nt.ViewabilityObserver,$g=nt.sampling,ey=nt.tracking,ty=nt.time,ny=nt.Timer,ay=nt.elementsRatio,iy=nt.ElementObserver,oy=nt.colors.hexToRgb,ry=nt.realTimeCPM.calculateRealTimeCPM,sy=jg.getPlayerIdSelectors,ly=jg.getPlayerPlaceHolder,dy=function(){function e(t,n,a){ct()(this,e),Yg.readVars(n.envVars||[]),this._options=n,this._playerManager=null,this._callbacks=[],this._player={},this._containers=this._getContainers(t,this._options._id),this._eventDispatcher=a,this._isSessionTaggedAsPublisherDemand=!1,this._clientEventsDispatcher=null,this._viewabilityObserver=null,this._staticPlayerViewabilityObserver=null,this._elementObserver=new iy(Kg.document()),this._displayAd=null,this._displayAdService=null,this._adRequestsCounter=0,this._playerContainerId='exp_'.concat(Zg.generate()),lc.setPlayerElement(this._playerContainerId),Ao.info('player - initiated environment',{userAgent:vo.getUserAgent(),device:vo.getDevice()})}return _t()(e,[{key:'init',value:function(){var t=this;return this._waitForPlayerContainerToExist(this._containers,this._options._id).then(this._waitForRootConfigurationsInit.bind(this)).then(this._checkAdBlock.bind(this)).then(function(){return El.fetch()}).then(function(){return t._initContents()}).then(function(){t._shouldInit()&&('time'===t._configuration.lazy.type?t._waitForPlayerTimeLazyLoad().then(t._initPlayer.bind(t)):t._waitForPlayerToBeInView().then(t._initPlayer.bind(t)))})['catch'](function(n){Ao.error('Error while initializing the player, initializing anyway',n),t._initOnPreInitFailure()}),this}},{key:'_checkAdBlock',value:function(){var e=this;return E_.detect().then(function(t){var n=t.blocked;e._isPlayerAdBlocked=n,e._isPlayerAdBlocked&&e._onAdBlockDetected()})}},{key:'_initOnPreInitFailure',value:function(){this._initRootConfigurations(this._containers);try{this._shouldInit()&&this._initPlayer()}catch(t){this._initPlayer()}}},{key:'_shouldInit',value:function(){var e=this._getTargetingData(),t=e.targetingConfig,n=e.targetingAdditionalData;return qg.empty(t)||Qo.isTargeted(t,n)}},{key:'_getTargetingData',value:function(){var e=this._configuration.targeting;Ao.info('player targeting info',e);var t={country:this._configuration.country,isPlayerAdBlocked:this._isPlayerAdBlocked};return Ao.info('player additional data - country',t),{targetingConfig:e,targetingAdditionalData:t}}},{key:'_waitForPlayerContainerToExist',value:function(e,t){var n=this;return new Promise(function(a){if(qg.empty(e)){var i=sy(t);n._elementObserver.observe(function(e){return a(n._onPlayerContainerFound(e))},[i.byId,i.byEmbedId])}else a(e)})}},{key:'_onPlayerContainerFound',value:function(e){return this._elementObserver.disconnect(),Ao.info('Player container found on the DOM',e),[e]}},{key:'_waitForRootConfigurationsInit',value:function(e){try{return Promise.resolve(this._initRootConfigurations(e))}catch(e){return Promise.reject(e)}}},{key:'_getDimensionsParams',value:function(){return Vg({subIdParamName:this._configuration.subIdParamName,country:this._configuration.country,externalUtms:this._configuration.externalReporting},this._rootElement)}},{key:'_initRootConfigurations',value:function(e){this._rootElement=this._rootElement||this._setRoot(e),Ao.info('player - containers set',e),this._configuration=this._initConfigurationService(),this._configuration.logger.enable&&Ao.enable(),Ao.info('Player configurations set'),this._updatePlayerCssAccordingToConfig(),this._dimensionsParams=this._getDimensionsParams(),this._clientEventsDispatcher=new Wg({constantData:{playerId:this._configuration.playerId}})}},{key:'_initContents',value:function(){var e=Jg.dimensions(this._rootElement),t=e.width,n=lc.getBreakpointMaxWidth(lc.getDecreasedBreakpoint(t)),a=El.addMP4WidthExtensions(this._configuration.contents,n);this._configuration.useMp4Extension&&(a=El.removeM3U8Extensions(a)),El.set({exco:a,external:this._configuration.externalVideos,externalCTA:this._configuration.externalCTA,random:this._configuration.random,randomFrom:this._configuration.randomFrom})}},{key:'_waitForPlayerTimeLazyLoad',value:function(){var e=this;return new Promise(function(t){var n=e._configuration.lazy;n.enabled&&n.timeDelay?setTimeout(t,1e3*n.timeDelay):t()})}},{key:'_waitForPlayerToBeInView',value:function(){var e=this;return new Promise(function(t){var n=e._configuration.lazy;n.enabled?(e._viewabilityObserver=new Xg(n),e._viewabilityObserver.observe(n.element,function(){return t(e._onPlayerInView())})):t()})}},{key:'_onPlayerInView',value:function(){var e=this;return new Promise(function(t){var n=e._configuration.lazy.delay;e._viewabilityObserver.disconnect(),n?setTimeout(t,1e3*n):t()})}},{key:'_initTrackPixel',value:function(){this._configuration.googlePixel&&(this._googlePixel=new Gg,this._googlePixel.loadScript()),this._configuration.facebookPixel&&(this._facebookPixel=new Hg,this._facebookPixel.loadScript())}},{key:'_initPlayer',value:function(){return this._initTrackPixel(),this._setCallback(this._options.onReady,this._options.events),Mc.on(Mc.events.DOCUMENT_READY,this._onDocumentReady.bind(this)),this}},{key:'play',value:function(){return this._player.play()}},{key:'pause',value:function(){return this._player.pause()}},{key:'close',value:function(){return this._displayAdService&&this._displayAdService.deactivate(),this._player.close()}},{key:'unmute',value:function(){return this._player.unmute()}},{key:'mute',value:function(){return this._player.mute()}},{key:'playerVolume',value:function(){return this._player.volume()}},{key:'setCurrentTime',value:function(e){this._player.setTime(e)}},{key:'onContentPauseClicked',value:function(e){this._player.onContentPauseClicked(e)}},{key:'onContentPaused',value:function(e){this._player.onContentPaused(e)}},{key:'onContentPlayClicked',value:function(e){this._player.onContentPlayClicked(e)}},{key:'onContentPlaying',value:function(e){this._player.onContentPlaying(e)}},{key:'onAdStart',value:function(e){this._player.onAdStart(e)}},{key:'onAdSkipped',value:function(e){this._player.onAdSkipped(e)}},{key:'onAdClosed',value:function(e){this._player.onAdClosed(e)}},{key:'onAdCompleted',value:function(e){this._player.onAdCompleted(e)}},{key:'_getContainers',value:function(e,t){if(e&&0<e.length)return e;var n=ly(t);return qg.empty(n)?[]:[n]}},{key:'_setRoot',value:function(e){var t=e[0];return hc.setRoot(t),hc.element}},{key:'_initConfigurationService',value:function(){return ks.setConfig(this._options),ks.setOverrides([hc.configFromRoot,co.templateConfig]),ks}},{key:'_setCallback',value:function(e,t){var n=this;this._subscribe(e),t instanceof Object&&Object.keys(t).forEach(function(e){if('function'==typeof n[e]){var a=n[e];n._subscribe(function(){a.call(n,t[e])})}})}},{key:'_subscribe',value:function(e){this._callbacks.push(e)}},{key:'_notify',value:function(e){this._callbacks.forEach(function(t){t&&'function'==typeof t&&t(e)})}},{key:'_onDocumentReady',value:function(){Mc.unsubscribe(Mc.events.DOCUMENT_READY),Ao.info('player - document ready'),this._eventDispatcher.send(Rg.PAGE_VIEW),this._enforceSafeAds(),this._bootPlayer()}},{key:'_enforceSafeAds',value:function(){this._configuration.safeAds&&Fg.inject(this._rootElement)}},{key:'_bootPlayer',value:function(){this._loadCSS(),this._bootGallery(),this._configuration.useChannelsAdPlayer()?this._createChannelsCombinedPlayer():this._createAniviewSinglePlayer()}},{key:'_createChannelsCombinedPlayer',value:function(){var e=this;wc({parentId:this._configuration.playerId,containerId:this._playerContainerId,customDimensions:this._dimensionsParams,abtest:co}).then(function(t){e._player=t,e._player.sendPlayerLoadEvent(),e._player.start(),e._onPlayerInitialized()})}},{key:'_createAniviewSinglePlayer',value:function(){var e=this;this._options.loaded=!0,this._options.divParentId=this._playerContainerId;var t=this._options;t.el=this._rootElement,t.dimensions=this._dimensionsParams,this._playerManager=new Ol(t),this._playerManager.init().then(function(){e._player=e._playerManager.player,e._onPlayerInitialized()})}},{key:'_onPlayerInitialized',value:function(){this._eventDispatcher.send(Rg.PLAYER_LOAD),this._clientEventsDispatcher.playerLoad({title:El.current.title}),this._queueMPlayerLoad();try{this._initiateServices()}catch(t){Ao.error('player - error while trying to initiate player features',t)}this._initiateSticky(),this._notify(this),Ao.info('player - all services and features initiated')}},{key:'_queueMPlayerLoad',value:function(){var e=this,t=new ny,n=ty.secondsToMs(10),a=!0,i=function(){a&&(a=!1,e._eventDispatcher.send(Rg.M_PLAYER_LOAD))},o=n-Kg.timePassedFromPageLoad();0<o?(this._player.onAdImpression(function(){'working'===t.state&&(t.stop(),i())}),t.timeout(i,o)):i()}},{key:'_initiateServices',value:function(){this._addListeners(),this._bootAds(),this._bootState(),this._bootContents(),this._bootComponents(),this._setInitialSizeBreakpoint(),this._setLogoPositionAttribute(),s_.detect(this._onAutoplayBlocked.bind(this)),this._initViewablePlayerLoadDispatcher(),this._initHeartBeatEventHandler(),this._initGallery()}},{key:'_initiateSticky',value:function(){this._stickyConfig.enable&&(this._stickyElement=document.getElementById(this._playerContainerId),this._sticky=new Ug,this._configuration.isAutoPlay()?(this._player.onContentStart(this._triggerSticky.bind(this)),this._player.onAdImpression(this._triggerSticky.bind(this))):this._triggerSticky(),this._stickyConfig.isUpperSticky&&this._listenToUpperStickyEvents())}},{key:'_listenToUpperStickyEvents',value:function(){var t=this,e=function(n){var e=(n.changedTouches||[])[0]||n,i=e.clientX,o=e.clientY;if(a=a||t._configuration.stickyCurrentPosition,a.top>o||a.left>i){var r=lc.getPlayerDimensions(),s=r.width,l=r.height;t._sticky.unset(t._stickyElement,function(){return t._player.resize(s,l)})}},n=function(){a=t._configuration.stickyCurrentPosition,t._sticky.updatePosition(t._stickyElement,a)},a;this._sticky.onSet(function(){t._stickyConfig.isAttachedToElement&&Kg.window().addEventListener('scroll',n),Kg.window().addEventListener('click',e),Kg.window().addEventListener('touchstart',e)}),this._sticky.onUnset(function(){Kg.window().removeEventListener('click',e),Kg.window().removeEventListener('scroll',n),Kg.window().removeEventListener('touchstart',e)})}},{key:'_triggerSticky',value:function(){this._stickyTriggered||(this._stickyTriggered=!0,this._eventDispatcher.send(Rg.STICKY_TRIGGERED),this._stickyConfig.stickyOnly?this._onStaticOutOfView():(this._staticPlayerViewabilityObserver=new Xg({threshold:.5}),this._staticPlayerViewabilityObserver.observe(this._rootElement,this._onStaticInView.bind(this),this._onStaticOutOfView.bind(this))))}},{key:'_addListeners',value:function(){tl.subscribe(Xs.ELEMENT.STICKY,this._onSticky.bind(this)),tl.subscribe(Xs.ELEMENT.STATIC,this._onStatic.bind(this)),tl.subscribe(Xs.ELEMENT.STICKY_CLOSE,this._onStickyClose.bind(this)),this._player.onContentStart(this._onContentStart.bind(this)),this._player.onContentEnded(this._onContentEnded.bind(this)),this._player.onNextClicked(this._onNextClicked.bind(this)),this._player.onPrevClicked(this._onPrevClicked.bind(this)),this._player.onContentPlayClicked(this._onContentPlayClicked.bind(this)),this._player.onContentPauseClicked(this._onContentPauseClicked.bind(this)),this._player.onContentMuted(this._onContentMuted.bind(this)),this._player.onContentUnMuted(this._onContentUnMuted.bind(this)),this._player.onAbortedError(this._onContentAbortedError.bind(this)),this._player.onNetworkError(this._onContentNetworkError.bind(this)),this._player.onDecodeError(this._onContentDecodeError.bind(this)),this._player.onSourceNotSupportedError(this._onContentSourceNotSupportedError.bind(this)),this._player.onAdImpression(this._onAdImpression.bind(this)),this._player.onAdSkipped(this._onAdSkipped.bind(this)),this._player.onAdClosed(this._onAdClosed.bind(this)),this._player.onAdRequest(this._onAdRequest.bind(this))}},{key:'_onContentStart',value:function(e){var t=e.data.source;El.updateContent(t);var n=El.currentContext.join(',');this._eventDispatcher.send(Rg.CONTENT.START,{enrichedData:{irisContext:n},extraData:{irisContext:n}})}},{key:'_onContentEnded',value:function(){this._eventDispatcher.send(Rg.CONTENT.COMPLETE)}},{key:'_onNextClicked',value:function(){this._eventDispatcher.send(Rg.CONTENT.NEXT_BUTTON_CLICKED)}},{key:'_onPrevClicked',value:function(){this._eventDispatcher.send(Rg.CONTENT.PREVIOUS_BUTTON_CLICKED)}},{key:'_onContentPlayClicked',value:function(){this._eventDispatcher.send(Rg.CONTENT.PLAY_BUTTON_CLICKED)}},{key:'_onContentPauseClicked',value:function(){this._eventDispatcher.send(Rg.CONTENT.PAUSE_BUTTON_CLICKED)}},{key:'_onContentMuted',value:function(){this._eventDispatcher.send(Rg.CONTENT.MUTE_BUTTON_CLICKED)}},{key:'_onContentUnMuted',value:function(){this._eventDispatcher.send(Rg.CONTENT.UNMUTE_BUTTON_CLICKED)}},{key:'_onContentAbortedError',value:function(e){this._eventDispatcher.send(Rg.CONTENT.ERRORS.ABORTED,{extraData:{errorMessage:e}})}},{key:'_onContentNetworkError',value:function(e){this._eventDispatcher.send(Rg.CONTENT.ERRORS.NETWORK,{extraData:{errorMessage:e}})}},{key:'_onContentDecodeError',value:function(e){this._eventDispatcher.send(Rg.CONTENT.ERRORS.DECODE,{extraData:{errorMessage:e}})}},{key:'_onContentSourceNotSupportedError',value:function(e){this._eventDispatcher.send(Rg.CONTENT.ERRORS.SRC_NOT_SUPPORTED,{extraData:{errorMessage:e}})}},{key:'_onAdImpression',value:function(e){var t=zg(xe({},e));this._eventDispatcher.send(Rg.AD.IMPRESSION,{extraData:xe({event:e.payload},t),enrichedData:t}),this._handleGPEventOnAdImpression(),this._handleFBEventOnAdImpression(),this._handleWhiteOpsTrackingOnAdImpression(e),this._tagPlayerSessionOnFirstAdImpression(e)}},{key:'_handleGPEventOnAdImpression',value:function(){this._configuration.googlePixel&&this._googlePixel.sendGPEvent()}},{key:'_handleFBEventOnAdImpression',value:function(){this._configuration.facebookPixel&&this._facebookPixel.sendFPEvent()}},{key:'_handleWhiteOpsTrackingOnAdImpression',value:function(e){var t=this._configuration.whiteOps;null!==t&&void 0!==t&&t.enabled&&$g.shouldSample(t.sampleRate)&&Jg.fireImgElementEvent(ey.getWhiteOpsPixelSrc(e.adSourceId))}},{key:'_tagPlayerSessionOnFirstAdImpression',value:function(e){!this._isSessionTaggedAsPublisherDemand&&this._player.isPublisherOwnerType(e)&&(this._player.sendPublisherDemandSessionEvent(),this._eventDispatcher.send(Rg.PUBLISHER_DEMAND_SESSION),this._isSessionTaggedAsPublisherDemand=!0)}},{key:'_onAdSkipped',value:function(){this._eventDispatcher.send(Rg.AD.SKIPPED)}},{key:'_onAdRequest',value:function(){if(this._adRequestsCounter++,1e3<=this._adRequestsCounter){var e={enrichedData:{eventsCounter:this._adRequestsCounter}};this._eventDispatcher.send(Rg.MCD_AD_REQUESTS,e),this._adRequestsCounter=0}}},{key:'_onAdClosed',value:function(){this._configuration.nextContentAfterAd&&this._player.next()}},{key:'_bootAds',value:function(){Vc.init({playerprovider:this._player,eventDispatchers:this._getAdListeners()}),this._bootClientAdImpressionListeners()}},{key:'_bootClientAdImpressionListeners',value:function(){var e=this;this._player.onAdImpression(function(t){var n=t.cpm,a=ry(n,e._configuration.channelRevShare);e._clientEventsDispatcher.adImpression({cpm:a});var i=Jg.getGlobalFunctionFromAttribute(e._rootElement,'onImpression');i&&i({cpm:a})})}},{key:'_getAdListeners',value:function(){var e=[];if($g.shouldSample(ks.moatSamplingRate)){var t=this._getMoatDispatcher();e.push(t)}else Ao.info('Moat turned off due to sampling of '.concat(ks.moatSamplingRate,'%.'));return e}},{key:'_getMoatDispatcher',value:function(){var e=this._getMoatConfig();return new S_(e)}},{key:'_getMoatConfig',value:function(){var e={container:this._player.container,duration:k_.DURATION,partnerCode:k_.PARTNER_CODE,url:Kg.url(),channelId:ks.avChannelId,host:Kg.host()};return e}},{key:'_bootState',value:function(){Wc.set(this._player)}},{key:'_bootContents',value:function(){El.listen({playerprovider:this._player,videotag:this._rootElement.querySelector('video')}),El.onchange(this._onContentChange.bind(this))}},{key:'_onContentChange',value:function(e){this._gallery&&this._gallery.update({contentIndex:El.currentIndex,stickyClass:this._isSticky?'right':void 0}),this._uiHub.update(e,{contentIndex:El.currentIndex,nextContent:El.nextContent}),El.containsCTAActions(e)?ks.showPlayButtonWithCTA?Wc.setLayoutType(zc.CTA_BTN_PLAY_BTN_PROGRESS_BAR):Wc.setLayoutType(zc.FULL_CTA_PROGRESS_BAR):Wc.setLayoutType(zc.PLAYER_GUI),this._updateLayout()}},{key:'_bootComponents',value:function(){var e=this._rootElement.querySelector('#'.concat(this._playerContainerId)),t=Jg.insert(e,'div',{class:'pbs__ui'});this._configuration.isDisplayAdEnabled&&this._bootDisplayAdComponent(),this._configuration.console.enable&&this._bootDebugConsole(t),this._bootUiHub(t),this._gallery||this._bootNextVideoButton(t)}},{key:'_bootGallery',value:function(){var e=this,t=El.get(),n=this._configuration.videoGallery;return n&&n.enabled&&4<=t.length&&(this._gallery=new xg(this._rootElement,{position:n.position||'right',contents:t}),this._gallery.addEventListener('itemClick',function(t){e._player.setContentByIndex(t)})),this._gallery}},{key:'_bootUiHub',value:function(){var e=this,t=this._configuration.cta||{};this._uiHub=new u_(this._rootElement,{player:this._player,paging:this._configuration.paging,title:this._configuration.videoTitle,transition:this._configuration.transition,metadata:this._configuration.metadata,videoTeasers:this._configuration.videoTeasers,cta:xe(xe({},t.button),{},{stickyPosition:this._stickyConfig.position.raw})||{},contents:El.get(),borderRadius:this._configuration.borderRadius}),this._uiHub.addEventListener('ctaClick',function(t){var n=t.videoSpecMeta.articleUrl;n?e._sendCtaClick(n,El.currentIndex):e._onCTAClick()}),this._uiHub.addEventListener('titleClick',function(t){var n=t.videoSpecMeta.articleUrl;n?e._sendCtaClick(n,El.currentIndex):e._onCTAClick()}),this._uiHub.addEventListener('pagingClick',function(t){e._player.play(),e._player.setContentByIndex(t)})}},{key:'_bootNextVideoButton',value:function(e){var t=this;this._nextVideo=new Ng(e),this._nextVideo.onClick(function(){return t._player.next()})}},{key:'_onCTAClick',value:function(){if(El.isCurrentActionCTA()){var e=El.action,t=e.data;t=void 0===t?{}:t;var n=t.url,a=e.index;this._sendCtaClick(n,a)}}},{key:'_sendCtaClick',value:function(e,t){var n=_g.getCTARedirectURL({url:e,index:t,urlParams:this._configuration.reporting.passThroughURLParams,attributes:this._eventDispatcher.baseAttributes});this._player.sendCTAClickedEvent(),this._clientEventsDispatcher.ctaClicked({title:El.current.title}),Kg.redirect(n)}},{key:'_bootDebugConsole',value:function(e){this._debugConsole=new $_({parentElement:e})}},{key:'_bootDisplayAdComponent',value:function(){this._displayAd=new G_({adunitName:this._configuration.displayAdUnitId,parentElementId:this._playerContainerId,refreshTimeout:this._configuration.displayAdRefreshTimeout,dismissalTimeout:this._configuration.displayAdDismissalTimeout,onRendered:this._onDisplayAdRendered.bind(this),onDismissed:this._onDisplayAdDismissed.bind(this),onEmptyFill:this._onDisplayAdEmptyFill.bind(this),onRefresh:this._onDisplayAdRefresh.bind(this),channelId:this._configuration.avChannelId}),this._displayAdService=new W_({triggerTimeout:this._configuration.displayAdTriggerTimeout,dismissalTimeout:this._configuration.displayAdDismissalTimeout,placementCap:this._configuration.displayAdPlacementCap,unfilledCap:this._configuration.displayAdUnfilledCap,onShow:this._onShowDisplayAd.bind(this),onHide:this._onHideDisplayAd.bind(this),onAdShouldNotBeTriggered:this._onDisplayAdShouldNotBeTriggered.bind(this)}),this._displayAdService.startTriggerCounter()}},{key:'_setInitialSizeBreakpoint',value:function(){var e=hc.playerContainerElement,t=Jg.dimensions(e),n=t.width,a=lc.getBreakpoint(n);hc.setDataAttribute('size',a)}},{key:'_loadCSS',value:function(){C_.a.use(),qg.empty(this._configuration.customCSS)||Jg.insertStyleSheet(window.document.head,this._configuration.customCSS)}},{key:'_setLogoPositionAttribute',value:function(){ks.logo&&ks.logoPosition&&hc.setDataAttribute('logo-pos',ks.logoPosition)}},{key:'_onSticky',value:function(){this._player.resize(),this._updateLayout()}},{key:'_onStatic',value:function(){this._player.resize(),this._updateLayout()}},{key:'_updateLayout',value:function(){Wc.is.ctaWithPlayButtonLayout?this._player.playButtonGUIOnly():Wc.is['static']?this._player.setFullGUI():Wc.is.sticky&&this._player.setMinimalGUI()}},{key:'_onStickyClose',value:function(){this._eventDispatcher.send(Rg.STICKY_CLOSE_BUTTON_CLICKED),this._clientEventsDispatcher.playerClosed({title:El.current.title}),this._setPlayerPlaybackModeOnStickyClose(),this._stickyConfig.isNoNPersistentPerSession&&this._persistStickyCloseForSession(),this._stickyConfig.stickyOnly&&this.close()}},{key:'_setPlayerPlaybackModeOnStickyClose',value:function(){var e=this._stickyConfig.closeButtonBehavior;e!==Bg.PLAYER_BEHAVIOR_ON_CLOSE.CONTINUE&&this.pause()}},{key:'_persistStickyCloseForSession',value:function(){Qg.getSessionItem(Bg.STICKY_CLOSE_STORAGE_KEY)||(Qg.setSessionItem(Bg.STICKY_CLOSE_STORAGE_KEY,!0),Ao.info('Persist sticky close storage parameter set.'))}},{key:'_onAdBlockDetected',value:function(){Ao.info('Ad-blocker detected'),this._eventDispatcher.send(Rg.AD_BLOCKER_DETECTED)}},{key:'_onAutoplayBlocked',value:function(e){Ao.info('Autoplay block detected - '.concat(e)),this._eventDispatcher.send(Rg.AUTOPLAY_BLOCKED),this._configuration.isDisplayAdEnabled&&this._displayAdService&&this._configuration.displayAdShouldTriggerOnAutoplayBlock&&this._configuration.isAutoPlay()&&this._displayAdService.trigger()}},{key:'_calcRemainingWidthForGallery',value:function(){return this._stickyConfig=this._configuration.sticky,this._configuration.stickyPosition===Bg.POSITION.UPPER_LARGE||this._configuration.stickyPosition===Bg.POSITION.UPPER_SMALL?ay.calculateRemainingWidthFromViewPort(this._stickyConfig.widthSize):'25%'}},{key:'_calcStickyHeight',value:function(){return''.concat(ay.calculateHeightUponRatio(this._stickyConfig.widthSize,16/9),'px')}},{key:'_updatePlayerCssAccordingToConfig',value:function(){var e=null===(b=this._configuration)||void 0===b||null===(v=b.cta)||void 0===v||null===(h=v.button)||void 0===h?void 0:h.color,t=this._configuration,n=t.font,a=t.pagingColor,i=t.titleBackgroundColor,o=t.titleTextColor,r=t.progressBarColor,s=t.transitionBackgroundColor,l=t.playButtonColor,d=oy(a)||{r:0,g:0,b:0},p=oy(r)||{r:0,g:0,b:0},c=oy(i)||{r:0,g:0,b:0},u=this._configuration.playerSize||{},_=u.width||'100%',g=this._getPlayerMargins(u),y=this._calcRemainingWidthForGallery(),m=this._calcStickyHeight(),b,v,h;this._adjustWidth(u.margin||{}),this._importFont(n),Jg.insertStyleSheet(Kg.window().document.head,'.pbs {\n      --pbs-width:'.concat(_,';\n      --pbs-margin-top:').concat(g.top,';\n      --pbs-margin-right:').concat(g.right,';\n      --pbs-margin-bottom:').concat(g.bottom,';\n      --pbs-margin-left:').concat(g.left,';\n      --pbs-color-progress-bar:').concat(r,';\n      --pbs-color-transition:').concat(s,';\n      --pbs-color-play-button:').concat(l,';\n      --pbs-color-progress-bar-rgb:').concat(p.r,', ').concat(p.g,', ').concat(p.b,';\n      --exco-paging-color-rgb:').concat(d.r,', ').concat(d.g,', ').concat(d.b,';\n      --exco-paging-color:').concat(a,';\n      --exco-cta-color-sticky:').concat(e,';\n      --exco-title-text-color:').concat(o,';\n      --exco-title-background-color:').concat(i,';\n      --exco-title-background-color-rgb:').concat(c.r,', ').concat(c.g,', ').concat(c.b,';\n      --exco-remaining-width-sticky:').concat(y,';\n      --exco-sticky-player-height:').concat(m,';\n      --exco-font-family:').concat(n.family,';\n      --exco-font-weight:').concat(n.weight,';\n       }'))}},{key:'_importFont',value:function(e){e&&'Arial'!==e&&Jg.insertStyleSheet(Kg.window().document.head,'@import url(\'https://fonts.googleapis.com/css2?family='.concat(e.family,'&display=swap\');'))}},{key:'_getPlayerMargins',value:function(e){var t=this._configuration.cta||{},n=this._configuration.videoGallery||{},a=El.anyContentContainsCTAActions()||(t.button||{}).enabled,i=n.enabled&&'below'===n.position,o=vo.isMobile()&&this._configuration.videoTitle.enabled;if(!e.margin&&!e.width&&!a&&!i)return{top:'unset',right:'unset',bottom:'unset',left:'unset'};var r=Object.assign({},e.margin);return r.top=''.concat(r.top||0,'px'),r.right=r.right?''.concat(r.right,'px'):''.concat(r.left?'0px':'auto'),r.left=r.left?''.concat(r.left,'px'):''.concat('auto'===r.right?'auto':'0px'),i||o?r.bottom=''.concat(r.bottom||0,'px'):a&&(r.bottom=r.bottom||a?''.concat(r.bottom||25,'px'):'0px'),r}},{key:'_adjustWidth',value:function(e){var t=e.left,n=void 0===t?0:t,a=e.right,i=void 0===a?0:a;Jg.insertStyleSheet(Kg.window().document.head,'\n    .pbs {\n      width: calc(100% - '.concat(parseInt(n,10)+parseInt(i,10),'px)\n    }\n    '))}},{key:'_initViewablePlayerLoadDispatcher',value:function(){var e=new y_({target:this._player.container,timeInView:ty.secondsToMs(2),onViewability:this._onPlayerLoadViewability.bind(this)});e.init()}},{key:'_onPlayerLoadViewability',value:function(){this._player.sendViewablePlayerLoadEvent(),this._eventDispatcher.send(Rg.VIEWABLE_PLAYER_LOAD)}},{key:'_onHeartBeatCallback',value:function(){this._player.sendHeartBeatEvent()}},{key:'_initHeartBeatEventHandler',value:function(){var e={interval:ty.secondsToMs(10),timeout:ty.hoursToMs(1),callback:this._onHeartBeatCallback.bind(this)};m_.init(e)}},{key:'_onShowDisplayAd',value:function(e){this._displayAd.render(e)}},{key:'_onHideDisplayAd',value:function(){this._displayAd.hide()}},{key:'_onDisplayAdShouldNotBeTriggered',value:function(){this._displayAdService.startTriggerCounter()}},{key:'_onDisplayAdRendered',value:function(){this._player.hideGUI(),this._player.pauseUsingButton(),this._displayAdService.onAdRendered(),this._gallery&&this._gallery.disable(),Ao.info('Display-Ad Rendered')}},{key:'_onDisplayAdEmptyFill',value:function(){this._player.playUsingButton(),this._updateLayout(),this._displayAdService.decrementPlacementCounter(),this._displayAdService.incrementUnfilledCounter(),this._displayAdService.startTriggerCounter(),this._gallery&&this._gallery.enable(),Ao.info('Display-Ad No Fill')}},{key:'_onDisplayAdDismissed',value:function(){this._player.playUsingButton(),this._updateLayout(),this._displayAdService.startTriggerCounter(),this._gallery&&this._gallery.enable(),Ao.info('Display-Ad Dismissed')}},{key:'_onDisplayAdRefresh',value:function(){Ao.info('Display-Ad Refresh')}},{key:'_setStaticMode',value:function(){var e=this;this._isSticky=!1;var t=Jg.dimensions(this._rootElement),n=t.width,a=t.height;this._sticky.unset(this._stickyElement,function(){return e._player.resize(n,a)}),this._gallery&&(this._gallery.setOriginalClass(),this._gallery.update({contentIndex:El.currentIndex})),this._dispatchStickyChangeEvent()}},{key:'_onStaticInView',value:function(){this._staticPlayerWasInView=!0,this._setStaticMode()}},{key:'_onStaticOutOfView',value:function(){var e=this;this._staticOutOfViewTriggered||this._eventDispatcher.send(Rg.STATIC_PLAYER_OUT_OF_VIEW_FIRST_TIME),this._staticOutOfViewTriggered=!0;var t=xe(xe({},this._stickyConfig),{},{isCloseButtonClicked:this._stickyCloseButtonClicked,onCloseButtonClickCallback:this._onCloseButtonClickCallback.bind(this),staticPlayerSize:Jg.dimensions(this._rootElement),staticPlayerWasInView:this._staticPlayerWasInView,onResize:function(t,n){return e._onStickyResize(t,n)}}),n=this._sticky.shouldShowSticky(t);n&&(this._isSticky=!0,this._sticky.set(this._stickyElement,t),this._dispatchStickyChangeEvent(),this._gallery&&(this._gallery.setRightClassForSticky(),this._gallery.update({contentIndex:El.currentIndex,stickyClass:this._isSticky?'right':void 0})))}},{key:'_dispatchStickyChangeEvent',value:function(){var e={isSticky:this._isSticky};tl.publish(Xs.ELEMENT.STICKY_CHANGED,e)}},{key:'_onCloseButtonClickCallback',value:function(){this._staticPlayerWasInView=!1,this._stickyConfig.stickyOnly?this._sticky.hideStatic(this._rootElement):this._setStaticMode(),this._stickyCloseButtonClicked=!0,tl.publish(Xs.ELEMENT.STICKY_CLOSE)}},{key:'_onStickyResize',value:function(e,t){var n=this;this._player.resize(e,t);var a=Jg.dimensions(this._stickyElement),i=a.width,o=a.height;i!==e&&o!==t&&setTimeout(function(){n._player.resize(e,t)},1e3)}},{key:'_initGallery',value:function(){this._gallery&&this._gallery.init(this._player)}},{key:'id',get:function(){return this._options._id}},{key:'container',get:function(){return this._container}}]),e}(),py=function(){function e(t){var n=t.options,a=t.eventDispatcher;ct()(this,e),this._options=n,this._players=[],this._PbStream=dy,this._eventDispatcher=a}return _t()(e,[{key:'Player',value:function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:[],t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{};return this._createPlayer(e,this._getOptions(t))}},{key:'_getOptions',value:function(e){return Object.assign({},this._options,e)}},{key:'_createPlayer',value:function(e,t){var n=new this._PbStream(e,t,this._eventDispatcher).init();return this._addToPlayerList(n),n}},{key:'_addToPlayerList',value:function(e){this._players.push(e)}},{key:'players',get:function(){return this._players}},{key:'options',get:function(){return this._options}}]),e}(),cy=Fe.PLACEMENT_PLAYER_LOCATION,uy=nt.is,_y=nt.elements,gy=nt.playerUtil.getPlayerPlaceHolder,yy=function(e,t){var n=gy(t),a=my(e.selector);uy.empty(a)||by(e.position,n,a)},my=function(e){return document.querySelector(e)},by=function(e,t,n){switch(e){case cy.BEFORE:_y.insertBeforeSibling(n,t);break;case cy.AFTER:_y.insertNextSibling(n,t);break;case cy.FIRST_CHILD:_y.insertFirstChild(n,t);break;case cy.LAST_CHILD:_y.appendChild(n,t);break;default:}},vy=Fe.DATA_EVENTS.DATA_EVENTS_NAMES,hy=rt.DataEventsDispatcher,Ey=nt.is,ky=nt.objects,fy=function(){function e(t){var n=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{};ct()(this,e),this._streamFactory=n,this._playerId=dr(t),this._config=t}return _t()(e,[{key:'render',value:function(){Ey.empty(this._config)||(this._initConfigWithABTest(),this._adjustPlayerLocation(),this._initEventDispatcher(),this._dispatchSDKLoadedEvent(),this._createPlayer())}},{key:'_initEventDispatcher',value:function(){var e=dg.getEventDispatcherConfig(this._config);this._eventDispatcher=new hy(e)}},{key:'_initConfigWithABTest',value:function(){co.generate(Er(this._config)),this._config=ky.merge([{},this._config,co.templateConfig])}},{key:'_dispatchSDKLoadedEvent',value:function(){this._eventDispatcher.send(vy.SDK_LOADED)}},{key:'_createPlayer',value:function(){var e=new py({options:this._config,eventDispatcher:this._eventDispatcher}),t=null===(n=window.pbStreamOptions)||void 0===n||null===(a=n[this._playerId])||void 0===a?void 0:a.multiplePlayers,n,a,i;null!==(i=this._config)&&void 0!==i&&i.isFactory?this._streamFactory[this._playerId]=e:t?this._streamFactory=Object.assign(this._streamFactory,e):e.Player()}},{key:'_adjustPlayerLocation',value:function(){var e=kr(this._config);Ey.empty(e)||yy(e,this._playerId)}}]),e}(),Ay=nt.environment,Sy=Ay.downloadScript,Py=Ay.getEnvPrefix,Cy=window.STREAM_ID,Ty=window.STREAM_CONFIGS[Cy];window.pbStream=window.pbStream||{};var Iy=window.pbStream,xy=new fy(Ty,Iy);xy.render(),{load:function(){var e=0<arguments.length&&arguments[0]!==void 0?arguments[0]:{},t=e.id;if(t){var n='//'.concat(Py(),'director.ex.co/embed/').concat(t);Sy(n,{async:!0})}}}.load((Ty||{}).director)}]);