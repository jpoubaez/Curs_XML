var maqina={text:function(t,i,e,n,s){this.fontContainer=document.querySelector(t),this.textCoverage=i,this.minFontSize=e,this.letterSpacing=n,this.parentContainer=document.querySelector(s)||document.querySelector(t).parentElement,this.fontFamily=window.getComputedStyle(this.fontContainer).getPropertyValue("font-family"),this.selector=t,this.canvas=document.createElement("canvas"),this.context=this.canvas.getContext("2d"),this.sampleTextSize=32,this.context.font=this.sampleTextSize+"px "+this.fontFamily,window.addEventListener("load",this.resizeFont.bind(this)),window.top.addEventListener("resize",this.resizeFont.bind(this)),window.addEventListener("resize",this.resizeFont.bind(this))},sequence:function(){this.parentContainer="",this.animationContainer="spritesheet",this.imgsNumber=0,this.spriteArray=[],this.imgsName="spritesheet",this.imgExtension="png",this.spritePath="assets/sprite",this.animationSpeed=25,this.imgToShow=0,this.isAnimation=!1,this.initialImg=0,this.loop=!1,this.firstPlay=!0,this.hasEndedAnim=!1}},text=maqina.text.prototype,sequence=maqina.sequence.prototype;text.resizeFont=function(){var t=this.fontContainer.textContent.length,i=this.parentContainer.offsetWidth,e=this.context.measureText(this.fontContainer.textContent).width,n=this.sampleTextSize,s=this.textCoverage,o=parseFloat(getComputedStyle(this.fontContainer).letterSpacing),a=this.minFontSize;o=isNaN(o)?0:o;var h=Math.round((i-o*(t-1))/e*n*s/100),r=document.querySelectorAll(this.selector);Array.prototype.forEach.call(r,function(t){t.style.fontSize=h<a?a+"px":h+"px"})},sequence.setOptions=function(t){this.parentContainer=t.parentContainer,this.imgsNumber=t.imgsNumber,this.animationContainer=t.animationContainer,this.imgsName=t.imgsName,this.imgExtension=t.imgExtension,this.spritePath=t.spritePath,this.animationSpeed=t.animationSpeed,this.loop=t.loop},sequence.start=function(){this.firstPlay&&(this.firstPlay=!1,this.addImgsToDom(this.animationContainer,"sprite",this.imgsNumber)),this.isAnimation=!0,this.imgToShow=this.initialImg,this.animation(this.hasEnded)},sequence.pause=function(){this.isAnimation=!1},sequence.animation=function(t){if(this.isAnimation){var i=this;this.imgToShow<this.imgsNumber?(this.setAllToHidden(),this.setToVisible(this.imgToShow),this.imgToShow++,setTimeout(function(){i.animation(t)},this.animationSpeed)):t(this)}},sequence.setToVisible=function(t){0!=this.spriteArray.length&&(this.spriteArray[t].style.visibility="visible")},sequence.addImgsToDom=function(t,i,e){var n=document.getElementById(this.parentContainer),s=this.elementCreator("div",t,i);this.appendChildDivInDom(n,s);for(var o=0;o<e;o++){var a,h;h=0!=o?"pos-a":"pos-r",(a=this.elementCreator("img",this.animationContainer+"-"+o,h+" "+this.animationContainer)).src=this.spritePath+"/"+this.imgsName+"-"+o+"."+this.imgExtension,this.spriteArray.push(a),this.appendChildDivInDom(s,a)}this.setAllToHidden()},sequence.setAllToHidden=function(){if(0!=this.spriteArray.length)for(var t=0;t<this.imgsNumber;t++)this.spriteArray[t].style.visibility="hidden"},sequence.elementCreator=function(t,i,e){var n=document.createElement(t);return n.id=i,n.className=e,n},sequence.appendChildDivInDom=function(t,i){t.appendChild(i)},sequence.showInitialImg=function(t){this.initialImg=t,0!=this.spriteArray.length&&(this.spriteArray[this.initialImg].style.visibility="visible")},sequence.resetSpriteSheet=function(){this.showInitialImg(0),this.pause(),this.setAllToHidden(),this.start()},sequence.hasEnded=function(t){t.loop?t.resetSpriteSheet():t.hasEndedAnim=!0};