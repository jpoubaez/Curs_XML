!function(){var e={scope:{},getGlobal:function(e){return"undefined"!=typeof window&&window===e?e:"undefined"!=typeof global?global:e}};e.global=e.getGlobal(this),e.initSymbol=function(){e.global.Symbol||(e.global.Symbol=e.Symbol),e.initSymbol=function(){}},e.symbolCounter_=0,e.Symbol=function(t){return"jscomp_symbol_"+t+e.symbolCounter_++},e.initSymbolIterator=function(){e.initSymbol(),e.global.Symbol.iterator||(e.global.Symbol.iterator=e.global.Symbol("iterator")),e.initSymbolIterator=function(){}},e.makeIterator=function(t){if(e.initSymbolIterator(),t[e.global.Symbol.iterator])return t[e.global.Symbol.iterator]();if(!(t instanceof Array||"string"==typeof t||t instanceof String))throw new TypeError(t+" is not iterable");var n=0;return{next:function(){return n==t.length?{done:!0}:{done:!1,value:t[n++]}}}},e.arrayFromIterator=function(e){for(var t,n=[];!(t=e.next()).done;)n.push(t.value);return n},e.arrayFromIterable=function(t){return t instanceof Array?t:e.arrayFromIterator(e.makeIterator(t))},e.arrayFromArguments=function(e){for(var t=[],n=0;n<e.length;n++)t.push(e[n]);return t},e.inherits=function(t,n){function i(){}for(var r in i.prototype=n.prototype,t.prototype=new i,t.prototype.constructor=t,n)if(e.global.Object.defineProperties){var o=e.global.Object.getOwnPropertyDescriptor(n,r);void 0!==o&&e.global.Object.defineProperty(t,r,o)}else t[r]=n[r]};var t={};function n(e){for(var t=window.frameElement,n=window;t;)n=(t=t.ownerDocument).defaultView,(e||function(){})(t),t=n.frameElement;return n}function i(e,t){var n=t||document,i=e.split("/").join("\\/");return Array.prototype.map.call(n.querySelectorAll(i),function(e){return e})}t.eachDocument=n,t.find=i,t.findRecursiveUp=function(e){var t=i(e);return n(function(n){t=t.concat(i(e,n))}),t};var r={};function o(e,t,n,i){!function(r){var o=this,a=arguments;e[t]=function(){var e;return i&&(e=r.apply(o,a)),n.apply(o,a),i||(e=r.apply(o,a)),e}}(e[t])}r.hookBefore=function(e,t,n){o(e,t,n,!0)},r.hookAfter=function(e,t,n){o(e,t,n,!1)},function(){function e(){}function t(){}function n(){function e(){var e=window.frameElement,t=window;for(s=0;e;)s++,e=(t=e.ownerDocument.defaultView).frameElement;return t}function t(e){return new RegExp("[\\[]"+e+"[\\]]","gi")}function n(e){return encodeURIComponent(e).replace(/[!'()*]/g,function(e){return"%"+e.charCodeAt(0).toString(16)})}function i(e,t,r){if(-1===e.indexOf(t))return e;var o=e.substr(e.indexOf(t),e.indexOf("]",e.indexOf(t))-e.indexOf(t)+1),a=0<=o.indexOf("|")?parseInt(o.split("|")[1].slice(0,-1),10):0;return 0<=(e=0===a?e.replace(o,n(r)):e.replace(o,n(r.substr(0,a)))).indexOf(t)&&(e=i(e,t,r)),e}var r={},o={timeOffset:0,assetUri:"",pageUri:"",pageTitle:"",techVersion:"",videoData:{}},a={},s=0;return r.errorCode=function(e,i){return i?(a.ERRORCODE=n(i),e.replace(t("(errorcode)"),n(i))):e},r.w=function(r){if(!r)return r;var l;if(l=o.timeOffset){var c=new Date(null);c.setSeconds(l),l=c.toISOString().substr(11,8)+".000"}else l=!1;return a.CONTENTPLAYHEAD=n(l||"00:00:00.000"),r=r.replace(t("(contentplayhead)"),n(l||"00:00:00.000")),(l=o.assetUri)&&(r=i(r=r.replace(t("(asseturi)"),n(l)),"[ASSETURI",l),a.ASSETURI=n(l)),(l=o.pageUri)&&(r=i(r=r.replace(t("(pageuri)"),n(l)),"[PAGEURI",l),a.PAGEURI=n(l)),(l=o.pageTitle)&&(r=r.replace(t("(pagetitle)"),n(l)),a.PAGETITLE=n(l)),(l=o.techVersion)&&(r=r.replace(t("(techversion|sdk_version)"),n(l)),a.TECHVERSION=n(l)),l=t("(cachebusting|cache_?buster|rand(om|num))"),c=n(Math.round(1e8*Math.random())),a.CACHEBUSTING=c,a.CACHEBUSTER=c,r=r.replace(l,c),l=(c=new Date).toISOString(),2===(c=(c=c.getTimezoneOffset()/60).toString().split("")).length&&c.splice(1,0,"0"),c=c.join(""),l=l.replace("Z",c),a.TIMESTAMP=n(l),r=r.replace(t("(timestamp)"),n(l)),l="Unknown OS",-1!=navigator.appVersion.indexOf("Win")&&(l="Windows"),-1!=navigator.appVersion.indexOf("Mac")&&(l="MacOS"),-1!=navigator.appVersion.indexOf("X11")&&(l="UNIX"),-1!=navigator.appVersion.indexOf("Linux")&&(l="Linux"),r=(r=(r=r.replace(t("(USERAGENT)"),n(navigator.userAgent))).replace(t("(OS)"),l)).replace(t("(os_version|OSVERSION)"),"unknown"),a.USERAGENT=n(navigator.userAgent),a.OS=l,a.OSVERSION="unknown",e(),a.FRAMEDEPTH=s,r=r.replace(t("(FRAMEDEPTH)"),s),(l=o.videoData)&&(r=(r=(r=r.replace(t("(dimension)"),n(l.width+"x"+l.height))).replace(t("(player_width|PLAYERWIDTH)"),n(l.width))).replace(t("(player_height|PLAYERHEIGHT)"),n(l.height)),a.PLAYERWIDTH=n(l.width),a.PLAYERHEIGHT=n(l.height)),l=e().innerWidth||e().document.documentElement.clientWidth||e().document.body.clientWidth,c=e().innerHeight||e().document.documentElement.clientHeight||e().document.body.clientHeight,a.SCREENRES=n(l+"x"+c),r=r.replace(t("(screen_res|screenres)"),n(l+"x"+c)),l=k.eb(),a.ALLOWINSWIPE=n(l),r=r.replace(t("(ALLOWINSWIPE)"),l),l=k.eb(),a.FIF=n(l),(r=r.replace(t("(FIF)"),l)).trim()},r.getCurrentModel=function(){var e={};return Object.keys(a).forEach(function(t){e["["+t+"]"]=a[t]}),e},r.setValueFor=function(e,t){o[e]=t,a[e.toUpperCase()]&&(a[e.toUpperCase()]=t)},function(){var t=e().location.href,n=e().document.title;false&&(t=window.context.location.href,n=window.context.Rc),r.setValueFor("pageUri",t),r.setValueFor("pageTitle",n),r.setValueFor("techVersion",[T.IDENTIFIER,T.API_VERSION,T.API_BUILD].join("|"))}(),r}function i(e){function t(e){var t=0,n=0;try{if(e.offsetParent)for(t=e.offsetLeft,n=e.offsetTop;(e=e.offsetParent)&&"BODY"!==e.tagName.toUpperCase();)t+=e.offsetLeft,n+=e.offsetTop}catch(e){}return{left:t,top:n}}var n,i,r={i:{width:0,height:0,left:0,top:0},f:{width:0,height:0,left:0,top:0},R:!1,A:0,Oa:0,Pa:0,Na:0},o=[],a="ois_"+k.Ua().split("-").join("");this.K=function(){if(void 0===i&&(i=window.self===window.top?window.self:window.top),void 0===n)try{n=i.document}catch(e){n=window.document}r.i={width:n.documentElement.clientWidth||i.innerWidth||n.body.clientWidth,height:n.documentElement.clientHeight||i.innerHeight||n.body.clientHeight,left:i.scrollX||n.documentElement.scrollLeft||n.body.scrollLeft,top:i.scrollY||n.documentElement.scrollTop||n.body.scrollTop};var s=t(e);if(window.self!==window.top)try{var l;e:{var c,u=top.document.getElementsByTagName("iframe");for(c in u)try{if(u[c].contentWindow[a]){l=u[c];break e}}catch(e){}l=void 0}var d=t(l);s.left+=d.left,s.top+=d.top}catch(e){}return r.f={width:e.offsetWidth,height:e.offsetHeight,left:s.left,top:s.top},r.i.left>=r.f.left+r.f.width||r.i.top>=r.f.top+r.f.height||r.f.left>=r.i.left+r.i.width||r.f.top>=r.i.top+r.i.height?(r.A=0,r.R=!1):0>=r.f.width||0>=r.f.height?(r.A=0,r.R=!1):r.f.left>=r.i.left&&r.f.top>=r.i.top&&r.f.left+r.f.width<=r.i.left+r.i.width&&r.f.top+r.f.height<=r.i.top+r.i.height?(r.A=100,r.R=!0):(s=r.f.width,l=r.f.height,r.f.left<r.i.left?s=r.f.width-(r.i.left-r.f.left):r.f.left+r.f.width>r.i.width+r.i.left&&(s=r.i.width-(r.f.left-r.i.left)),r.f.top<r.i.top?l=r.f.height-(r.i.top-r.f.top):r.f.top+r.f.height>r.i.height+r.i.top&&(l=r.i.height-(r.f.top-r.i.top)),r.A=Math.floor(s*l/(r.f.width*r.f.height)*100),0<r.A&&(r.R=!0)),1==r.R?(r.Oa+=.25,r.Pa=.25):r.Pa=0,r.Na+=.25,o.push(r.R),r},window[a]=a}function r(e,t){function n(){p.b(1010),p.b(1020),p.b(1030),p.b("AdCompanionsDetected"),p.b("AdLoaded"),p.b("AdSlotStarted",d),p.b("AdSlotComplete",d),p.b("START_LINEAR",d),p.b("START_NONLINEAR",d),p.b("AdStopped",d),e.b("CONTROLS_ON",d),e.b("CONTROLS_OFF",d),e.g("play,pause,ended,timeupdate,volumechange,error,durationchange",a)}function i(){m=e.h("currentSrc"),g=e.h("currentSrcType"),k.B(e.h("currentSrc"))&&(t.Tc=k.tc(e.h("currentSrc"))),C.log(101,m)}function r(){return!m||e.h("currentSrc")==m}function o(t){!1!==(t="object"==typeof t?t.info:t)&&(t=!0),C.log(100,t),e.setControls(t)}function a(n){switch("timeupdate"!=n.type&&C.log(101,n.type),n.type){case 1030:var a=e.h("currentTime");0!=a&&r()&&(A=Number(Number(a).toFixed(1))),s(!1),o(!1),l(!0);break;case 1020:s()?w&&u():(m&&0<m.length&&e.ja({url:m,type:g},null!=A&&0!=A&&!w&&A,w),w&&u(),s(!0),o(!0),l(!1))}if(!0===l())switch(n.type){case"play":case"error":if(!x&&"error"===n.type&&(C.log(102,e.h("error")),p&&!p.da())){p.pa(!1,401);break}(n=f.aa(0))&&(i(),m&&e.M(),p.startAd(n)),!0===x&&(x=!1,i(),l(!1))}else switch(n.type){case"error":C.log(102,n.type,e.h("src")),!p||r()&&!p.da()||p.da()||p.pa();break;case"timeupdate":n=e.h("duration"),a=e.h("currentTime"),!l()&&a>t.overlayDelay&&a<n-5&&r()&&(f.vc(n),n=f.aa(a))&&("fixedroll"==n.type&&(i(),p.startAd(n)),"overlay"!=n.type||k.La&&null===e.getVideoSlot().getAttribute("webkit-playsinline")||p.startAd(n)),n=e.h("duration"),(a=e.h("currentTime"))<n&&a>n-1&&r()&&k.I&&(f.Qb(n)?(R=1,(n=f.aa(n))?(i(),p.startAd(n)):(p.da()&&p.ea(),u())):E=!0);break;case"ended":!k.I&&r()&&(w=!0,(n=f.aa(e.h("duration")))?(i(),p.startAd(n)):(p.da()&&p.ea(),u()),e.M()),r()&&k.I&&1==R?R=2:(r()&&k.I&&2==R||E)&&(u(),R=3)}}function s(e){if(null==e)return b;b=e}function l(e){if(null==e)return v;v=e}function u(){C.log(104),e.M(),t.onFinish&&t.onFinish(),n()}function d(t){switch(y[t.type]&&y[t.type](t),t.type){case"AdSlotStarted":e.ob(!0);break;case"AdSlotComplete":e.ob(!1);break;case"AdStopped":f.bc()&&d({type:"BLOCK_DONE"})}}var p,f,m,g,v=!0,b=!1,y={},A=null,w=!1,R=!1,E=!1,x=!0,S=new k.j.s;this.registerGlobalEventDispatcher=S.registerGlobalEventDispatcher,this.destroy=function(){p&&(C.log(105),p.ea(),n())},this.start=function(){var t=e.h("currentSrc");/iPhone|iPad|iPod|Android/i.test(navigator.userAgent)&&l()&&!t?a({type:"play"}):e.O()},this.onAdLoadCompleteCallback=function(e){p&&p.a("AdLoaded",k.D(e)?e:function(){})},this.setControllerEvents=function(e){y=e},this.Nb=function(){return e.Nb()},this.pauseAd=function(){p.pauseAd()},this.resumeAd=function(){p.resumeAd()},this.resize=function(t,n,i){var r=document.createEvent("HTMLEvents");r.initEvent("resize",!0,!1),e.getVideoSlot().dispatchEvent(r),p.resizeAd(t,n,i)},this.addRuleToRuleSet=function(e){p.addRuleToRuleSet(e)},this.removeRules=function(e){return p.removeRules(e)},this.setAutoplay=function(e){p.setAutoplay(e)},this.startLinear=function(e){p.startLinear(e)},this.setVpaidAd=function(e){p.setVpaidAd(e)},this.triggerEvent=function(e,t){S.triggerEvent(e,t)},this.clickThrough=function(){p.clickThrough()},this.trackingController=function(){return p.trackingController()},this.skipAd=function(){p.skipAd()},this.setAdVolume=function(e){p.setAdVolume(e)},this.getAdVolume=function(){return p.getAdVolume()},this.getAdMutedState=function(){return p.getAdMutedState()},this.startAd=function(e){p.startAd(e)},this.getAdConfig=function(){return p.getAdConfig()},this.isVPAID=function(){return p.isVPAID()},this.getSlot=function(){return p.getSlot()},this.getVideoSlot=function(){return p.getVideoSlot()},this.startAds=function(e){p.startAds(e)},this.trackErrorAndRestartAd=function(e){p.pa(!0),f.reset(),(e=f.aa(e||0))&&"fixedroll"==e.type&&(1<e.tag.length&&0===e.urls.length&&(e.urls.unshift(e.tag),e.limit=e.urls.length),p.ea())},C.log(109,T.API_VERSION),f=new h(t),(p=new c(e,t)).registerGlobalEventDispatcher(S.C),e.registerGlobalEventDispatcher(S.C),p.a(1010,o),p.a(1020,a),p.a(1030,a),p.a("AdCompanionsDetected",function(e){C.log(103),t.onCompanion&&t.onCompanion(e.info),t.companionCallback&&t.companionCallback(e.info)}),p.a("AdSlotStarted",d),p.a("AdSlotComplete",d),p.a("START_LINEAR",d),p.a("START_NONLINEAR",d),p.a("AdStopped",d),e.a("CONTROLS_ON",d),e.a("CONTROLS_OFF",d),e.m("play,pause,ended,timeupdate,volumechange,error,durationchange",a)}function o(e){function t(){for(var e in l)void 0!==c[e]&&(c[e]=n(l[e],c.ga[e]))}function n(e,t){switch(typeof t){case"number":return!e||isNaN(parseInt(e,10))?t:parseInt(e,10);case"object":for(var i in t)e[i]=e[i]?n(e[i],t[i]):t[i];break;default:if(null==e)return t}return e}function i(){4==a.readyState&&(200==a.status?r():c.H&&c.H(c))}function r(){c.oa({}),c.onConfigLoaded&&c.onConfigLoaded(c)}function o(){c.H&&c.H(c)}var a,s={key:"",adResponse:"",preroll:"",midroll:"",postroll:"",overlay:"",fixedroll:"",fixedrolls:[],overlayDelay:5,overlayDuration:15,minDurationForMidrolls:100,customControls:!1,urlhandler:"",blockInsecureURL:!0,maxWrapperDepth:10,prefetchBuffets:!1,adVerification:{meetrics:!1},skipButtonPosition:"top",skipButtonText:"Skip this Ad",styles:{colorScheme:{backgroundColor:"rgba(0,0,0,.8)",color:"#ffffff"},fontStyle:{textAlign:"left",fontFamily:"Arial,sans,Verdana",fontSize:"12px",lineHeight:"20px"},dialogBox:{width:"200px",padding:"7px",border:"1px solid #ffffff",borderRadius:"3px"},buttonStyle:{width:"80px",height:"25px",margin:"2px",marginTop:"9px",border:"1px solid #ffffff",borderRadius:"3px",lineHeight:"0px",textAlign:"center"}},onCompanion:null,companionCallback:null,onTrack:function(){},onFinish:null,vpaidSingleVideoSlotMode:!0,vb:"",vastExtensions:{},lb:!0},l=e,c=this;c.ga=s,this.Lb=function(){return c},this.oa=function(e){l=e,t(),k.cb(e)&&(c.onConfigLoaded=e.onConfigLoaded,c.H=e.H,c.jb(e.externalConfigXml))},this.jb=function(e){e=k.urlEnrichment.w(e),a=window.XDomainRequest?new window.XDomainRequest:new XMLHttpRequest,window.XDomainRequest?(a.onload=r,a.onerror=o,a.open("GET",e)):(a.open("GET",e,!0),a.onreadystatechange=i),a.send()},this.H=this.onConfigLoaded=null,this.id="test",function(){for(var e in c.ga=s,c.ga)c[e]=c.ga[e]}(),t(),k.cb(e)&&(c.onConfigLoaded=e.onConfigLoaded,c.H=e.H,c.jb(e.externalConfigXml))}function a(){function e(e){if(!(1>=(t=n.filter(function(t){return t.hasOwnProperty(e)})).length)){var t,i=n.filter(function(t){return!t.hasOwnProperty(e)});if(-1===(t=t.map(function(t){return t[e]}).join("|")).indexOf("true")||-1===t.indexOf("false")){var r={};r[e]=t,i.push(r)}n=i}}var t=new k.j.s;k.Ob();var n=[],i={};this.a=t.a,this.b=t.b,this.registerGlobalEventDispatcher=t.registerGlobalEventDispatcher,this.addRule=function(t){if("type"!==Object.keys(t).shift()&&"format"!==Object.keys(t).shift())return e("type"),e("format"),e("scalable"),e("maintainaspectratio"),n=n.concat([t]).reduce(function(e,t,n){var i=Object.keys(t).shift();return i in e.keys?e.result[e.keys[i]]=t:(e.keys[i]=n,e.result.push(t)),e},{result:[],keys:{}}).result,this;n.push(t)},this.removeRule=function(e){n=n.filter(function(t){return Object.keys(t).shift()!==e})},this.U=function(){return e("type"),e("format"),e("scalable"),e("maintainaspectratio"),n},this.ib=function(){for(var e in i=k.za(),n.push({delivery:"progressive"}),i=k.za())i.hasOwnProperty(e)&&n.push({type:i[e].Fa});n.push({type:k.na}),n.push({format:window.ois.MediaFileFormat.WIDE}),n.push({width:5e3}),n.push({bitrate:k.ba()||5e3}),n.push({apiFramework:"VPAID"})},this.ib()}function s(e,t){function n(t){"play"!==t.type||e.commercial||(h=!1),"pause"!==t.type||e.commercial||(h=!0)}function i(t){"timeupdate"===t.type&&0<e.seekable.length&&(g=!0,e.seekable.end(0)>=e.duration&&6e3!==e.duration&&100!==e.duration&&(C.log(803,e.duration),e.currentTime=e.duration,f.g(e,"timeupdate",i))),"ended"===t.type&&(C.log(804,t.type),o(u),e.load(),d(),void 0!==(t=e.play())&&t.then(function(){},function(){}),f.g(e,"ended",i),m=!1)}function r(){try{e.seekable.end(0)>=c&&0<e.currentTime&&(e.currentTime=c,f.g(e,"timeupdate",r),C.log(801,c))}catch(e){C.log(802,e)}}function o(t){if(t=k.Z(t),k.wb)for(var n,i=e.getElementsByTagName("source"),r=(r=t.split("."))[r.length-1],o=0;o<i.length;o++)if((n=(n=i[o].src.split("."))[n.length-1])===r)return void(i[o].src=t);e.src=t}function a(e,t){var n=null;return window.getComputedStyle?n=parseFloat(window.getComputedStyle(e,"").getPropertyValue(t)):e.currentStyle&&(n=parseFloat(e.currentStyle[t])),n?n.toFixed(2)+"px":null}function s(e){b.triggerEvent(5010,e.type||void 0)}function l(){e.muted&&!1===v?(v=!0,b.triggerEvent(5020,!0)):e.muted||!0!==v||(v=!1,b.triggerEvent(5020,!1))}var c,u,d,p,h,f,m=!1,g=!1,v=!1,b=new k.j.s;this.h=function(t){if(t)switch(t){case"currentTime":return e.currentTime;case"duration":return e.duration;case"currentSrc":return e.currentSrc;case"currentSrcType":return"-unused-";case"src":return e.src;case"controls":return e.controls;case"paused":return e.paused;case"volume":return e.volume;case"error":return e.error;default:return null}return{currentTime:e.currentTime,duration:e.duration,currentSrc:e.currentSrc,src:e.src,controls:e.controls,paused:e.paused,volume:e.volume,error:e.error}},this.ob=function(t){e&&(e.commercial=t)},this.l=function(t){if(t)switch(t){case"width":return Math.round(e.getBoundingClientRect().width);case"height":return Math.round(e.getBoundingClientRect().height);case"top":return Math.round(e.getBoundingClientRect().top-document.body.getBoundingClientRect().top);case"left":return Math.round(e.getBoundingClientRect().left-document.body.getBoundingClientRect().left);default:return null}return{width:Math.round(e.getBoundingClientRect().width),height:Math.round(e.getBoundingClientRect().height),top:Math.round(e.getBoundingClientRect().top-document.body.getBoundingClientRect().top),left:Math.round(e.getBoundingClientRect().left-document.body.getBoundingClientRect().left)}},this.M=function(){var t=e.pause();void 0!==t&&t.then(function(){},function(){})},this.O=function(){if(!h){var t=e.play();void 0!==t&&t.then(function(){},function(){})}},this.ja=function(t,n,s){C.log(806,t,n,s),u=k.gb(t)?t.url:t,p||(e.width||e.style.width||(e.style.width=a(e,"width")||"100%"),e.height||e.style.height||(e.style.height=a(e,"height")||"100%"),p=!0),k.I&&m?function(){if(f.m(e,"timeupdate,ended",i),!1===g){C.log(805),f.g(e,"timeupdate,ended",i),o(u),e.load(),d();var t=e.play();void 0!==t&&t.then(function(){},function(){}),m=!1}}():(o(u),e.load(),n&&(c=n,f.m(e,"timeupdate",r)),s||void 0!==(t=e.play())&&t.then(function(){},function(){}))},this.oc=function(e,t){C.log(807,e),m=e,d=t},this.setControls=function(t){e.controls=t},this.getParent=function(){return t||e.parentNode},this.mb=function(){f.g(e,"click",void 0)},this.m=function(t,n){f.m(e,t,n)},this.g=function(t,n){f.g(e,t,n)},this.getVideoSlot=function(){return e},this.a=b.a,this.b=b.b,this.registerGlobalEventDispatcher=b.registerGlobalEventDispatcher,this.destroy=function(){f.g(e,"mousedown",void 0),f.g(e,"timeupdate",r),f.g(e,"volumechange",l),f.g(e,"timeupdate,ended",i),f.g(window,"resize,orientationchange",s),f.g(document,"mozfullscreenchange,webkitfullscreenchange",s),f.g(e,"pause play",n)},(f=new k.j.Event).m(window,"resize,orientationchange",s),f.m(document,"mozfullscreenchange,webkitfullscreenchange",s),e.muted&&(v=!0),f.m(e,"volumechange",l),f.m(e,"pause play",n)}function l(e){function t(){g.triggerEvent("AdStopped",void 0)}function n(e){d=e?new window[h](o,a,c,s,v):new T.extensions[u](o,a,c,s,v),k.D(d.a)&&(d.a("PAUSEAD",l),d.a("RESUMEAD",l)),m.push(d)}var i,r,o,a,s,l,c,u,d,p,h,f,m=[],g=new k.j.s,v=this;this.a=g.a,this.b=g.b,this.ca=function(e,t,r){if(function(e,t,n){o||(o=e),a||(a=t),s||(s=n)}(e,t,r),i&&!(1>i.length))for(e=0;e<i.length;e++)c=i[e],u=c.attributes[0].value,T.extensions[u]?n(!1):(p=a.v.vastExtensions,Object.getOwnPropertyNames(p).forEach(function(e){h=p[e].className||e,f=p[e].src,h===u&&(window[h]&&"function"==typeof window[h]?n(!0):f&&(e=k.createElement("script",{type:"text/javascript"}),document.head.appendChild(e),e.addEventListener("load",function(){n(!0)},!1),e.src=f))}))},this.destroy=function(){if(0<m.length)for(var e=0;e<m.length;e++)m[e].destroy&&m[e].destroy();r&&r.b("AdStopped",t),l=s=a=o=!1},this.onResize=function(){if(0<m.length)for(var t=0;t<m.length;t++)m[t].setViewport({width:e.l("width"),height:e.l("height")})},this.setup=function(e,n,o){return i=e,l=n,(r=o).a("AdStopped",t),v}}function c(e,t){function n(e){if(!F)return!1;if((e="fixedroll"===e?F.Aa():F.ia())&&e.StaticResource){var t=e.attributes.apiFramework?e.attributes.apiFramework:"UNKNOWN";if(-1!=k.na.indexOf(e.resourceAttributes.creativeType.toLowerCase())&&"VPAID"==t.toUpperCase())return C.log(A),!0}else if(e&&e.apiFramework&&"VPAID"==e.apiFramework.toUpperCase())return!0;return!1}function i(e){H=e.info,U&&(e.info?U.Sa():U.callUnmuteTracker()),I("AdVolumeChange",{isMuted:e.info})}function r(t){t.info&&"fullscreen"===t.info&&U.callTracker("fullscreen"),t.info&&"exitFullscreen"===t.info&&U.callTracker("exitFullscreen"),D&&D.resizeAd(e.l("width"),e.l("height"),void 0),$.onResize()}function o(e){var t=e.type;"pause"===t&&e.target.currentTime>=e.target.duration||("play"===t&&0<e.target.currentTime&&(t="resume"),e=!!D,U&&!e&&U.callTracker(t))}function s(n){N(),(F=new u(t,e)).wc(_),(O=new d(e,F)).a("AdClickThru",m),O.a("AdClickThruReject",m),O.a(2020,m),O.registerGlobalEventDispatcher(Z.C),F.a(3010,m),F.a(3020,m),F.a(3030,m),F.a(3035,m),F.a(3050,m),F.a(3040,m),F.a(7e3,m),F.registerGlobalEventDispatcher(function(e){"AdTagSkipDetected"===e&&(q=!0,C.log(5100))}),F.registerGlobalEventDispatcher(Z.C),e.m("play",o),e.m("pause",o),e.a(5020,i),e.a(5010,r),I("AdSlotStart"),"fixedroll"===X?F.hb(j.urls.shift(),j.responseXML):"overlay"===X&&n&&(null!==J?(J.nonLinearsTracker.impression=[],J.gotLinear=!1,J.companion=[],J.companionsAsString=null,F.cc(J),J=null):F.hb(n))}function c(){m({type:"RESUMEAD"})}function p(){U&&U.Fb(),x()}function h(t){I(1030),n("fixedroll")?ie?D&&D.resumeAd():(D.startAd(),Y=ie=!0,e.g("ended",x)):(e.oc(Q,R),e.ja(F.Ba(),t,!1),e.m("loadeddata",function t(){e.g("loadeddata",t),I("AdStarted")}),Q=!1,R()),te||(te=!0,I("AdSlotStarted")),I("START_LINEAR")}function m(i){switch(C.log(201,i.type),U||((U=new f(e,t,F,X)).registerGlobalEventDispatcher(Z.C),U.a("AdCapped")),U.Ha(F),i.type){case"PAUSEAD":if(!z&&!Y)break;G=!0,I("AdPaused",!0),D?D.pauseAd():(e.M(),e.m("play",c)),I(1010,!0),O.Va();break;case"RESUMEAD":G=!1,I("AdPlaying",!0),D&&(D.resumeAd(),I("onTrack","play")),(G||e.h("paused"))&&(e.g("play",c),e.O()),O&&O.Gb(),I(1010,!1),e.setControls(!1);break;case 3010:U.Ha(F),i="fixedroll"===X?F.Aa():F.ia(),n("fixedroll")||I("AdLoaded",F.c());var r=F.J(),o=r.icons&&0<r.icons.length;F.c()&&r&&o&&(C.log(5050),Z.triggerEvent(4300,r.icons)),I("AdMediaSelected",i),function(){var e=F.c().creatives.filter(function(e){return"companion"===e.type}).shift();e&&I("AdCompanionsDetected",e)}(),"overlay"===X&&F.c().gotNonLinear?(O.Wb(),function(e){e&&e.attributes&&e.attributes.minSuggestedDuration&&15<k.V(e.attributes.minSuggestedDuration)&&k.V(e.attributes.minSuggestedDuration)>t.overlayDuration&&(t.ta=t.overlayDuration,t.overlayDuration=k.V(e.attributes.minSuggestedDuration))}(i=F.Mb()),O.nc(i),n("overlay")&&w("overlay"),clearInterval(P),z=!1,P=setInterval(function(){O.Rb();var e=(new Date).getTime();null==B&&(B=e),e=parseInt(e-B,10)/1e3,F.qb(e),e>parseInt(t.overlayDuration,10)&&L()},250),z=!0,U.ya(),I("START_NONLINEAR")):"fixedroll"==X&&F.Ba()?(O.ca(),O.Ga(),q&&O.Xb(),O.a("SKIP",p),n("fixedroll")&&(O.Vb(),w("fixedroll"),ne&&D.nb(ne),e.g("ended",x),D.a("AdLoaded",function e(){D&&(D.b("AdLoaded",e),ee&&(D.startAd(),ie=!0))})),ee&&h()):"fixedroll"!==X&&"overlay"!==X||b(200),$.ca(O,F,U);break;case"AdClickThru":V();break;case"AdClickThruReject":e.setControls(!1),e.O();break;case 3020:r=!1,i.info&&(r=i.info.silent),r||(C.log(202,i.info),Z.triggerEvent("AdError",i.info||i.type)),v(i.info||i.type),r||S();break;case 2020:C.log(203),U.Cb(),L();break;case 3030:J=i.info;break;case 3035:$.setup(i.info,m,K);break;case 3050:U.callCustomTracker(i.info,"cappedImpression");break;case 3040:U.xa(302);break;case 7e3:b(303)}}function v(e){var t=e.errorCode||e;e=e.errorURLTemplates,C.log(202,t),U&&U.xa({info:{errorCode:t,errorURLTemplates:e}})}function b(e){v(e),Z.triggerEvent("AdSlotComplete"),L()}function y(e){switch(C.log(950,e.type),e.type){case 6010:null!==U&&U.xa(901),D&&(D.b(6010,y),D=null),x();break;case 6020:I(1030);break;case 6030:I(1020);break;case 6040:case 6050:x();break;case 6060:V(e.info)}}function w(t){(D=new g).a(6010,y),D.a(6020,y),D.a(6030,y),D.a(6040,y),D.a(6050,y),D.a(6060,y),D.a("AdVideoComplete",y),D.a(6070,i),D.registerGlobalEventDispatcher(Z.C),"overlay"===t?D.ca(F.ia(),O,e,U,F):D.Ub(F.Aa(),O,e,U,F)}function R(){clearInterval(M),Y=!1,e.m("ended",x),M=setInterval(function(){var t=(new Date).getTime();null==W&&(W=t);t=e.h("currentTime");var n=e.h("duration");U&&U.handleTracking(),Number.isFinite(n)&&F&&(F.qb(n-t),F.totalTime!==n&&F.mc(n))},250),Y=!0}function E(){U&&(!1===U.Ta()?setTimeout(E,16):(U.b("AdCapped"),U=null,S()))}function x(){e.g("ended",x),D&&(D.b(6050,x),D=null,ie=!1),U?(U.handleTracking(),E()):S()}function S(){!O&&!F&!Y||(clearInterval(M),Y=!1,I("AdStopped"),F&&F.Bb()&&(C.log(5003),O&&O.destroy(),(O=new d(e,F)).a("AdClickThru",m),O.a("AdClickThruReject",m),O.a(2020,m),O.registerGlobalEventDispatcher(Z.C),$.destroy(),D?(D.stopAd(),void setTimeout(function(){D=null,ie=!1,F.ka()},500)):(F.ka(),1))||(O&&O.destroy(),F&&F.destroy(),O=T.Ja=null,F=T.Ia=null,$&&$.destroy(),te=!1,I("AdSlotStopped"),I("AdSlotComplete"),I(1020)))}function L(){if(C.log(204,X),C.log(5005),N(),k.urlEnrichment.setValueFor("errorCode",""),D)D.stopAd();else if("overlay"==X||z)C.log(205,X),t.ta&&(t.overlayDuration=t.ta,delete t.ta),clearInterval(P),z=!1,B=void 0,O.kc(),F.destroy(),O=T.Ja=null,F=T.Ia=null,k.ra&&I(1010,!0);else if("fixedroll"===X){var e=function(){!1===U.Ta()?setTimeout(e,16):(I("AdSlotComplete"),I(1020))};clearInterval(M),Y=!1,W=void 0,O&&O.destroy(),F&&F.destroy(),O=T.Ja=null,F=T.Ia=null,$&&$.destroy(),e()}}function N(){O&&(O.b("AdClickThru"),O.b("AdClickThruReject"),O.b(2020)),F&&(F.b(3010),F.b(3020),F.b(3030),F.b(3035),F.b(3050),F.b(3040),F.b(7e3),F.G()),e.g("play",o),e.g("pause",o),e.g("ended",x),e.b(5020,i),e.b(5010,r)}function I(e,t){Z.triggerEvent(e,t)}function V(t){var n="_blank";window.envBlocked&&(n="_self"),U.Ra();var i=F.J();if("fixedroll"===X&&(i.videoClickThroughURLTemplate||t)){if(!(t=t||i.videoClickThroughURLTemplate)||0===t.length||0===t.trim().length)return void c();null!=(n=window.open(t,n))&&(I(1010,!0),O.Va())}else"overlay"===X&&(F.c().nonLinearsVideoclicks.url||t)&&(t=t||F.c().nonLinearsVideoclicks.url,window.open(t,n));e.setControls(!1),I("AdClickThru",!0)}var U,O,F,D,M,W,P,B,j,X,G,H,Z=new k.j.s,Y=!1,z=!1,J=null,q=!1,Q=!1,_=new a,$=new l(e),K=this,ee=!0,te=!1,ne=null,ie=!1;this.startLinear=function(e){h(e)},this.startAd=function(e){return X=!(!(j=e)||!e.type)&&e.type,!!j&&("fixedroll"===X?(!0===z&&L(),Q=!0,s()):"overlay"===X&&j.urls[0]&&s(j.urls[0]),!0)},this.a=Z.a,this.b=Z.b,this.registerGlobalEventDispatcher=Z.registerGlobalEventDispatcher,this.G=Z.G,this.pa=function(e,t){var n=t||400;try{C.log(202,n),Z.triggerEvent("AdError",{errorCode:n}),v(n)}catch(e){}e||x()},this.ea=function(){e&&e.destroy(),x()},this.da=function(){return z},this.pauseAd=function(){m({type:"PAUSEAD"})},this.resumeAd=function(){m({type:"RESUMEAD"})},this.setAutoplay=function(e){ee=e},this.addRuleToRuleSet=function(e){_&&_.addRule(e)},this.removeRules=function(e){if(_)return _.removeRule(e)},this.setVpaidAd=function(e){ne=e},this.setAdVolume=function(e){D&&D.setAdVolume(e)},this.getAdVolume=function(){return D?D.getAdVolume():e.h("volume")},this.getAdMutedState=function(){return H},this.clickThrough=function(){if(!(F&&F.c()&&F.c().variant&&"commercial"!==F.c().variant&&"sponsored"!==F.c().variant||.5>e.h("currentTime"))){if("fixedroll"===X){var t=F.J().videoClickThroughURLTemplate;if(!t||0===t.length||0===t.trim().length)return}m({type:"PAUSEAD"}),V()}},this.trackingController=function(){return U||((U=new f(e,t,F,"fixedroll")).registerGlobalEventDispatcher(Z.C),U.a("AdCapped")),U.Ha(F),U},this.resizeAd=function(e,t,n){D&&D.resizeAd(e,t,n)},this.skipAd=function(){D?D.skipAd():p()},this.getAdConfig=function(){return j},this.isVPAID=function(){return!!D},this.getVideoSlot=function(){return D?D.getVideoSlot():e.getVideoSlot()},this.getSlot=function(){return D?D.getSlot():document.createElement("div")},this.startAds=function(e){F||(X="unknown",s()),X="fixedroll",F.lc(e),F.ka()}}function u(e,t){function n(e){switch(C.log(301,e.type),c&&c.c()&&(d=c.c()),e.type){case 4200:i(4200,e.info);break;case 7e3:u.triggerEvent(7e3);break;case"AdTagParsed":if(i("AdTagParsed",e.info),d.ads.length>v&&d.ads[v].errorCode){i(3020,d.ads[v]);break}(e=function(){if((f=new T.MediaSelector(b,h)).Hb().sc(),0<f.Ca().length){var e=f.Ca(),t=k.ba()||5e3,n=[],n=e.filter(function(e){return e.apiFramework&&"VPAID"===e.apiFramework.toUpperCase()}),e=0<n.length?n:e,e=e.reduce(function(e,n){return Math.abs(n.bitrate-t)<Math.abs(e.bitrate-t)?n:e});return e.fileURL=k.Z(e.fileURL),g.url=e.fileURL,g.type=e.mimeType,g.index=0,k.extend(g,e),"string"==typeof g.fileURL&&(k.urlEnrichment.setValueFor("assetUri",g.fileURL),g.fileURL=k.urlEnrichment.w(g.fileURL)),!0}return k.urlEnrichment.setValueFor("assetUri",null),g.url=null,!1}())?e&&g.fileURL&&(d.ads[v].creatives.filter(function(e){return"linear"===e.type}).shift().supportedMediaFiles=f.Ca(),i(3010)):(d.ads[v].errorCode=403,i(3020,d.ads[v]));break;case 4030:p=!0,0,function(e){var n;window.XDomainRequest?(C.log(303),n=new window.XDomainRequest):(C.log(304),n=new XMLHttpRequest),l=n,k.urlEnrichment.setValueFor("videoData",t.l()),e=k.urlEnrichment.w(e),window.XDomainRequest?(l.onload=o,l.onerror=s,l.open("GET",e)):(l.open("GET",e,!0),k.qc(e)&&(l.withCredentials=!0),l.onreadystatechange=r),l.send()}(d.Zc);break;case"VAST-error":e.info&&e.info.rc||i(3020,e.info);break;case 4040:i(3030,k.clone(d));break;case 4050:i(3035,d.extensions);break;case 4100:i(3050,e.info)}}function i(e,t){u.triggerEvent(e,t)}function r(){4==l.readyState&&(200==l.status?o():s())}function o(){var e=l.responseText;!1===p?((c=new m).registerGlobalEventDispatcher(u.C),c.a("AdTagParsed",n),c.a("VAST-error",n),c.a(4030,n),c.a(4040,n),c.a(4050,n),c.a(4100,n),c.a(7e3,n)):!0===p&&(p=!1),c.kb(e)}function s(){i(3020,300)}var l,c=null,u=new k.j.s,d={ads:[],videoClicks:{},tracker:[],linear:[],nonLinearsVideoclicks:{},nonLinearsTracker:[],nonLinears:[],extensions:[],companion:[],companionsAsString:null,asString:null,duration:null,gotLinear:!1,gotNonLinear:!1,isCombi:!1,Mc:[]},p=!1,h=new a,f=null,g={url:null,index:null,type:null},v=0,b=this;this.wc=function(e){h=e},this.U=function(){return h.U()},this.v=e,this.la=void 0,this.totalTime=d.duration,this.hb=function(i,r){(c=new m(e)).a("AdTagParsed",n),c.a(4200,n),c.a("VAST-error",n),k.urlEnrichment.setValueFor("videoData",t.l()),window.macroModel=k.urlEnrichment.getCurrentModel,c.gc(r?null:i,r)},this.ia=function(){return this.c().creatives.filter(function(e){return"nonlinear"===e.type}).shift()},this.J=function(){return this.c().creatives.filter(function(e){return"linear"===e.type}).shift()},this.Mb=function(){return this.ia()},this.Aa=function(){return g},this.Ba=function(){return g.fileURL},this.qb=function(e){this.totalTime=d.duration,this.la=d.duration-e,i("AdRemainingTimeChange")},this.mc=function(e){this.totalTime=e,i("AdDurationChange")},this.cc=function(e){d=k.clone(e),i(3010)},this.destroy=function(){C.log(5006),null!==c&&(c.b("VAST-error"),c.b("AdTagParsed"),c.b(4030),c.b(4040),c.b(4100),c.b(7e3),c.G(),c=null),u=null},this.a=u.a,this.b=u.b,this.registerGlobalEventDispatcher=u.registerGlobalEventDispatcher,this.G=u.G,this.c=function(){return d.ads[v]},this.lc=function(e){v=-1,d.ads=e},this.ka=function(){v++,n({type:"AdTagParsed",info:d})},this.Bb=function(){return v<d.ads.length-1}}function d(e,t){function n(){var t=e.l();g="display:block;position:absolute;overflow:hidden;text-align:center;font-family:Arial,sans,Verdana;opacity:1;",m="display:block;position:absolute;overflow:hidden;width:15px;height:15px;top:0px;left:"+t.width+"px;background:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAoAAAAKCAYAAACNMs+9AAAALUlEQVQY02P4TyRgABMEAIpCbBpQ5JAV4GWjmwR3Ey6rSVJIlNUkeYZg8BADADDRv0FliZd9AAAAAElFTkSuQmCC) 50% 50% no-repeat;"}function r(t){var n=e.l("width"),i=e.l("height");return L.width===n&&L.height===i?t:(C.log(401),t.P=parseInt(t.width,10),t.L=parseInt(t.height,10),t.ratio=t.P/t.L,L.width=n,L.height=i,"true"===t.scalable&&"true"===t.maintainAspectRatio?t.P/n>=t.L/(i/5)?(t.P=n,t.L=t.P/t.ratio):(t.L=i/5,t.P=t.L*t.ratio):"true"===t.scalable&&"false"===t.maintainAspectRatio&&(t.L=i/5,t.P=n),t.width=Math.floor(t.P),t.height=Math.floor(t.L),t)}function o(t,n){var i=e.l();t.style.width=n.width+"px",t.style.height=n.height+"px",t.style.top=i.top+(i.height-n.height)+"px",t.style.left=i.left+(i.width/2-n.width/2)+"px"}function a(){return k.createElement("div",{id:"closeButton"+Math.round(1e6*Math.random()),style:m})}function s(){v&&(w=e.h("duration"),T=e.h("currentTime"),1>=w&&(w=t.c().duration),v.update(T,w))}function l(){C.log(402),S.triggerEvent("AdClickThru",void 0)}function c(){y.style.left=parseInt(b.style.width,10)-15+"px"}function u(){if(b){var t=r(A);if(A=t,I){t=b;var n=e.l();t.style.width=n.width+"px",t.style.height=n.height+"px",t.style.top=n.top,t.style.left=n.left}else o(b,t);c()}}function d(){t.v.styles.closeButtonStyle&&k.sa(y,t.v.styles.closeButtonStyle)}function h(){setTimeout(function(){E&&E.setViewport(e.l()),v&&v.setViewport(e.l()),u()},50)}function f(){S.triggerEvent("SKIP",void 0)}var m,g,v,b,y,A,T,w,R,E,x=e.getParent(),S=new k.j.s,L={},N={},I=!1,V=new i(e.getParent());this.ca=function(){C.log(404),n(),y=a(),d(),e.a(5010,h)},this.Vb=function(){R=k.createElement("div",{id:"vpaidSlot"+Math.round(1e6*Math.random()),style:"position:absolute;width:100%;height:100%;display:none"}),(e.getParent().querySelector("video")||e.getParent()).insertAdjacentElement("afterend",R);var t=e.l();["left","top","width","height"].forEach(function(e){var n=t[e];"left"!==e&&"top"!==e||(n=0),R.style[e]=n+"px"})},this.Wb=function(){C.log(405),L={width:0,height:0},n(),e.a(5010,h)},this.Xb=function(){(v=new p(x,t)).setViewport(e.l()),v.hide(),v.a("SKIP",f)},this.Rb=function(){u()},this.Ga=function(){t.a("AdRemainingTimeChange",s)},this.nc=function(n){k.ra&&!t.v.customControls&&e.setControls(!1);var i,s=r(n.attributes),u=k.createElement("div",{id:"overlay"+Math.round(1e6*Math.random()),style:g}),p=null;if(i=e.l(),A=s,o(u,s),n.StaticResource){s=n.resourceAttributes.creativeType.toLowerCase();var h=n.attributes.apiFramework?n.attributes.apiFramework:"UNKNOWN";-1!=k.na.indexOf(s)&&"VPAID"==h.toUpperCase()?(I=!0,R=k.createElement("div",{id:"vpaidSlot"+Math.round(1e6*Math.random()),style:"width:100%;height:100%"}),u.style.top=0,u.style.left=0,u.style.width=i.width+"px",u.style.height=i.height+"px",u.style.display="none",u.appendChild(R)):(-1!=k.na.indexOf(s)?p=k.createElement("script",{src:n.StaticResource}):0<=s.search(/^image|jpeg|gif|png/i)&&(p=k.createElement("img",{src:n.StaticResource,style:"width:100%;height:100%"})),null!=p&&u.appendChild(p))}else n.IFrameResource?(i=k.createElement("div",{style:"position:absolute;width:100%;height:100%;background-color:rgba(0,0,0,0)"}),p=k.createElement("iframe",{id:"nonLinearIFrame",src:n.IFrameResource,style:"width:100%;height:100%"}),u.appendChild(i),u.appendChild(p)):n.HTMLResource&&((p=k.createElement("div",{style:"width:100%;height:100%"})).innerHTML=n.HTMLResource,u.appendChild(p));b=u,y=a(),d(),c(),b.appendChild(y),x.appendChild(b),b.firstChild.addEventListener("mousedown",l,!1),y.onmousedown=function(){C.log(403),S.triggerEvent(2020,void 0)}},this.kc=function(){k.ra&&!t.v.customControls&&e.setControls(!0);try{x.removeChild(b)}catch(e){C.log(406)}e.b(5010)},this.destroy=function(){e.b(5010),t.b("AdRemainingTimeChange"),v&&v.destroy(),R&&x.removeChild(R),E&&E.destroy(),S=null,e.mb()},this.Za=function(){return R},this.$a=function(){e.l()},this.sb=function(){b?(b.removeChild(y),b.firstChild.removeEventListener("mousedown",l,!1),b.style.display="block"):(e.mb(),R.style.display="block")},this.dc=function(t){var n=["left","top","width","height"],i=e.l();b&&(I?n.forEach(function(e){b.style[e]=i[e]+"px"}):t?(Object.getOwnPropertyNames(N).length||n.forEach(function(e){N[e]=b.style[e]}),n.forEach(function(e){b.style[e]=i[e]+"px"})):n.forEach(function(e){b.style[e]=N[e]}))},this.Da=function(){return e.getParent()},this.K=function(){return V.K()},this.Va=function(){v&&v.hide()},this.Gb=function(){v&&v.show()},this.a=S.a,this.b=S.b,this.registerGlobalEventDispatcher=S.registerGlobalEventDispatcher}function p(e,t){function n(){s.triggerEvent("SKIP")}function i(e){if(r.parent){var t=parseInt(window.getComputedStyle(r,null).getPropertyValue("height"),10),n="top"===a.skipButtonPosition?0:e.top+e.height-t,i=parseInt(window.getComputedStyle(r,null).getPropertyValue("width"),10);e="left"===o?0:e.width-i,r.style.width=i+"px",r.style.height=t+"px",r.style.top=n+"px",r.style.left=e+"px"}}var r,o,a=t.v,s=new k.j.s,l={},c=a.styles,u=!1;this.update=function(e,n){u||e>=k.fc(t.Ba().skipoffset,n)&&(this.show(),u=!0)},this.show=function(){r.style.display="block",i(l)},this.hide=function(){r.style.display="none"},this.destroy=function(){e.removeChild(r)},this.setViewport=function(e){i(l=e)},this.a=s.a,this.b=s.b,r=function(){var t=k.createElement("div",{id:"adSkipButton"+Math.round(1e6*Math.random()),style:"position:absolute;overflow:hidden;display:none;cursor:pointer;white-space: nowrap"});return t.innerHTML="&nbsp;"+a.skipButtonText+"&nbsp;",k.sa(t,c.colorScheme),k.sa(t,c.fontStyle),o=t.style.textAlign="right"===c.fontStyle.textAlign?"left":"right",t.addEventListener(k.$b?"touchstart":"mousedown",n,!1),e&&e.appendChild(t),t}()}function h(e){function t(e,t){function n(){for(var e=i.createElement(arguments[0]),t=1;t<arguments.length;t++){var n=arguments[t];if(n.split)n=i.createTextNode(n);else{if("[object Object]"===Object.prototype.toString.call(n)){Object.keys(n).forEach(function(t){return e.setAttribute(t,n[t])});continue}if("[object Array]"===Object.prototype.toString.call(n)){n.forEach(function(t){e.appendChild(t)});continue}}e.appendChild(n)}return e}var i=document.implementation.createDocument(null,"VAST",null);return i.documentElement.setAttribute("version","3.0"),e.map(function(e,r){var o=n("Ad",r<t?{sequence:r+1,fallbackOnNoAd:!0,fallbackType:"waterfall",allowMultipleAds:!1}:{},n("Wrapper",n("VASTAdTagURI",e)));i.documentElement.appendChild(o)}),i}function n(e,t){var n="";return"string"==typeof e&&(e={urls:[e]}),"string"!=typeof e.urls&&"string"!=typeof e.tag||(n=e.urls||e.tag,e.urls=[n]),e.offset=t,e}var i=!1;this.vc=function(t){if(!i){for(var n=0;n<e.fixedrolls.length;n++){var r=e.fixedrolls[n];"string"==typeof r.offset&&(r.offset=parseInt(r.offset,10)/100*t)}for(n=[],r=0;r<e.fixedrolls.length;r++){var o=e.fixedrolls[r];if(5<=o.interval)for(var a=o.offset+o.interval;a<t-5;){var s=k.clone(o);s.offset=a,n.push(s),a+=o.interval}}if(e.fixedrolls=e.fixedrolls.concat(n),t<e.minDurationForMidrolls){for(n=0;n<e.fixedrolls.length;n++)0<(r=e.fixedrolls[n]).offset&&r.offset<t&&e.fixedrolls.splice(n,1);C.log(602)}!function(t){if(e.overlay){for(var n=[],i=0;i<e.fixedrolls.length;i++){var r={urls:[e.overlay],offset:e.fixedrolls[i].offset+e.overlayDelay,limit:1,count:1,interval:-1,type:"overlay",requested:!1};r.offset<t&&n.push(r)}for(i=0;i<n.length;i++)e.fixedrolls.push(n[i]);e.fixedrolls.some(function(e){return 0==e.offset})||e.fixedrolls.push({urls:[e.overlay],offset:e.overlayDelay,limit:1,count:1,interval:-1,type:"overlay",requested:!1})}}(t),e.fixedrolls.sort(function(e,t){return e.offset>t.offset?1:e.offset<t.offset?-1:0}),i=!0}},this.aa=function(t){e:{for(var n=0;n<e.fixedrolls.length;n++){var i=e.fixedrolls[n],r=t-i.offset;if(i.offset<=t&&2>=r&&!i.requested){i.requested=!0,t=i;break e}}t=!1}return t},this.reset=function(){for(var t=0;t<e.fixedrolls.length;t++)e.fixedrolls[t].requested=!1},this.bc=function(){return!0===e.fixedrolls[e.fixedrolls.length-1].requested},this.Qb=function(t){return e.fixedrolls[e.fixedrolls.length-1].offset==t&&!1===e.fixedrolls[e.fixedrolls.length-1].requested},function(){e.fixedrolls||(e.fixedrolls=[]),e.adResponse?e.fixedrolls.push({offset:0,responseXML:e.adResponse}):e.preroll&&(e.preroll=n(e.preroll,0),e.fixedrolls.push(e.preroll)),e.midroll&&(e.midroll=n(e.midroll,"50%"),e.fixedrolls.push(e.midroll)),e.postroll&&(e.postroll=n(e.postroll,"100%"),e.fixedrolls.push(e.postroll)),e.overlay&&k.clone(e.overlay);for(var i=0;i<e.fixedrolls.length;i++){var r=e.fixedrolls[i];if("string"==typeof r||0>parseInt(r.offset,10))C.log(601,r.offset);else{"object"==typeof r.tag&&(r.urls=r.tag);var o="";if("string"!=typeof r.tag&&"string"!=typeof r.urls||(o=r.tag||r.urls,r.urls=[o]),r.count){o=r.urls[0],r.urls=[];for(var a=0;a<r.count;a++)r.urls.push(o.replace("[count]",a+1))}else r.count=1;"object"!=typeof r||"object"!=typeof r.urls||r.limit||(r.limit=r.urls.length),r.interval||(r.interval=-1),r.urls&&1<r.urls.length&&!r.responseXML&&(r.responseXML=t(r.urls,r.limit)),r.urls||(r.urls=[]),r.requested=!1,r.type="fixedroll"}}}()}function f(e,t,n,i){function r(e,n,i){e&&n&&t.onTrack&&k.D(t.onTrack)&&(t.onTrack(e,n,i||""),function(e){var t=k.isArray(e)?Number(e[0]):Number(e);e="1010 1020 1030 1040 1050 1060 1070 2030".split(" ").some(function(e){return e==t});var n=["100","101","300","303","310"].some(function(e){return e==t});return e||n}(i)&&(t.onTrack("capped",n),l.triggerEvent("AdCapped",void 0))),l.triggerEvent("onTrack",e)}function o(e,n,o){if((-1!==["impression","creativeView","start","error"].indexOf(n)||h)&&(h||(h=!0),-1!==["start"].indexOf(n)&&(m=!0),(-1===["mute","unmute"].indexOf(n)||m)&&(-1===["complete","error"].indexOf(n)||f||(f=!0),-1!==["complete","error"].indexOf(n)||!f))){var s=p.some(function(e){return e===n});s&&c[n]||("progress"!==n&&(r(n,i,o),s&&(c[n]=!!t.lb)),e&&("progress"!==n&&C.log(701,n),a.$(e,n,o)))}}var a=this,s=n&&n.c()&&0<n.c().creatives.length?n.J().trackingEvents:[],l=new k.j.s,c={},u=0,d=0,p="close closeLinear skip impression creativeView start firstQuartile midpoint thirdQuartile complete".split(" "),h=!1,f=!1,m=!1,g=0;return a.createTracker=function(e){var i,r;0!==(e.url||"").length&&(n&&k.urlEnrichment.setValueFor("timeOffset",n.totalTime-n.la),r=k.urlEnrichment.w(e.url),r=k.Z(r),(e.trackEvent&&"error"===e.trackEvent||e.trackEvent&&"adPodErrorTracker"===e.trackEvent)&&e.info&&(r=k.urlEnrichment.errorCode(r,isNaN(e.info)?e.info.errorCode:e.info)),"https:"!==window.location.protocol||"https:"===window.location.protocol&&0!==(r+"").indexOf("http://")||!t.blockInsecureURL)&&((i=new Image).onload=a.createTrackerDone.bind(e,r),i.onerror=a.createTrackerDone.bind(e,r),g++,i.src=r)},a.createTrackerDone=function(){g--},a.$=function(e,t,n){for(var i=0;i<e.length;i++)"string"==typeof e[i]&&a.createTracker({url:k.Z(e[i]),trackEvent:t,info:n})},a.Eb=function(){n&&n.c()&&n.c().errorURLTemplatesAdPod&&n.c().errorURLTemplatesAdPod.map(function(e){"preImpression"!==e.triggerOn||e.tracked||(e.tracked=!0,a.$(e.errorURLTemplates,"adPodErrorTracker",e.errorCode))})},a.Db=function(){n&&n.c()&&n.c().errorURLTemplatesAdPod&&n.c().errorURLTemplatesAdPod.map(function(e){"postComplete"!==e.triggerOn||e.tracked||(e.tracked=!0,a.$(e.errorURLTemplates,"adPodErrorTracker",e.errorCode))})},a.Tb=function(){return!!(n&&n.c()&&n.c().errorURLTemplatesAdPod)&&0<n.c().errorURLTemplatesAdPod.filter(function(e){return"postComplete"===e.triggerOn&&!e.tracked}).length},a.Sa=function(){o(s.mute,"mute")},a.callUnmuteTracker=function(){o(s.unmute,"unmute")},a.xa=function(e){var t,i,r=!1;e&&e.info&&(i=e.info.errorURLTemplates,t=e.info.errorCode,r=e.info.rc),(n&&n.c()&&n.c().errorURLTemplates||i)&&(r?a.$(i||n.c().errorURLTemplates,"error",t||e):o(i||n.c().errorURLTemplates,"error",t||e))},a.Fb=function(){o(s.skip,"skip")},a.Cb=function(){o(s.close,"close")},a.Ra=function(){o(n.J().videoClickTrackingURLTemplates,"clickTracking")},a.ya=function(){C.log(701,"Impression, CreativeView"),a.Eb(),n&&n.c()&&o(n.c().impressionURLTemplates,"impression"),o(s.creativeView,"creativeView")},a.callTracker=function(e){o(s[e],e)},a.Hc=function(e){e.split("|").forEach(function(e){o(s[e.toLowerCase()],e)})},a.callCustomTracker=function(e,n){var o=[];k.isArray(e)?o=e:o.push(e);var s=p.some(function(e){return e===n});s&&c[n]||("progress"!==n&&(r(n,i),s&&(c[n]=!!t.lb)),o&&("progress"!==n&&C.log(701,n),a.$(o,n,void 0)))},a.Ta=function(){return 0>=g&&!a.Tb()},a.Ha=function(e){i="fixedroll",s=(n=e)&&e.c()&&0<n.c().creatives.length?e.J().trackingEvents:[],f=!1},a.handleTracking=function(n){var r;n="fixedroll"===i?e.h("currentTime"):n;var l="fixedroll"===i?e.h("duration"):parseInt(t.overlayDuration,10);if(n=+(Math.round(n+"e+1")+"e-1"),l=+(Math.round(l+"e+1")+"e-1"),d=n,"fixedroll"===i&&(u+.3<d&&(u=d,o(s.timeupdate,"timeupdate")),function(e,t,n){if(e&&!isNaN(t)&&!isNaN(n)&&h)for(var i in e){var r=0===i.indexOf("progress-"),a=e[i].uc,s=r?parseFloat(i.split("progress-")[1]):NaN;r&&-1<i.indexOf("%")&&(s*=n/100),r&&!a&&s<=t&&(o(e[i],i,{}),e[i].uc=!0)}}(s,n,l)),!(isNaN(l)||!isNaN(l)&&0>=l)){if(n>=l)r="complete";else if(n>=l/(4/3))r="thirdQuartile";else if(n>=l/2)r="midpoint";else if(n>=l/4)r="firstQuartile";else{if(!n)return;a.ya(),o(s.start,"start")}p.some(function(e){return e===r})&&c[r]||!r||(o(s[r],r),"complete"===r&&a.Db())}},a.a=l.a,a.b=l.b,a.registerGlobalEventDispatcher=l.registerGlobalEventDispatcher,a}function m(e){function t(e){i.triggerEvent("VAST-error",e)}function n(e){switch(a=r.c(),e.type){case"AdTagParsed":(a=r.c())&&a.bb&&a.bb.length&&(C.log(5050),i.triggerEvent(4300,a.bb)),i.triggerEvent("AdTagParsed",a);break;case 4030:i.triggerEvent(4030);break;case"VAST-error":1020===e.info&&i.triggerEvent(7e3),i.triggerEvent("VAST-error",e.info);break;case 4040:i.triggerEvent(4040);break;case 4100:i.triggerEvent(4100);break;case 4200:C.log(5052),i.triggerEvent(4200,e.info);break;case"AdTagSkipDetected":i.triggerEvent("AdTagSkipDetected",e.info)}}var i=new k.j.s,r=new window.VASTParser,o=null,a=null,s=null,l=null;r.addURLTemplateFilter(k.urlEnrichment.w),this.a=i.a,this.b=i.b,this.registerGlobalEventDispatcher=i.registerGlobalEventDispatcher,this.G=i.G,this.ka=function(){},this.c=function(){return l},this.gc=function(n,o){var a={withCredentials:!0};a.blockInsecureURL=e.blockInsecureURL,a.maxWrapperDepth=e.maxWrapperDepth,a.prefetchBuffets=e.prefetchBuffets,e.urlhandler&&(a.urlhandler=window[e.urlhandler]),!n&&o&&(a.response=o),r.addEventListener("VAST-error",t),r.parse(n,a,function(e,n){if(e)i.triggerEvent("VAST-error"),r.removeEventListener("VAST-error",t);else if(!e&&n){var o=(l=n).ads.filter(function(e){return!1===e.fetched});!function(e){var t=o.length,n=0;if(0===t)return e();for(var i=0;i<o.length;i++){var r=o[i],a=l.ads.indexOf(r);r.fetch(function(i){0<i.ads.length&&(l.ads[a]=i.ads[0]),++n>=t&&e()})}}(function(){!function(e){var t=["flv","flash"],n=["rtmp"];e&&e.ads&&e.ads.map(function(e){e.creatives.map(function(e){e.mediaFiles&&(e.mediaFiles=e.mediaFiles.filter(function(e){var i=0===t.filter(function(t){return-1<(e.mimeType||"").toLowerCase().indexOf(t)}).length,r=0===n.filter(function(t){return-1<(e.fileURL||"").toLowerCase().indexOf(t)}).length;return i&&r}))})})}(l),i.triggerEvent("AdTagParsed",l)})}},[])},this.kb=function(e){var t;e:{t=e;try{if(window.DOMParser)s=(new DOMParser).parseFromString(t,"application/xml");else{var a=new ActiveXObject("Microsoft.XMLDOM");a.async=!1,a.loadXML(t),s=a}}catch(e){t=!1;break e}t=!0}if(t?o=null!==(o=s.getElementsByTagName("VAST")[0].getAttribute("version"))&&""!==o&&o.length?o.charAt(0):"":i.triggerEvent("VAST-error"),!r){switch(t=null,o){case"2":t=T.Ac;break;case"3":t=T.Bc;break;default:i.triggerEvent("VAST-error",102)}t&&(r=null,(r=new t).a("AdTagParsed",n),r.a("VAST-error",n),r.a(4030,n),r.a(4040,n),r.a(4050,n),r.a(4100,n),r.a(4200,n),r.a("AdTagSkipDetected",n))}r.kb(e)}}function g(){function e(){(B=k.createElement("iframe",{style:"width:0;height:0;top:0;left:0;position:absolute;overflow:hidden;border:none; visibility:hidden;"})).onload=t,H.insertBefore(B,H.firstChild)}function t(){B.ua=(B.contentDocument||B.contentWindow.document).getElementsByTagName("body")[0],B.Ic=B.ua.parentNode.parentNode;var e=k.createElement("script",{type:"text/javascript"});e.innerHTML="var inDapIF = true;",B.ua.appendChild(e),z=k.createElement("div",{id:ie,style:"position:absolute;width:100%;height:100%;top:0;left:0; background:rgba(0,0,0,1); display:none;"}),H.appendChild(z),z=document.getElementById(ie)||H.ownerDocument.getElementById(ie),Z=k.createElement("video",{id:oe,style:"position:absolute;width:100%;height:100%;top:0;left:0;display:none;"}),H.appendChild(Z),Z=document.getElementById(oe)||H.ownerDocument.getElementById(oe),G=k.createElement("div",{id:re,style:"position:absolute;width:100%;height:100%;top:0;left:0;overflow:hidden;"}),H.appendChild(G),G=document.getElementById(re)||H.ownerDocument.getElementById(re),Y=new b(Z,J,z,Q,K.v.vpaidSingleVideoSlotMode),-1<j.indexOf(".swf")||((e=k.createElement("script",{src:k.urlEnrichment.w(j)})).onload=function(){n()},e.onerror=function(){D(6010)},B.ua.appendChild(e))}function n(){if(!te){var e=B.contentWindow.getVPAIDAd;if(!k.D(e))return;te=e()}if(function(e){for(var t="handshakeVersion initAd startAd stopAd skipAd resizeAd pauseAd resumeAd expandAd collapseAd subscribe unsubscribe getAdLinear".split(" "),n=0;n<t.length;n++)if(!k.D(e[t[n]]))return!1;return!0}(te)){C.log(961,te.handshakeVersion("2.0")),-1==="1.1,2.0".indexOf(te.handshakeVersion("2.0"))&&D(6010);e={AdParameters:X};var t={slot:G,videoSlot:Y.Ya(),videoSlotCanAutoPlay:!0,source:j};i(),(W=new v).pc(function(){C.log(1e3),D(6010)});var n,r,o=function(e){if(!e)return!1;var t=e.style.width;return e=/scale|transform/gi.test(e.style.cssText),!!parseInt(t,10)&&-1===t.indexOf("%")&&!e};o(G)?(n=parseInt(G.style.width,10),r=parseInt(G.style.height,10)):o(H)?(n=parseInt(H.style.width,10),r=parseInt(H.style.height,10)):o(H.parentNode)&&(n=parseInt(H.parentNode.style.width,10),r=parseInt(H.parentNode.style.height,10));var a=Q.getVideoSlot();o(a)?(n=parseInt(a.style.width,10),r=parseInt(a.style.height,10)):o(a.parentNode)&&(n=parseInt(a.parentNode.style.width,10),r=parseInt(a.parentNode.style.height,10)),se=function(){var e="normal",t=JSON.stringify(K.U());return-1<j.indexOf("cdn.spotxcdn.com")&&(-1<t.indexOf(x.MediaFileFormat.VERTICAL)||-1<t.indexOf(x.MediaFileFormat.SQUARE))&&(e="dynamic"),e}();var s=null,l=(s=document.getElementById(VideoManager.ava.activeContainer.id+"-frame")?document.getElementById(VideoManager.ava.activeContainer.id+"-frame"):top.document.getElementById(VideoManager.ava.activeContainer.id+"-frame")).contentDocument||s.contentWindow.document;t.videoSlot=l.getElementById("video-slot"),ae.initAd(n,r,se,300,e,t)}else C.log(962)}function i(){var e,t={AdStarted:r,AdStopped:o,AdSkipped:a,AdLoaded:s,AdLinearChange:l,AdSizeChange:c,AdExpandedChange:u,AdSkippableStateChange:d,AdDurationChange:p,AdRemainingTimeChange:h,AdVolumeChange:f,AdImpression:m,AdClickThru:g,AdInteraction:y,AdVideoStart:A,AdVideoFirstQuartile:T,AdVideoMidpoint:w,AdVideoThirdQuartile:R,AdVideoComplete:E,AdUserAcceptInvitation:S,AdUserMinimize:L,AdUserClose:N,AdPaused:I,AdPlaying:V,AdError:U,AdLog:O};for(e in t)te.subscribe(t[e],e,ae)}function r(){C.log(967),_.callTracker("creativeView"),te.getAdLinear()&&(Y.show(),Z.volume=Q.h("volume"),M=Z.volume),D("AdStarted")}function o(){if(clearTimeout(le),te){var e,t={AdStarted:r,AdStopped:o,AdSkipped:a,AdLoaded:s,AdLinearChange:l,AdSizeChange:c,AdExpandedChange:u,AdSkippableStateChange:d,AdDurationChange:p,AdRemainingTimeChange:h,AdVolumeChange:f,AdImpression:m,AdClickThru:g,AdInteraction:y,AdVideoStart:A,AdVideoFirstQuartile:T,AdVideoMidpoint:w,AdVideoThirdQuartile:R,AdVideoComplete:E,AdUserAcceptInvitation:S,AdUserMinimize:L,AdUserClose:N,AdPaused:I,AdPlaying:V,AdError:U,AdLog:O};for(e in t)te.unsubscribe(t[e],e)}C.log(966),Y.hide(),"nonLinear"===$&&Q.h("paused")&&Q.O(),D(6050)}function a(){C.log(965),_.callTracker("skip"),ae.stopAd()}function s(){q&&q.sb(),C.log(964),W.log("onadloaded"),D("AdLoaded",K.c())}function l(){C.log(951,te.getAdLinear()),te.getAdLinear()?(Q.M(),Y.show()):(Y.hide(),Q.O())}function c(){C.log(952,te.getAdWidth(),te.getAdHeight())}function u(){C.log(953,te.getAdExpanded()),q.dc(te.getAdExpanded()),te.getAdExpanded()?(Q.M(),_.callTracker("expand")):(Q.O(),_.callTracker("collapse"))}function d(){C.log(954,te.getAdSkippableState()),D("AdSkippableStateChange",te.getAdSkippableState())}function p(){C.log(955,te.getAdDuration())}function h(){C.log(956,te.getAdRemainingTime())}function f(){C.log(957,te.getAdVolume()),0<te.getAdVolume()&&0===M?(_.callUnmuteTracker(),M=te.getAdVolume()):0===te.getAdVolume()&&0<M&&(M=0,_.Sa())}function m(){C.log(963),_.ya()}function g(e,t,n){C.log(968,e,t,n),n||!n&&!e?(ee=k.Zb(e)?e:void 0,G.addEventListener("mousedown",F,!1),Y.m("play",F),Y.pause(),C.log(402),Y&&Y.setControls(!0),D(6060,ee)):_.Ra()}function y(e){C.log(972,e),_.callTracker("interaction")}function A(){C.log(973),_.callTracker("start")}function T(){C.log(974),_.callTracker("firstQuartile")}function w(){C.log(975),_.callTracker("midpoint")}function R(){C.log(976),_.callTracker("thirdQuartile")}function E(){C.log(977),_.callTracker("complete"),clearTimeout(le),le=setTimeout(function(){O("Force stop after video completion."),ae.stopAd()},2e3)}function S(){C.log(978),_.callTracker("acceptInvitation")}function L(){C.log(979),_.callTracker("collapse")}function N(){C.log(981),_.callTracker("close"),D(6040)}function I(){C.log(980),W.log("onadpaused"),ne||_.callTracker("pause"),D("AdPaused"),ne=!0}function V(){C.log(982),W.log("onadplaying"),ne&&_.callTracker("resume"),D("AdPlaying"),ne=!1}function U(e){C.log(958,e),D(6010,e)}function O(e){C.log(959,e)}function F(){if(Y){Y.g("play",F);var e=Y.play();void 0!==e&&e.then(function(){},function(){})}G.removeEventListener("mousedown",F,!1)}function D(e,t){P.triggerEvent(e,t)}var M,W,P=new k.j.s;M=void 0;var B,j,X,G,H,Z,Y,z,J,q,Q,_,$,K,ee,te,ne=!1,ie="videoSlotBackground"+Math.round(1e6*Math.random()),re="vpaidSlot"+Math.round(1e6*Math.random()),oe="videoSlot"+Math.round(1e6*Math.random()),ae=this,se="normal",le=null;this.ca=function(t,n,i,r,o){j=t.StaticResource,X=t.adParameters,q=n,Q=i,_=r,H=n.Za(),J=Q.getVideoSlot(),K=o,ne=!1,n.Da(),e(),$="nonLinear"},this.Ub=function(t,n,i,r,o){C.log(1001,o.v.vpaidSingleVideoSlotMode),j=t.fileURL,X=t.adParameters,q=n,Q=i,_=r,H=n.Za(),J=Q.getVideoSlot(),K=o,ne=!1,n.Da(),e(),$="linear"},this.initAd=function(e,t,n,i,r,o){ne=!1,C.log(1002,e,t,n,i,r,o),te.initAd(e,t,n,i,r,o)},this.startAd=function(){C.log(1003),te&&(q.sb(),te.startAd())},this.pauseAd=function(){C.log(1004),te&&te.pauseAd&&te.pauseAd()},this.resumeAd=function(){C.log(1006),te&&te.resumeAd&&te.resumeAd()},this.stopAd=function(){C.log(1008),clearTimeout(le),te&&te.stopAd()},this.setAdVolume=function(e){C.log(1009,e),te&&te.setAdVolume&&te.setAdVolume(e)},this.getAdVolume=function(){return te&&te.setAdVolume?te.getAdVolume():-1},this.resizeAd=function(e,t,n){C.log(1010,e,t,n),te&&(Y&&"linear"===$?(te.resizeAd(e,t,n),H.style.cssText+="width:"+parseInt(e,10)+"px;height:"+parseInt(t,10)+"px;"):te.resizeAd(e,t,n))},this.expandAd=function(){C.log(1011),te.expandAd()},this.collapseAd=function(){C.log(1012),te.collapseAd()},this.skipAd=function(){C.log(1013),te.getAdSkippableState()&&te.skipAd()},this.Ga=function(){C.log("Called dead code updateCountdown() in VPAIDBridge#639")},this.nb=function(e){e&&(C.log(1015),te=e,Y?n():setTimeout(this.nb.bind(this,e),50))},this.getSlot=function(){return G},this.getVideoSlot=function(){return Y.Ya()},this.a=P.a,this.b=P.b,this.registerGlobalEventDispatcher=P.registerGlobalEventDispatcher}function v(){function e(e,i){t.forEach(function(r){"INITAD"===r.event&&(r.active=!0,r.W=i,r.Y=e,r.o=window.setTimeout(function(){t.forEach(function(e){"INITAD"===e.event&&e.active&&(e.active=!1,window.clearTimeout(e.o),n.map(function(t){if(t.time>=e.W&&t.time<=e.W+e.timeout)return t}).some(function(t){return t.event===e.ha})||e.Y())})},r.timeout))})}var t=[{active:!1,event:"INITAD",ha:"ONADLOADED",timeout:4e3,o:null,W:null,Y:null},{active:!1,event:"RESIZEAD",ha:"ONADSIZECHANGED",timeout:1e3,o:null,W:null,Y:null},{active:!1,event:"PAUSEAD",ha:"ONADPAUSED",timeout:100,o:null,W:null,Y:null},{active:!1,event:"RESUMEAD",ha:"ONADPLAYING",timeout:100,o:null,W:null,Y:null}],n=[];this.log=function(e){n.push({time:(new Date).getTime(),event:e.toUpperCase()})},this.pc=function(t){var i=(new Date).getTime();e(t,i),n.push({time:i,event:"INITAD"})}}function b(e,t,n,i,r){var o,a,s,l=new k.j.s;this.l=function(e){if(r)return i.l(e);if(e)switch(e){case"width":return k.getWidth(s);case"height":return k.getHeight(s);case"top":return s.offsetTop;case"left":return s.offsetLeft;default:return null}return{width:k.getWidth(s),height:k.getHeight(s),top:s.offsetTop,left:s.offsetLeft}},this.show=function(){r||(s.style.display="block",n.style.display="block",t.style.visibility="hidden")},this.hide=function(){r||(t.style.visibility="visible",s.style.display="none",n.style.display="none")},this.Ga=function(){},this.pause=function(){s.pause()},this.play=function(){var e=s.play();void 0!==e&&e.then(function(){},function(){})},this.setControls=function(e){r?i.setControls(e):s.controls=e},this.m=function(e,t){a.m(s,e,t)},this.g=function(e,t){a.g(s,e,t)},this.a=l.a,this.b=l.b,this.Ya=function(){return o},this.getSlot=function(){return s},a=new k.j.Event,r?(s=t,n.parentNode.removeChild(n),e.parentNode.removeChild(e),o=new y(s),o=k.extend(o,{rb:function(e){i.ja({url:e})},setControls:function(e){i.setControls(e)},pb:function(e){i.ja({url:i.h.currentSrc},e)},load:function(){},play:function(){i.O()},pause:function(){i.M()}})):o=new y(s=e)}function y(e){function t(e,t,n,i){var r=Object.getOwnPropertyDescriptor(e,t);if(r&&r.configurable){var o;if(r.get||r.set)o=r;else{var a=r.value;o={get:function(){return a},set:function(e){a=e}}}var s=n?function(){return n.call(this,t,o)}:o.get,l=i?function(e){i.call(this,t,e,o)}:o.set;Object.defineProperty(e,t,{get:o.get?s:void 0,set:o.set?l:void 0,enumerable:r.enumerable,configurable:!0})}}function n(e){return"ownerDocument"==e?document.createElement("iframe").ownerDocument:(d[e]=l[e],d[e])}function i(e,t){for(var n=p,i=n.length,r=!1;0<=--i;)if(n[i]===e){r=!0;break}if(!r&&"style"!==e){switch(d[e]=t,e){case"src":return void h.rb(t);case"controls":return void h.setControls(t);case"currentTime":return void h.pb(t)}l[e]=d[e]}}function r(){for(var e=u,t=e.length;0<=--t;)d[e[t]]=l[e[t]]}function o(e){s.ic(e.type,e),r()}var a,s,l,c="loadstart emptied canplaythrough ended ratechange progress stalled playing durationchange volumechange suspend loadedmetadata waiting timeupdate abort loadeddata seeking play error canplay seeked pause".split(" "),u="type ownerDocument nodeType tagName error crossOrigin buffered currentTime paused played autoplay controller muted videoTracks height poster src networkState readyState duration defaultPlaybackrate seekable loop controls defaultMuted textTracks videoWidth currentSrc preload seeking startDate playbackRate ended mediaGroup volume audioTracks width videoHeight".split(" "),d={},p="error crossOrigin buffered paused played autoplay controller videoTracks height networkState readyState duration defaultPlaybackrate seekable loop defaultMuted textTracks videoWidth currentSrc preload seeking startDate playbackRate ended mediaGroup audioTracks width videoHeight".split(" "),h=this;this.setAttribute=function(e,t){"type"!==e&&"src"!==e&&-1===e.indexOf("data-")||l.setAttribute(e,t)},this.getElementsByTagName=function(e){return l.getElementsByTagName(e)},this.getAttribute=function(e){return l.getAttribute(e)},this.removeAttribute=function(e){return l.removeAttribute(e)},this.rb=function(e){l.src=e},this.setControls=function(e){l.controls=!!e},this.pb=function(e){l.currentTime=e},this.play=function(){var e=l.play();void 0!==e&&e.then(function(){},function(){})},this.pause=function(){l.pause()},this.load=function(){l.load()},this.canPlayType=function(e){return l.canPlayType(e)},this.tagName=e.tagName,this.getBoundingClientRect=function(){return e.getBoundingClientRect()},this.destroy=function(){a.g(l,c.join(","),o)},this.addEventListener=function(e,t){l.parentNode.querySelector('[id^="vpaidSlot"] > [id^="vpaidSlot"] > ias-ad')&&["touchstart","touchstart","click"].indexOf(-1<(e+"").toLowerCase())&&l.parentNode.querySelector('[id^="vpaidSlot"] > [id^="vpaidSlot"] > iframe').contentWindow.document.body.addEventListener(e,t),s.a(e,t)},this.removeEventListener=function(e,t){s.jc(e,t)},this.dispatchEvent=function(e){l.dispatchEvent(e)},this.getComputedStyle=function(e){return window.getComputedStyle(l,e||null)},this.appendChild=function(){},this.removeChild=function(){},this.Yb="goog_596272282",function(){l=e,s=new k.j.s,(a=new k.j.Event).m(l,c.join(","),o),r();for(var p=u,f=p.length;0<=--f;)h[p[f]]=d[p[f]];for(h.style={},f=(p=u).length;0<=--f;)t(h,p[f],n,i);t(h,"style",n,i),l.setAttribute("data-proxyTag",this.Yb)}()}e.prototype.debug=!1,e.prototype.log=function(){return null},window.InstreamapiDebug=e;var A={level:0,method:"AdControl",Pc:"NonLinear VPAID detected."},T={extensions:{},view:{}};t.prototype={constructor:t,apply:function(e){e.addEventListener=t.prototype.addEventListener,e.ab=t.prototype.ab,e.removeEventListener=t.prototype.removeEventListener,e.dispatchEvent=t.prototype.dispatchEvent},addEventListener:function(e,t){this.F||(this.F={});var n=this.F;n[e]||(n[e]=[]),-1===n[e].indexOf(t)&&n[e].push(t)},ab:function(e,t){if(!this.F)return!1;var n=this.F;return!n[e]&&-1!==n[e].indexOf(t)},removeEventListener:function(e,t){if(this.F){var n=this.F[e];if(n){var i=n.indexOf(t);-1!==i&&n.splice(i,1)}}},dispatchEvent:function(e){if(this.F){var t=this.F[e];if(t){var n=t.length,i=[],r=0;for(r=0;r<n;r++)i[r]=t[r];for(t=0;t<n;t++)(i[t]||function(){}).apply(this,[].slice.call(arguments))}}}};var w,k=((w=k||{}).tb={mp4:{typeExtension:"mp4",typeString:"video/mp4",Fa:"video/mp4|video/x-mp4"},ogv:{typeExtension:"ogv",typeString:"video/ogg",Fa:"video/ogg"},webm:{typeExtension:"webm",typeString:"video/webm",Fa:"video/webm"}},w.na="application/javascript|application/x-javascript|text/javascript",w.Jc="application/x-shockwave-flash",w.urlEnrichment=new n,w.Lc=function(){return[T.IDENTIFIER,T.API_VERSION,T.API_BUILD].join("|")},w.gb=function(e){return"[object Object]"===Object.prototype.toString.call(e)},w.isArray=function(e){return"[object Array]"===Object.prototype.toString.call(e)},w.Zb=function(e){return"[object String]"===Object.prototype.toString.call(e)},w.D=function(e){return"[object Function]"===Object.prototype.toString.call(e)},w.B=function(e){return""!=e&&null!=e&&null!=e},w.Nc=function(e){return!("string"!=typeof e||!e.length)&&Number(e)},w.Oc=function(e){return e&&e.trim&&(e=e.trim()),!!e&&-1===["http://","https://"].indexOf(e)},w.Sc=function(e){var t={};return e.split("?")[1].split("&").forEach(function(e){e=e.split("="),t[decodeURIComponent(e[0])]=decodeURIComponent(e[1])||null}),t},w.za=function(){var e,t=document.createElement("video"),n=[],i=k.tb,r={};for(e in i)i.hasOwnProperty(e)&&(i[e].result=t.canPlayType(i[e].typeString),n.push(i[e].typeExtension+":"+i[e].result),""!==i[e].result&&(r[e]=i[e]));return C.log(901,n.join(", ")),r},w.tc=function(e){var t="";/\?/.test(e)&&(e=(e=e.split("?"))[0]);var n=(n=e.split("."))[n.length-1];return["mp4","ogv","webm"].forEach(function(e){n===e&&(t=e)}),t},w.ba=function(){return w.La?500:w.Ab?1e3:w.zb?1700:0},w.unique=function(e){return e.reduce(function(e,t){return 0>e.indexOf(t)&&e.push(t),e},[])},w.clone=function(e){if(!e||"object"!=typeof e)return e;var t,n=new e.constructor;for(t in e)e.hasOwnProperty(t)&&(n[t]=w.clone(e[t]));return n},w.extend=function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n]);return e},w.$b="ontouchstart"in window||"ontouchstart"in document.documentElement,w.Ma=!1,w.u=navigator.userAgent,w.wb=/MSIE/.test(w.u),w.Ec=/Opera/.test(w.u),w.xb=/mobile/i.test(w.u),w.Ka=/android/i.test(w.u),w.Uc=void["HTC Sensation","HTC Sense"].forEach(function(e){new RegExp(e,"i").test(w.u)&&(w.Ma=!0)}),w.I=w.Ka&&/mobile/i.test(w.u)&&!(/chrome/i.test(w.u)&&/Mobile Safari/.test(w.u))&&!w.Ma,w.Ab=w.I||/iPad/i.test(w.u),w.zb=/TV/.test(w.u),w.ra=/iP(hone|ad|od)/i.test(w.u),w.La=w.I||/iP(hone|od)/i.test(w.u),w.Cc=w.Ka&&/chrome/i.test(w.u),w.yb=/Mobile Safari/.test(w.u),w.Dc=!/chrome/i.test(w.u)&&/android/i.test(w.u)&&/safari/i.test(w.u)&&(!w.xb||w.yb),w.cb=function(e){return!!e.externalConfigXml},w.j=function(){},w.j.s=function(){var e=[],t=null;this.C=function(e,n){if(null!==t)for(var i=0;i<t.length;i++)t[i](e,n)},this.registerGlobalEventDispatcher=function(e){null===t&&(t=[]),t.push(e)},this.G=function(){t=null},this.a=function(t,n){e.push({event:t,listener:n})},this.b=function(t){for(var n=0;n<e.length;n++)e[n].event===t&&e.splice(n,1)},this.jc=function(t,n){for(var i=0;i<e.length;i++){var r=!n||e[i].listener===n;e[i].event===t&&r&&e.splice(i,1)}},this.triggerEvent=function(t,n){this.C(t,n);for(var i=0;i<e.length;i++){var r=e[i];r.event===t&&"function"==typeof r.listener&&r.listener({type:t,info:n})}},this.ic=function(t,n){for(var i=0;i<e.length;i++){var r=e[i];r.event===t&&"function"==typeof r.listener&&r.listener(n)}}},w.j.Event=function(){var e=[];this.m=function(t,n,i){if(t){n=n.split(",");for(var r=0;r<n.length;r++)"function"==typeof t.addEventListener?t.addEventListener(n[r],i,!1):"function"==typeof t.attachEvent&&t.attachEvent("on"+n[r],i),e.push({target:t,Wa:n[r],Sb:i})}},this.g=function(t,n,i){if(i)if("all"===(n=n.split(","))[0])for(n=0;n<e.length;n++)e[n].target===t&&e[n].Sb===i&&("function"==typeof t.removeEventListener?t.removeEventListener(e[n].Wa,i):"function"==typeof t.detachEvent&&t.detachEvent("on"+e[n].Wa,i),e.splice(n,1));else{for(var r=0;r<n.length;r++)"function"==typeof t.removeEventListener?t.removeEventListener(n[r],i):"function"==typeof t.detachEvent&&t.detachEvent("on"+n[r],i);e=[]}}},w.qa=function(e){function t(){o.triggerEvent("timeupdate",{id:n,data:r})}var n,i,r=null,o=new w.j.s;this.start=function(){n=setInterval(t,i)},this.stop=function(){clearInterval(n)},this.__defineSetter__("data",function(e){r=e}),this.a=o.a,this.b=o.b,i=e},w.createElement=function(e,t){var n;try{n=document.createElement(e)}catch(t){n=document.createElement("<"+e+">")}if(t)for(var i in"id"in t||n.setAttribute("id",w.Ua()),t)t.hasOwnProperty(i)&&n.setAttribute(i,t[i]);return n},w.sa=function(e,t){if(e)for(var n in t)e.style[n]=t[n]},w.wa=function(e,t){return w.B(e)?e.getElementsByTagName(t):[]},w.S=function(e,t){if(w.B(e))return e.getElementsByTagName(t)[0]},w.T=function(e){if(!e||!e.childNodes[0])return!1;for(var t=e.childNodes.length,n="",i="",r=!1;t--;){if(4===e.childNodes[t].nodeType){i=w.trim(e.childNodes[t].nodeValue);break}3===e.childNodes[t].nodeType&&(n=w.trim(e.childNodes[t].nodeValue))}return 1<e.childNodes.length&&(i=e.textContent),""!==i?r=i:""!==n&&(r=n),r},w.Kb=function(e){if(!e)return!1;for(var t={},n=0;n<e.attributes.length;n++)t[e.attributes[n].name]=e.attributes[n].value;return t},w.trim=function(e){return e.replace(/^\s+|\s+$/g,"")},w.ma=function(e,t){var n,i=e;for(n in t)t.hasOwnProperty(n)&&w.B(t[n])&&(i=i.replace(String(n),String(t[n])));return i},w.Ua=function(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(e){var t=16*Math.random()|0;return("x"==e?t:3&t|8).toString(16)}).toUpperCase()},w.V=function(e){var t=0,n=e.split(".")[0];for(n=e.split(":").reverse(),e=0;e<n.length;e++)t+=parseInt(n[e]*Math.pow(60,e),10);return t},w.fc=function(e,t){if(!e)return e;var n,i=!(!e||-1===e.indexOf("%")),r=parseInt(e,10);return t&&i?("string"==typeof t?n=w.V(t.split(".")[0]):isNaN(t)||(n=parseInt(t,10)),n&&!isNaN(r)?r/100*n:"IGNORE"):isNaN(e)?w.V(e.split(".")[0]):e},w.qc=function(e){return!!w.B(e)&&0<["doubleclick","smartclip.net","adtech","userreport.com"].filter(function(t){return-1<e.indexOf(t)}).length},w.Ob=function(){var e,t=window,n=document;for(e in t={innerWidth:[t.innerWidth,n.body.clientWidth,n.documentElement.clientWidth],innerHeight:[t.innerHeight,n.body.clientHeight,n.documentElement.clientHeight],scrollX:[t.scrollX,n.documentElement.scrollLeft,n.body.scrollLeft],scrollY:[t.scrollY,n.documentElement.scrollTop,n.body.scrollTop]})if(t.hasOwnProperty(e)){for(n=0;n<t[e].length;n++)"number"!=typeof t[e][n]&&(t[e].splice(n,1),n--);t[e]=t[e][0]}},w.getWidth=function(e){return!e||e&&!e.getBoundingClientRect?-1:e.getBoundingClientRect().width},w.getHeight=function(e){return!e||e&&!e.getBoundingClientRect?-1:e.getBoundingClientRect().height},w.isDocumentInFullScreenMode=function(){return document.Ib&&null!==document.Ib||document.mozFullScreen||document.webkitIsFullScreen},w.Wc=function(e){for(var t=window.frameElement,n=window;t;)(e||function(){})(t),t=(n=t.ownerDocument.defaultView).frameElement;return n},w.fb=function(){return window!==top},w.eb=function(){return!w.fb()||w.fb()&&null!==window.frameElement},w.Z=function(e){if(0===e.indexOf("//")){var t=location.protocol;"file:"===t&&(t="https:"),e=t+e}return e},w),C=new e,R=[],E=[];k.find=function(e,t){return Array.prototype.map.call((t||document).querySelectorAll(e),function(e){return e})},k.D=function(e){var t=Object.prototype.toString.call(e);return"[object Function]"===t||"function"==typeof e&&"[object RegExp]"!==t||"undefined"!=typeof window&&(e===window.setTimeout||e===window.alert||e===window.confirm||e===window.prompt)},k.ac=function(e){return k.D(e.canPlayType)&&k.D(e.play)};var x=window.ois=function e(n,i,a){if(k.D(n))return R.forEach(function(e){n(e.fa,e.element,e.ec,{adManager:e.adManager,config:e.Qc})}),E.push(n);if("number"==typeof n||void 0===n)return R[n||0].fa;if(n.nodeType)return null!==n.getAttribute("data-ois-instance-id")?(a=R[n.getAttribute("data-ois-instance-id")],i&&a.v.oa(i),a.fa):i?function(e,n,i){var a;if(!e.getAttribute("data-ois-instance-id")){e.setAttribute("data-ois-instance-id",R.length);var l=null;n.displaySlot&&n.displaySlot.nodeType&&(l=n.displaySlot),"string"==typeof n.displaySlot&&(l=k.find(n.displaySlot)[0]||null),a=new s(e,l),l=new o(n);var c=new r(a,l),u=new function(e,n){var i={};t.prototype.apply(this);var r=function(e,t){var n;"AdVideoResume"===(n=null===(n=-1!==String(e).indexOf("onTrack")?t:null)?e:"AdVideo"+(n[0].toUpperCase()+n.slice(1)))&&(n="AdVideoPlay"),"AdVideoImpression"===n&&(n="AdImpression"),"AdVideoSkip"===n&&(n="AdSkipped"),this.dispatchEvent(n,t)}.bind(this);return i.adManager=e,i.handshakeVersion=function(){return"2.0"},i.initAd=function(t,n,i,o,a,s){if(s&&s.rules)for(t=s.rules.length-1;0<=t;t--)k.gb(s.rules[t])&&e.addRuleToRuleSet(s.rules[t]);if(isNaN(o)||(k.ba=function(){return o}),s&&s.desiredMimeTypes){var l=JSON.parse(JSON.stringify(k.tb));t=Object.keys(l);var c=s.desiredMimeTypes.join(" "),u={};t.filter(function(e){return-1<c.indexOf(l[e].typeString)}).forEach(function(e){u[e]=l[e]}),k.za=function(){var e,t=document.createElement("video"),n={};for(e in u)u.hasOwnProperty(e)&&(u[e].result=t.canPlayType(u[e].typeString),""!==u[e].result&&(n[e]=u[e]));return n}}e.registerGlobalEventDispatcher(r)},i.startAd=function(){e.start()},i.stopAd=function(){e.destroy()},i.skipAd=function(){this.dispatchEvent("AdSkipped"),e.skipAd()}.bind(this),i.resizeAd=function(t,i,r){n.style.width=parseInt(t,10)+"px",n.style.height=parseInt(i,10)+"px",e.resize(t,i,r)},i.pauseAd=function(){e.pauseAd()},i.resumeAd=function(){e.resumeAd()},i.expandAd=function(){},i.collapseAd=function(){},i.setAdVolume=function(t){e.setAdVolume(t)},i.getAdVolume=function(){return e.getAdVolume()},i.getAdMutedState=function(){return e.getAdMutedState()},i.getSlot=function(){return e.getSlot()},i.getVideoSlot=function(){return e.getVideoSlot()},i.getPlayerSlot=function(){return a.getParent()},i.subscribe=function(e,t,n){return this.addEventListener(t,e,n),e}.bind(this),i.unsubscribe=function(e,t){this.removeEventListener(t,e)}.bind(this),i}(c,e),d={adManager:c,config:l};E.forEach(function(t){t(u,e,n,d)}),R.push({fa:u,element:e,ec:n,adManager:c,v:l}),(i||Function)()}return R[e.getAttribute("data-ois-instance-id")].fa}(n,i,a):null;if(k.ac(n))return n.nodeType="ois",e(n,i,a);if("string"==typeof n){var l=k.find(n)[0];return l&&e(l,i,a)}return null};x(function(e,t,n,i){var r=i.adManager,o=i.v;return e.load=function(){},e.shutdown=function(){r.destroy(),delete R[t.getAttribute("data-ois-instance-id")],t.removeAttribute("data-ois-instance-id")},e.registerVASTExtension=function(e,t){window[e]=t;var n=o.Lb();n.vastExtensions[e]=!0,o.oa(n)},e.utils=k,e}),x(function(e){function t(n,i){if(e.unsubscribe(t,"AdTagParsed"),(!i||0!==i.ads.length)&&i){for(var r=a=0;r<i.ads.length;r++){var o=i.ads[r].creatives.filter(function(e){return"linear"===e.type}).shift();o&&!o.errorCode&&(a+=o.duration?o.duration:20)}0===a&&(a=-1)}}function n(){"commercial"===e.getVariant()&&o!==this.duration&&0<a&&(a=a-o+this.duration)}var i=null,r=-1,o=-1,a=-1,s=-1,l=null;e.subscribe(function(){(l=e.getVideoSlot()).addEventListener("loadedmetadata",n)},"AdSlotStart"),e.subscribe(function(){e.subscribe(t,"AdTagParsed"),l&&l.removeEventListener("loadedmetadata",n)},"AdSlotComplete"),e.subscribe(function(e,t){i=new Date,o=t.creatives.filter(function(e){return"linear"===e.type}).shift().duration,this.dispatchEvent("AdDurationChange")},"AdLoaded"),e.subscribe(function(){var t=(new Date-i)/1e3;r=o-t;var n=e.Pb();-1<n&&(s=n-t),this.dispatchEvent("AdRemainingTimeChange")},"AdVideoTimeupdate"),e.subscribe(t,"AdTagParsed"),e.getAdRemainingTime=function(){return r},e.getAdDuration=function(){return o},e.Kc=function(){return s},e.Pb=function(){return a}}),x(function(e,t,n,i){function r(t){var n={};if((t=t.getElementsByTagName("OIS"))&&t[0]){for(var i=t[0].children.length-1;0<=i;i--){var r=t[0].children[i];n[r.tagName]=r.textContent}a.oa(n),s=!0,l&&e.startAd()}}function o(){s=!0,l&&e.startAd()}var a=i.v,s=!1,l=!1,c=e.startAd;return e.startAd=function(){l=!0,s&&c.apply(e,[].slice.call(arguments))},function(){var e=n.configXML;e?function(e,t,n){var i="undefined"!=typeof XMLHttpRequest?new XMLHttpRequest:new ActiveXObject("Microsoft.XMLHTTP");i.open("GET",e,!0),i.onreadystatechange=function(){4===i.readyState&&(200===i.status?(t||Function)(i.responseXML):(n||Function)(i.status))},i.send(null)}(e,r,o):s=!0}(),e}),T.API_VERSION="3.0.1",T.API_BUILD="004663",T.IDENTIFIER="OISHTML5VE",T.MediaSelector=function(e,t){function n(e){return"boolean"==typeof e?e:"string"==typeof e&&"true"===e}function i(e){return"string"==typeof e?e.toLowerCase():e}function r(){s&&(l=s.filter(function(e){return function(e){var t=!0;return a.forEach(function(r){var o;e:{for(o in r)break e;o=void 0}if(o=i(o),r=i(r[o]),k.B(o)&&k.B(r))switch(o){case"delivery":case"type":case"format":case"mimeType":case"apiframework":"type"===o&&(o="mimeType"),"mimeType"===o&&(r=r.split("|")),e.hasOwnProperty(o)&&-1===r.indexOf(e[o].toLowerCase())&&(t=!1);break;case"bitrate":case"width":e.hasOwnProperty(o)&&parseInt(e[o],10)>parseInt(r,10)&&(t=!1);break;case"scalable":case"maintainaspectratio":e.hasOwnProperty(o)&&n(e[o])!==n(r)&&(t=!1)}}),t}(e)}))}var o=new k.j.s,a=t.U(),s=e.c()&&0<e.c().creatives.length&&e.J().mediaFiles,l=[];this.a=o.a,this.b=o.b,this.registerGlobalEventDispatcher=o.registerGlobalEventDispatcher,this.sc=function(){l.sort(function(e,t){return parseInt(e.bitrate,10)>parseInt(t.bitrate,10)?1:parseInt(e.bitrate,10)<parseInt(t.bitrate,10)?-1:0})},this.Hb=function(){return t.removeRule("bitrate"),t.addRule({bitrate:k.ba()||5e3}),t.ib(),a=t.U(),r(),1>l.length&&(t.removeRule("bitrate"),t.removeRule("format"),a=t.U(),r()),this},this.Ca=function(){return l}},T.extensions.CustomTrackingEvents=function(e,t,n,i,r){function o(e){switch(e.info){case"creativeView":l.start()}}var a,s,l,c=this,u=[],d=new k.j.s;this.Jb=function(){return{"[sc_systemDomain]":"undefined","[sc_viewtime]":Math.round(100*(s.totalTime-s.la))/100,"[sc_percentvisible]":e.K().A||void 0,"[uif_adslot]":"linear"}},this.setViewport=function(){},this.destroy=function(){},this.a=d.a,this.b=d.b,function(){e.$a(),s=t,(a=i).a("onTrack",o);var d=new T.extensions.CustomTrackingEvents.Parser;n&&(u=d.parse(n)),l=new T.extensions.CustomTrackingEvents.CustomTrackingEventHandler(e.K,u,c,a),r.a("AdStopped",l.destroy)}()},T.extensions.CustomTrackingEvents.Parser=function(){this.parse=function(e){var t,n=[];e=k.wa(e,"Tracking");for(var i=0;i<e.length;i++){var r=e[i];t=k.Kb(r),r=k.T(r),"viewableImpression"===(t=k.extend({},t)).event&&(t.offset=t.offset?1e3*k.V(t.offset):2e3,t.visibility=t.visibility?parseInt(t.visibility,10):50),t.url=r,n.push(t)}return n}},T.extensions.CustomTrackingEvents.CustomTrackingEventHandler=function(e,t,n,i){function r(t){if(t=t.info.data,e().A>t.visibility?t.N++:t.N=0,250*t.N/1e3>=t.offset/1e3){if(k.B(t.url)){var o=k.urlEnrichment.w(k.ma(t.url,n.Jb()));i.callCustomTracker(o,"viewableImpression")}t.o.b("timeupdate",r),t.o.stop()}}var o;this.start=function(){t=t.filter(function(e){return"viewableImpression"===e.event}),e&&t.length&&t.forEach(function(e){(o=new k.qa(250)).data=e,e.o=o,e.N=0,o.a("timeupdate",r),o.start()})},this.destroy=function(){!function(){try{t.forEach(function(e){e.o.b("timeupdate",r),e.o.stop()})}catch(e){}}()}},window.ois(function(e,t){function n(t,n){e.subscribe(function i(){t.apply(this,arguments),e.unsubscribe(i,n)},n)}function i(e){e=e.target.getAttribute("data-program"),e=l[e];for(var t=0;t<e.clickTracking.length;t++)(new Image).src=k.urlEnrichment.w(e.clickTracking[t]);window.open(e.clickThrough,"_blank")}function r(){if(a){for(var e in l){var t,n=l[e],r=document.createElement("img");for(t in n.attributes)n.attributes[t]&&r.setAttribute(t,n.attributes[t]);r.setAttribute("data-program",e),r.style.pointerEvents="auto",r.style.cursor="pointer",r.style.zIndex="10",r.addEventListener("click",i),a.appendChild(r),(new Image).src=k.urlEnrichment.w(n.zc)}a.style.display="block"}}function o(){a&&a.parentNode.removeChild(a)}Number.isFinite=Number.isFinite||function(e){return"number"==typeof e&&isFinite(e)};var a=null,s=[],l={},c={Ea:0,X:0,va:0,Gc:0};n(function(e,n){s=n,(a=document.createElement("div")).setAttribute("style","position:absolute;width:100%;height:100%;top:0;left:0;display:none;pointer-events:none;"),t.parentNode.appendChild(a);for(var i=s.length-1;0<=i;i--){var r=s[i],o=r.program||"unknown-"+i;if(!l[o]){var u={attributes:{},style:{}};u.style.width=parseInt(r.width,10)+"px",u.style.height=parseInt(r.height,10)+"px",u.style.position="absolute";var d=parseInt(r.yPosition,10);Number.isFinite(d)?0<=d?u.style.top=d+"px":u.style.bottom=Math.abs(d)+"px":(u.style.top="top"===r.yPosition?0:"initial",u.style.bottom="bottom"===r.yPosition?0:"initial"),d=parseInt(r.xPosition,10),Number.isFinite(d)?0<=d?u.style.left=d+"px":u.style.right=Math.abs(d)+"px":"left"===r.xPosition?"top"===r.yPosition?(u.style.left=c.Ea+"px",c.Ea+=parseInt(r.width,10)):"bottom"===r.yPosition?(u.style.left=c.va+"px",c.va+=parseInt(r.width,10)):u.style.left=0:"right"===r.xPosition?"top"===r.yPosition?(u.style.right=c.X+"px",c.X+=parseInt(r.width,10)):"bottom"===r.yPosition?(u.style.right=c.Qa+"px",c.Qa+=parseInt(r.width,10)):u.style.right=0:(u.style.top=0,u.style.right=c.X+"px",c.X+=parseInt(r.width,10)),u.attributes.style=JSON.stringify(u.style),u.attributes.style=u.attributes.style.substring(1,JSON.stringify(u.style).length-1),u.attributes.style=u.attributes.style.replace(/\"/gi,"").replace(/\,/gi,";")+";",u.attributes.src=r.staticResource,u.clickThrough=r.iconClickThroughURLTemplate,u.clickTracking=r.iconClickTrackingURLTemplates,u.zc=r.iconViewTrackingURLTemplate,u.offset=new Date("01/01/1970 "+r.offset).getSeconds()||0,u.duration=new Date("01/01/1970 "+r.duration).getSeconds()||-1,l[o]=u}}},4300),n(r,"AdImpression"),n(o,"AdStopped")}),window.ois.MediaFileFormat={WIDE:"wide",SQUARE:"square",VERTICAL:"vertical"},window.ois(function(e,t){function n(t,n){e.subscribe(function i(){t.apply(this,arguments),e.unsubscribe(i,n)},n)}function i(n){if(!e.adManager.isVPAID()&&u[s]&&(n=n.creatives.filter(function(e){return"linear"===e.type}).shift().supportedMediaFiles.filter(function(e){return!e.attributes||e.attributes.format===s})).length){var i=function(){t.removeEventListener("loadedmetadata",i,!1),0>o&&(o=0),t.currentTime=o,void 0===d&&a&&t.pause()},r=k.ba()||5e3;if(n=n.reduce(function(e,t){return Math.abs(t.bitrate-r)<Math.abs(e.bitrate-r)?t:e})){var o=t.currentTime-.5,a=t.paused,l=t.webkitDisplayingFullscreen||!1;if(t.src=k.Z(n.fileURL),t.addEventListener("loadedmetadata",i,!1),t.load(),!c){var d=t.play();void 0!==d&&d.then(function(){var e=t.webkitDisplayingFullscreen||!1;(a||l!=e)&&t.pause()},function(){C.log("MediaElement: The play() request failed.")})}}}}function r(){c=!1}function o(){c=!0}function a(){clearTimeout(l),t.removeEventListener("webkitbeginfullscreen",r),t.removeEventListener("webkitendfullscreen",o)}var s,l=0,c=!1,u={Yc:!1,Vc:!1,Xc:!1};t.addEventListener("webkitbeginfullscreen",r),t.addEventListener("webkitendfullscreen",o),n(function(e,t){t&&t.ads&&t.ads.length&&t.ads.forEach(function(e){var t=e.creatives.filter(function(e){return"linear"===e.type}).shift();!e.errorCode&&0<e.creatives.length&&t.mediaFiles.forEach(function(e){var t=parseInt(e.width,10)/parseInt(e.height,10);e.attributes||(e.attributes={}),1<t?(e.attributes.format=window.ois.MediaFileFormat.WIDE,u.wide=!0):1>t?(e.attributes.format=window.ois.MediaFileFormat.VERTICAL,u.vertical=!0):(e.attributes.format=window.ois.MediaFileFormat.SQUARE,u.square=!0)})})},"AdTagParsed"),n(function e(n,r){var o;l=setTimeout(e,20),(o=1<(o=t.getBoundingClientRect().width/t.getBoundingClientRect().height)?window.ois.MediaFileFormat.WIDE:1>o?window.ois.MediaFileFormat.VERTICAL:window.ois.MediaFileFormat.SQUARE)!==s&&(s=o,i(r))},"AdLoaded"),n(a,"AdSlotComplete"),n(a,"AdError")}),T.extensions.SCAdVisibility=function(e,t,n,i,r){function o(e){switch(e.info){case"creativeView":c.forEach(function(e){var t=new k.qa(e.interval);t.data=e,e.o=t,t.a("timeupdate",s),t.start(),s({info:{data:e}})}),h.start()}}function a(){c.forEach(function(e){e.o.b("timeupdate",s),e.o.stop()})}function s(t){(t=t.info.data.url)&&(t=k.createElement("img",{src:l(t),style:"display:none;",onerror:"this.parentNode.removeChild(this);",onload:"this.parentNode.removeChild(this);"}),e.Da().appendChild(t))}function l(t){var n=e.K().A||void 0;return isNaN(n)?(t=k.ma(t,{"[sc_percentvisible]":"JSINJECTIONERROR"}),a()):t=k.ma(t,f.Xa()),k.urlEnrichment.w(t)}var c,u,d,p,h,f=this,m=new k.j.s;this.Xa=function(){var t=d.v.vb;return{"[sc_systemDomain]":t||"undefined","[sc_viewtime]":Math.round(100*(d.totalTime-d.la))/100,"[sc_percentvisible]":e.K().A||void 0,"[uif_adslot]":"linear"}},this.setViewport=function(){},this.destroy=function(){a()},this.a=m.a,this.b=m.b,function(){e.$a(),d=t,(u=i).a("onTrack",o);var a=new T.extensions.SCAdVisibility.Parser;c=a.parse(n),p=a.hc(n),h=new T.extensions.SCAdVisibility.ViewableImpressionHandler(e.K,p,f,u),r.a("AdStopped",h.destroy)}()},T.extensions.SCAdVisibility.Parser=function(){this.parse=function(e){var t=[];e=k.wa(e,"Tracking");for(var n=0;n<e.length;n++)e[n]&&t.push({interval:parseInt(k.T(k.S(e[n],"Interval")),10),url:k.T(k.S(e[n],"URL"))});return t},this.hc=function(e){var t,n,i,r,o=[];if(t=k.wa(e,"BooleanView"),!k.B(t))return o;for(var a=0;a<t.length;a++)t[a]&&(e={},(n=k.S(t[a],"ViewConditions"))&&(i=parseInt(k.T(k.S(n,"ViewThreshold")),10),r=parseInt(k.T(k.S(n,"ViewTime")),10)),n=k.T(k.S(t[a],"ViewURL")),e.xc=isNaN(i)?50:i,e.yc=isNaN(r)?2e3:r,e.ub=n.length?n:"",o.push(e));return o}},T.extensions.SCAdVisibility.ViewableImpressionHandler=function(e,t,n,i){function r(t){if(t=t.info.data,e().A>t.xc?t.N++:t.N=0,250*t.N/1e3>=t.yc/1e3){if(k.B(t.ub)){var o=k.urlEnrichment.w(k.ma(t.ub,n.Xa()));i.callCustomTracker(o,"viewableImpression")}t.o.b("timeupdate",r),t.o.stop()}}var o;this.start=function(){e&&t.length&&t.forEach(function(e){(o=new k.qa(250)).data=e,e.o=o,e.N=0,o.a("timeupdate",r),o.start()})},this.destroy=function(){!function(){try{t.forEach(function(e){e.o.b("timeupdate",r),e.o.stop()})}catch(e){}}()}},function(){function e(){this.attributes={},this.children=[]}function t(){this.id=null,this.height=this.width=0,this.companionClickThroughURLTemplate=this.iframeResource=this.htmlResource=this.staticResource=this.type=null,this.trackingEvents={}}function n(){this.program=null,this.yPosition=this.xPosition=this.width=this.height=0,this.offset=this.apiFramework=null,this.duration=0,this.iconClickThroughURLTemplate=this.iframeResource=this.htmlResource=this.staticResource=this.type=null,this.iconClickTrackingURLTemplates=[],this.iconViewTrackingURLTemplate=null}function i(){this.viewableImpression=this.flashResource=this.javascriptResource=this.vendor=null}function r(){this.fileURL=this.id=null,this.deliveryType="progressive",this.codec=this.mimeType=null,this.height=this.width=this.maxBitrate=this.minBitrate=this.bitrate=0,this.maintainAspectRatio=this.scalable=this.apiFramework=null}function o(e){e=void 0===e?{}:e,this.id=e.id||null,this.adId=e.adId||null,this.sequence=e.sequence||null,this.apiFramework=e.apiFramework||null,this.trackingEvents={}}function a(e){e=void 0===e?{}:e,o.call(this,e),this.type="linear",this.duration=0,this.skipDelay=null,this.mediaFiles=[],this.videoClickThroughURLTemplate=null,this.videoClickTrackingURLTemplates=[],this.videoCustomClickURLTemplates=[],this.adParameters=null,this.icons=[]}function s(e){e=void 0===e?{}:e,o.call(this,e),this.type="nonlinear",this.variations=[],this.videoClickTrackingURLTemplates=[]}function l(e){e=void 0===e?{}:e,o.call(this,e),this.type="companion",this.variations=[],this.videoClickTrackingURLTemplates=[]}function c(){this.survey=this.pricing=this.advertiser=this.description=this.title=this.system=this.sequence=this.id=this.url=null,this.errorURLTemplates=[],this.impressionURLTemplates=[],this.creatives=[],this.extensions=[],this.adVerifications=[],this.wrappers=[],this.fetch=function(){},this.fetched=!1}function u(){this.id=null,this.expandedHeight=this.expandedWidth=this.height=this.width=0,this.maintainAspectRatio=this.scalable=!0,this.minSuggestedDuration=0,this.apiFramework="static",this.nonlinearClickThroughURLTemplate=this.iframeResource=this.htmlResource=this.staticResource=this.type=null,this.nonlinearClickTrackingURLTemplates=[],this.adParameters=null}function d(){this.value=this.name=null,this.attributes={},this.children=[]}function p(){this.ads=[],this.errorURLTemplates=[]}function h(){}function f(){}function m(){}function g(){}function v(){this.maxWrapperDepth=10,this.blockInsecureURL=!1,this.currentWrapperDepth=0,this.URLTemplateFilters=[],this.wrapperCallbackHandlers=[],k.EventDispatcher.prototype.apply(this)}var b={scope:{},getGlobal:function(e){return"undefined"!=typeof window&&window===e?e:"undefined"!=typeof global?global:e}};b.global=b.getGlobal(this),b.initSymbol=function(){b.global.Symbol||(b.global.Symbol=b.Symbol),b.initSymbol=function(){}},b.symbolCounter_=0,b.Symbol=function(e){return"jscomp_symbol_"+e+b.symbolCounter_++},b.initSymbolIterator=function(){b.initSymbol(),b.global.Symbol.iterator||(b.global.Symbol.iterator=b.global.Symbol("iterator")),b.initSymbolIterator=function(){}},b.makeIterator=function(e){if(b.initSymbolIterator(),e[b.global.Symbol.iterator])return e[b.global.Symbol.iterator]();if(!(e instanceof Array||"string"==typeof e||e instanceof String))throw new TypeError(e+" is not iterable");var t=0;return{next:function(){return t==e.length?{done:!0}:{done:!1,value:e[t++]}}}},b.arrayFromIterator=function(e){for(var t,n=[];!(t=e.next()).done;)n.push(t.value);return n},b.arrayFromIterable=function(e){return e instanceof Array?e:b.arrayFromIterator(b.makeIterator(e))},b.arrayFromArguments=function(e){for(var t=[],n=0;n<e.length;n++)t.push(e[n]);return t},b.inherits=function(e,t){function n(){}for(var i in n.prototype=t.prototype,e.prototype=new n,e.prototype.constructor=e,t)if(b.global.Object.defineProperties){var r=b.global.Object.getOwnPropertyDescriptor(t,i);void 0!==r&&b.global.Object.defineProperty(e,i,r)}else e[i]=t[i]},Object.defineProperties(t.prototype,{hasCreatives:{configurable:!0,enumerable:!0,get:function(){return this.staticResource||this.htmlResource||this.iframeResource}}}),b.inherits(a,o),b.inherits(s,o),b.inherits(l,o),Object.defineProperties(c.prototype,{hasError:{configurable:!0,enumerable:!0,get:function(){return!isNaN(this.errorCode)}}});var y={isSecureURL:function(e){return"https:"===window.location.protocol&&0!==(e+"").indexOf("http://")||"https:"!==window.location.protocol}},A={extend:function e(t){var n=[];return n.forEach.call(n.slice.call(arguments,1),function(n){if(n)for(var i in n)({}).hasOwnProperty.call(n,i)&&(t[i]="object"==typeof t[i]&&"object"==typeof n[i]&&null!==n[i]?e(t[i],n[i]):n[i])}),t}},T=function(e,t){if(0===e.indexOf("//")){var n=location.protocol;return"file:"===n&&(n="https:"),n+e}return-1===e.indexOf("://")?t.slice(0,t.lastIndexOf("/"))+"/"+e:e},w=function(e){if("string"==typeof e==!1)return e;var t=null;return window.DOMParser?t=(new DOMParser).parseFromString(e,"text/xml"):(t=new ActiveXObject("Microsoft.XMLDOM")).loadXML(e),t};h.prototype.xdr=function(){return window.XDomainRequest?new window.XDomainRequest:null},h.supported=function(){return!!(new h).xdr()},h.prototype.get=function(e,t,n){if("function"!=typeof window.ActiveXObject)n();else{var i=new window.ActiveXObject("b");i.async=!1,xdr=this.xdr(),xdr.open("GET",e),xdr.timeout=t.timeout||0,xdr.withCredentials=!1!==t.withCredentials,xdr.onprogress=function(){},xdr.onload=function(){i.loadXML(xdr.responseText),n(null,i)},xdr.send()}},f.prototype.xhr=function(){var e=new window.XMLHttpRequest;return"withCredentials"in e?e:null},f.supported=function(){return!!(new f).xhr()},f.prototype.get=function(e,t,n){try{var i=this,r=this.xhr();r.open("GET",e),r.timeout=t.timeout||0,r.withCredentials=!1!==t.withCredentials,r.overrideMimeType&&r.overrideMimeType("text/xml"),r.onreadystatechange=function(){if(4===r.readyState)if(200===r.status){var o=r.responseXML;!o&&r.responseText&&(o=w(r.responseText)),o?n(null,o):(r.statusText="Response contains neither 'responseXML' nor 'responseText'",n(Error("XHRURLHandler: "+r.statusText)))}else 0===r.status&&r.withCredentials?((o=JSON.parse(JSON.stringify(t))).withCredentials=!1,i.get(e,o,n)):n(Error("XHRURLHandler: "+r.statusText))},r.send()}catch(e){n(e)}},m.prototype.get=function(e,t,n){var i=n,r=t;return n||("function"==typeof t&&(i=t),r={}),i?(t=r.urlhandler,r.response?(i(null,w(r.response)),null):t&&t.supported()?(new t).get(e,r,i):f.supported()?(new f).get(e,r,i):h.supported()?(new h).get(e,r,i):i()):null};var k={};g.prototype={constructor:g,apply:function(e){e.addEventListener=g.prototype.addEventListener,e.hasEventListener=g.prototype.hasEventListener,e.removeEventListener=g.prototype.removeEventListener,e.dispatchEvent=g.prototype.dispatchEvent},addEventListener:function(e,t){this._listeners||(this._listeners={});var n=this._listeners;n[e]||(n[e]=[]),-1===n[e].indexOf(t)&&n[e].push(t)},hasEventListener:function(e,t){if(!this._listeners)return!1;var n=this._listeners;return!(!n[e]||-1===n[e].indexOf(t))},removeEventListener:function(e,t){if(this._listeners){var n=this._listeners[e];if(n){var i=n.indexOf(t);-1!==i&&n.splice(i,1)}}},dispatchEvent:function(e){if(this._listeners){var t=this._listeners[e];if(t){var n=t.length,i=[],r=0;for(r=0;r<n;r++)i[r]=t[r];for(t=0;t<n;t++)(i[t]||function(){}).apply(this,[].slice.call(arguments,1))}}}},k.EventDispatcher=g,v.prototype.trackError=function(e,t,n,i){this.dispatchEvent("VAST-error",{response:JSON.parse(JSON.stringify(e)),errorCode:n,errorURLTemplates:t,silent:i})},v.prototype.addURLTemplateFilter=function(e){"function"==typeof e&&this.URLTemplateFilters.push(e)},v.prototype.removeURLTemplateFilter=function(){return this.URLTemplateFilters.pop()},v.prototype.countURLTemplateFilters=function(){return this.URLTemplateFilters.length},v.prototype.clearUrlTemplateFilters=function(){this.URLTemplateFilters=[]},v.prototype.addWrapperCallbackHandler=function(e){"function"==typeof e&&this.wrapperCallbackHandlers.push(e)},v.prototype.removeWrapperCallbackHandler=function(){return this.wrapperCallbackHandlers.pop()},v.prototype.countWrapperCallbackHandlers=function(){return this.wrapperCallbackHandlers.length},v.prototype.clearWrapperCallbackHandlers=function(){this.wrapperCallbackHandlers=[]},v.prototype.parseXPosition=function(e){return-1!==["left","right"].indexOf(e)?e:parseInt(e,10)||0},v.prototype.parseYPosition=function(e){return-1!==["top","bottom"].indexOf(e)?e:parseInt(e,10)||0},v.prototype.parseNodeText=function(e){return e&&(e.textContent||e.text||"").trim()},v.prototype.copyNodeAttribute=function(e,t,n){(t=t.getAttribute(e))&&n.setAttribute(e,t)},v.prototype.parseDuration=function(e){if(!e)return-1;if(isNaN(parseFloat(e))&&isFinite(e))return parseInt(e,10);var t=e.split(":");if(3!==t.length)return-1;var n=t[2].split(".");return e=parseInt(n[0],10),2===n.length&&(e+=parseFloat("0."+n[1])),n=parseInt(60*t[1],10),t=parseInt(3600*t[0],10),isNaN(t)||isNaN(n)||isNaN(e)||3600<n||60<e?-1:t+n+e},v.prototype.parseBoolean=function(e,t){return-1<["true","1"].indexOf((e+"").toLowerCase())||!(-1<["false","0"].indexOf((e+"").toLowerCase()))&&(t||!1)},v.prototype.childByName=function(e,t){for(var n=0;n<e.childNodes.length;n++){var i=e.childNodes.item(n);if(i.nodeName===t)return i}return null},v.prototype.childsByName=function(e,t){for(var n=[],i=0;i<e.childNodes.length;i++){var r=e.childNodes.item(i);r.nodeName===t&&n.push(r)}return n},v.prototype.parseNextWrapperURL=function(e){var t=null,n=this.childByName(e,"VASTAdTagURI");return n?t=this.parseNodeText(n):(n=this.childByName(e,"VASTAdTagURL"))&&(t=this.parseNodeText(this.childByName(n,"URL"))),t},v.prototype.parseWrapperElement=function(e){var t=this.parseInLineElement(e);t.nextWrapperURL=this.parseNextWrapperURL(e),t.videoClickTrackingURLTemplates||(t.videoClickTrackingURLTemplates=[]),t.videoCustomClickURLTemplates||(t.videoCustomClickURLTemplates=[]),e=t.creatives;for(var n=0;n<e.length;n++){var i=e[n],r=null;"linear"!==i.type&&"nonlinear"!==i.type||(r=i)&&(r.trackingEvents&&(t.trackingEvents||(t.trackingEvents={}),t.trackingEvents[r.type]=r.trackingEvents),r.videoClickTrackingURLTemplates&&(t.videoClickTrackingURLTemplates=r.videoClickTrackingURLTemplates.concat(t.videoClickTrackingURLTemplates)),r.videoClickThroughURLTemplate&&(t.videoClickThroughURLTemplate=r.videoClickThroughURLTemplate),r.videoCustomClickURLTemplates&&(t.videoCustomClickURLTemplates=r.videoCustomClickURLTemplates.concat(t.videoCustomClickURLTemplates)))}return t.nextWrapperURL?t:null},v.prototype.parseSkipOffset=function(e,t){var n=null;return(n=t.getAttribute("skipoffset"))?"%"===n.charAt(n.length-1)&&-1!==e.duration?(percent=parseInt(n,10),n=percent/100*e.duration):n=this.parseDuration(n):n=null,n},v.prototype.parseVideoClicks=function(e){var t={videoClickTrackingURLTemplates:[],videoCustomClickURLTemplates:[]};if(e=this.childByName(e,"VideoClicks")){t.videoClickThroughURLTemplate=this.parseNodeText(this.childByName(e,"ClickThrough"));for(var n=this.childsByName(e,"ClickTracking"),i=0;i<n.length;i++)t.videoClickTrackingURLTemplates.push(this.parseNodeText(n[i]));for(e=this.childsByName(e,"CustomClick"),n=0;n<e.length;n++)t.videoCustomClickURLTemplates.push(this.parseNodeText(e[n]))}return t},v.prototype.parseTrackingEvents=function(e){var t={};e=this.childsByName(e,"TrackingEvents");for(var n=0;n<e.length;n++)for(var i=this.childsByName(e[n],"Tracking"),r=0;r<i.length;r++){var o=i[r],a=o.getAttribute("event"),s=this.parseNodeText(o);if(a&&s){if("progress"===a){if(!(o=o.getAttribute("offset")))continue;a="%"===o.charAt(o.length-1)?"progress-"+o:"progress-"+Math.round(this.parseDuration(o))}t[a]||(t[a]=[]),t[a].push(s)}}return t},v.prototype.parseMediaFileScalable=function(e){return!(e=e.getAttribute("scalable"))||"string"!=typeof e||"false"!==(e=e.toLowerCase())},v.prototype.parseMediaFileMaintainAspectRatio=function(e){return!(e=e.getAttribute("maintainAspectRatio"))||"string"!=typeof e||"false"!==(e=e.toLowerCase())},v.prototype.parseMediaFiles=function(e){var t=[];e=this.childsByName(e,"MediaFiles");for(var n=0;n<e.length;n++)for(var i=this.childsByName(e[n],"MediaFile"),o=0;o<i.length;o++){var a=i[o],s=new r;s.id=a.getAttribute("id"),s.fileURL=this.parseNodeText(a),s.deliveryType=a.getAttribute("delivery"),s.codec=a.getAttribute("codec"),s.mimeType=a.getAttribute("type"),s.apiFramework=a.getAttribute("apiFramework"),s.bitrate=parseInt(a.getAttribute("bitrate")||0,10),s.minBitrate=parseInt(a.getAttribute("minBitrate")||0,10),s.maxBitrate=parseInt(a.getAttribute("maxBitrate")||0,10),s.width=parseInt(a.getAttribute("width")||0,10),s.height=parseInt(a.getAttribute("height")||0,10),s.scalable=this.parseMediaFileScalable(a),s.maintainAspectRatio=this.parseMediaFileMaintainAspectRatio(a),t.push(s)}return t},v.prototype.parseIcons=function(e){var t=[];if(e=this.childByName(e,"Icons")){e=this.childsByName(e,"Icon");for(var i=0;i<e.length;i++){var r=e[i];(o=new n).program=r.getAttribute("program"),o.height=parseInt(r.getAttribute("height"),10)||0,o.width=parseInt(r.getAttribute("width"),10)||0,o.xPosition=this.parseXPosition(r.getAttribute("xPosition")),o.yPosition=this.parseYPosition(r.getAttribute("yPosition")),o.apiFramework=r.getAttribute("apiFramework"),o.offset=this.parseDuration(r.getAttribute("offset")),o.duration=this.parseDuration(r.getAttribute("duration"));var o=A.extend(o,this.parseResourceAdType(r));if(a=this.childByName(r,"IconClicks")){o.iconClickThroughURLTemplate=this.parseNodeText(this.childByName(a,"IconClickThrough"));for(var a=this.childsByName(a,"IconClickTracking"),s=0;s<a.length;s++)o.iconClickTrackingURLTemplates.push(this.parseNodeText(a[s]))}o.iconViewTrackingURLTemplate=this.parseNodeText(this.childByName(r,"IconViewTracking")),t.push(o)}}return t},v.prototype.parseCreativeLinearElement=function(e,t){var n=new a(t=void 0===t?{}:t);n.duration=this.parseDuration(this.parseNodeText(this.childByName(e,"Duration"))),n.skipDelay=this.parseSkipOffset(n,e);var i=this.parseVideoClicks(e);if(n.videoClickThroughURLTemplate=i.videoClickThroughURLTemplate,n.videoClickTrackingURLTemplates=n.videoClickTrackingURLTemplates.concat(i.videoClickTrackingURLTemplates),n.videoCustomClickURLTemplates=n.videoCustomClickURLTemplates.concat(i.videoCustomClickURLTemplates),n.trackingEvents=this.parseTrackingEvents(e),n.mediaFiles=n.mediaFiles.concat(this.parseMediaFiles(e)),n.icons=n.icons.concat(this.parseIcons(e)),i=this.childByName(e,"AdParameters"))for(n.adParameters=this.parseNodeText(i),i=0;i<n.mediaFiles.length;i++)n.mediaFiles[i].adParameters=n.adParameters;return n},v.prototype.parseResourceAdType=function(e){for(var t={},n=this.childsByName(e,"HTMLResource"),i=0;i<n.length;i++){var r=n[i];t.type=r.getAttribute("creativeType")||"text/html",t.htmlResource=this.parseNodeText(r)}for(n=this.childsByName(e,"IFrameResource"),i=0;i<n.length;i++)r=n[i],t.type=r.getAttribute("creativeType")||0,t.iframeResource=this.parseNodeText(r);for(e=this.childsByName(e,"StaticResource"),n=0;n<e.length;n++)i=e[n],t.type=i.getAttribute("creativeType")||0,t.staticResource=this.parseNodeText(i);return t},v.prototype.parseNonLinear=function(e,t){var n=new s(t=void 0===t?{}:t);n.trackingEvents=this.parseTrackingEvents(e);for(var i=this.childsByName(e,"NonLinear"),r=0;r<i.length;r++){var o=i[r];(a=new u).id=o.getAttribute("id")||null,a.width=o.getAttribute("width"),a.height=o.getAttribute("height"),a.expandedWidth=o.getAttribute("expandedWidth"),a.expandedHeight=o.getAttribute("expandedHeight"),a.scalable=this.parseBoolean(o.getAttribute("scalable")),a.maintainAspectRatio=this.parseBoolean(o.getAttribute("maintainAspectRatio")),a.minSuggestedDuration=o.getAttribute("minSuggestedDuration"),a.apiFramework=o.getAttribute("apiFramework");var a=A.extend(a,this.parseResourceAdType(o)),l=this.childByName(o,"AdParameters");for(l&&(a.adParameters=this.parseNodeText(l)),a.nonlinearClickThroughURLTemplate=this.parseNodeText(this.childByName(o,"NonLinearClickThrough")),l=(o=b.makeIterator(this.childsByName(o,"NonLinearClickTracking"))).next();!l.done;l=o.next())a.nonlinearClickTrackingURLTemplates.push(this.parseNodeText(l.value));n.variations.push(a)}return n},v.prototype.parseCompanionAd=function(e,n){for(var i=new l(n=void 0===n?{}:n),r=this.childsByName(e,"Companion"),o=0;o<r.length;o++){var a=r[o];(s=new t).id=a.getAttribute("id")||null,s.width=a.getAttribute("width"),s.height=a.getAttribute("height"),s.companionClickTrackingURLTemplates=[];for(var s=A.extend(s,this.parseResourceAdType(a)),c=this.childsByName(a,"TrackingEvents"),u=0;u<c.length;u++)for(var d=this.childsByName(c[u],"Tracking"),p=0;p<d.length;p++){var h=(f=d[p]).getAttribute("event"),f=this.parseNodeText(f);h&&f&&(s.trackingEvents[h]||(s.trackingEvents[h]=[]),s.trackingEvents[h].push(f))}for(u=(c=b.makeIterator(this.childsByName(a,"CompanionClickTracking"))).next();!u.done;u=c.next())s.companionClickTrackingURLTemplates.push(this.parseNodeText(u.value));s.companionClickThroughURLTemplate=this.parseNodeText(this.childByName(a,"CompanionClickThrough")),s.companionClickTrackingURLTemplate=this.parseNodeText(this.childByName(a,"CompanionClickTracking")),i.variations.push(s)}return i},v.prototype.parseCreativeAdIdAttribute=function(e){if(!e.hasAttributes())return null;e=Array.prototype.slice.call(e.attributes);for(var t=0;t<e.length;t++){var n=e[t];if(n&&n.name){var i=n.value;if("adid"===n.name.toLowerCase())return i}}return null},v.prototype.parseCreativeElement=function(e,t){for(var n=this.childsByName(t,"Creative"),i=0;i<n.length;i++)for(var r=(o=n[i]).childNodes,o={id:o.getAttribute("id")||null,adId:this.parseCreativeAdIdAttribute(o),sequence:parseInt(o.getAttribute("sequence"),10),apiFramework:o.getAttribute("apiFramework")||null},a=0;a<r.length;a++){var s=r.item(a),l=null;switch(s.nodeName){case"Linear":l=this.parseCreativeLinearElement(s,o);break;case"NonLinearAds":l=this.parseNonLinear(s,o);break;case"CompanionAds":l=this.parseCompanionAd(s,o)}l&&e.creatives.push(l)}},v.prototype.parseExtensionChild=function(e,t){for(var n=t.childNodes,i=0;i<n.length;i++){var r=n.item(i),o=this.parseNodeText(r);if("#comment"!==r.nodeName&&""!==o||r.attributes){var a=new d;if(a.name=r.nodeName,a.value=o,r.attributes){o=r.attributes;for(var s=0;s<o.length;s++){var l=o.item(s);a.attributes[l.nodeName]=l.nodeValue}}r.childNodes&&0<r.childNodes.length&&this.parseExtensionChild(a.children,r),e.push(a)}}},v.prototype.parseExtension=function(t,n){for(var i=0;i<n.length;i++){var r=n[i],o=new e;if(r.attributes)for(var a=r.attributes,s=0;s<a.length;s++){var l=a.item(s);o.attributes[l.nodeName]=l.nodeValue}this.parseExtensionChild(o.children,r),t.push(o)}},v.prototype.parseAdVerifications=function(e,t){for(var n=0;n<t.length;n++){var r=t[n],o=new i,a={};o.vendor=r.getAttribute("vendor")||null;var s=this.childByName(r,"JavaScriptResource");if(s&&(a.url=this.parseNodeText(s),a.apiFramework=s.getAttribute("apiFramework")||"VPAID",o.javascriptResource=a,(r=this.childByName(r,"AdParameters"))&&r.hasChildNodes()))for(var l in r.childNodes)(a=r.childNodes[l]).nodeType===Node.ELEMENT_NODE&&(o.adParameters||(o.adParameters={}),o.adParameters[a.nodeName]=this.parseNodeText(a));e.push(o)}},v.prototype.parseInLineElement=function(e){var t=new c;t.id=e.getAttribute("id")||null,t.sequence=parseInt(e.getAttribute("sequence"),10),t.fallbackType=e.getAttribute("fallbackType")||"replace",t.fallbackOnNoAd=this.parseBoolean(e.getAttribute("fallbackOnNoAd"),!1),t.followAdditionalWrappers=this.parseBoolean(e.getAttribute("followAdditionalWrappers"),!0),t.allowMultipleAds=this.parseBoolean(e.getAttribute("allowMultipleAds"),!1),e=e.childNodes;for(var n=0;n<e.length;n++){var i=e.item(n);switch(i.nodeName){case"Error":(i=this.parseNodeText(i))&&i.length&&t.errorURLTemplates.push(i);break;case"Impression":t.impressionURLTemplates.push(this.parseNodeText(i));break;case"AdVerifications":this.parseAdVerifications(t.adVerifications,this.childsByName(i,"Verification"));break;case"Creatives":this.parseCreativeElement(t,i);break;case"Extensions":this.parseExtension(t.extensions,this.childsByName(i,"Extension"));break;case"AdSystem":t.system={value:this.parseNodeText(i),version:i.getAttribute("version")||null};break;case"AdTitle":t.title=this.parseNodeText(i);break;case"Description":t.description=this.parseNodeText(i);break;case"Advertiser":t.advertiser=this.parseNodeText(i);break;case"Pricing":t.pricing={value:this.parseNodeText(i),model:i.getAttribute("model")||null,currency:i.getAttribute("currency")||null};break;case"Survey":t.survey=this.parseNodeText(i)}}return t},v.prototype.parseAdElement=function(e){for(var t=e.childNodes,n=0;n<t.length;n++){var i=t.item(n);if("Wrapper"===i.nodeName||"InLine"===i.nodeName){if(this.copyNodeAttribute("id",e,i),this.copyNodeAttribute("sequence",e,i),this.copyNodeAttribute("fallbackOnNoAd",e,i),this.copyNodeAttribute("fallbackType",e,i),this.copyNodeAttribute("followAdditionalWrappers",e,i),this.copyNodeAttribute("allowMultipleAds",e,i),"Wrapper"===i.nodeName)return this.parseWrapperElement(i);if("InLine"===i.nodeName)return this.parseInLineElement(i)}}return null},v.prototype.mergeWrapperAdData=function(e,t){e.wrappers=t.wrappers.concat(e.wrappers),e.errorURLTemplates=t.errorURLTemplates.concat(e.errorURLTemplates),e.impressionURLTemplates=t.impressionURLTemplates.concat(e.impressionURLTemplates),e.extensions=t.extensions.concat(e.extensions),e.adVerifications=t.adVerifications.concat(e.adVerifications),e.sequence=t.sequence,e.fallbackType=t.fallbackType,e.fallbackOnNoAd=t.fallbackOnNoAd||this.parseBoolean(e.fallbackOnNoAd,!1),e.followAdditionalWrappers=t.followAdditionalWrappers||this.parseBoolean(e.followAdditionalWrappers,!0),e.allowMultipleAds=t.allowMultipleAds||this.parseBoolean(e.allowMultipleAds,!1);var n=t.creatives.filter(function(e){return"companion"===e.type}).shift(),i=e.creatives.filter(function(e){return"companion"===e.type}).shift();n&&i?i.variations=n.variations.concat(i.variations):n&&!i&&((i=new l).variations=n.variations.concat(i.variations),e.creatives.push(i)),t.trackingEvents&&e.creatives.map(function(e){t.trackingEvents[e.type]&&Object.keys(t.trackingEvents[e.type]).map(function(n){e.trackingEvents[n]||(e.trackingEvents[n]=[]),e.trackingEvents[n]=e.trackingEvents[n].concat(t.trackingEvents[e.type][n])})}),e.creatives.map(function(e){t.creatives.map(function(t){e.icons=(e.icons||[]).concat(t.icons||[])})}),t.videoClickTrackingURLTemplates&&e.creatives.map(function(e){"linear"===e.type&&(e.videoClickTrackingURLTemplates=e.videoClickTrackingURLTemplates.concat(t.videoClickTrackingURLTemplates))}),t.videoClickThroughURLTemplate&&e.creatives.map(function(e){"linear"!==e.type||e.videoClickThroughURLTemplate||(e.videoClickThroughURLTemplate=t.videoClickThroughURLTemplate)})},v.prototype.urlResponseHandler=function(e,t,n,i,r,o){function a(){for(var e=u.ads.length-1;0<=e;e--){var n=u.ads[e];if(n.nextWrapperURL){for(e=JSON.parse(JSON.stringify(n)),n.VASTAdTagURI=t[1],n.wrappers.push(e),n=s.wrapperCallbackHandlers.length-1;0<=n;n--)(0,s.wrapperCallbackHandlers[n])(e,s.currentWrapperDepth);return}}0!==u.ads.length&&(u.ads.map(function(e){u.errorURLTemplates.map(function(t){-1===e.errorURLTemplates.indexOf(t)&&e.errorURLTemplates.push(t)})}),u.errorURLTemplates=[]),0===l?0===u.ads.length?(s.trackError(u,u.errorURLTemplates,303),i(r,u)):(u.ads.filter(function(e){return!s.isBrokenAd(e)}).map(function(e){e.creatives.map(function(t){var n=0<(t.mediaFiles||[]).filter(function(e){return!y.isSecureURL(e.fileURL)}).length;t=0<(t.variations||[]).filter(function(e){return!y.isSecureURL(e.fileURL)}).length,s.blockInsecureURL&&(n||t)&&(e.errorCode=405)})}),u.ads.map(function(e){var t=void 0;s.hasValidCreatives(e)||(t=400),s.isBrokenAd(e)&&(t=303),!isNaN(t)&&isNaN(e.errorCode)&&e.fetched&&(e.errorCode=t)}),s.handleFallbackOnNoAdFlag(u.ads),n=u.ads.filter(function(e){return!1===e.fetched&&!e.hasError}),0===u.ads.filter(function(e){return e.hasError&&e.fallbackOnNoAd}).length&&(n=[]),e=function(){s.deleteNeedlessBuffetAds(u.ads),u.ads.map(function(e){e.hasError&&(e.creatives=[])}),u.ads.sort(s.bySequence),1===u.ads.length&&u.ads[0].errorCode&&(0===u.errorURLTemplates.length?s.trackError(u,u.ads[0].errorURLTemplates,u.ads[0].errorCode):s.trackError(u,u.errorURLTemplates,u.ads[0].errorCode),u.ads.splice(0,1)),i(r,u)},0<n.length?(n=n.shift(),e=u.ads.indexOf(n),n.fetch(function(e,t){0<t.ads.length&&(u.ads[e]=t.ads[0]),a()}.bind(s,e))):e()):i(r,u)}var s=this,l=this.currentWrapperDepth++;if(r)return i(r);delete n.response;var u=new p;if(!o||!o.documentElement||"VAST"!==o.documentElement.nodeName)return i();for(var d=0;d<o.documentElement.childNodes.length;d++){var h=o.documentElement.childNodes.item(d);"Error"===h.nodeName&&u.errorURLTemplates.push(this.parseNodeText(h))}for(d=0;d<o.documentElement.childNodes.length;d++)"Ad"===(h=o.documentElement.childNodes.item(d)).nodeName&&((h=this.parseAdElement(h))?(h.url=h.nextWrapperURL?T(h.nextWrapperURL,e):e,h.fetched=!0,u.ads.push(h)):this.trackError(u,u.errorURLTemplates,101));for(o=u.ads.length,d={$jscomp$this$5:void 0};o--;)d.$jscomp$this$5=this,(h=u.ads[o]).nextWrapperURL&&(function(i){return function(r){if(t.length-1>=i.$jscomp$this$5.maxWrapperDepth||r.nextWrapperURL in t)r.errorCode=302,delete r.nextWrapperURL;else if(r.followAdditionalWrappers){e&&(r.nextWrapperURL=T(r.nextWrapperURL,e));var o=function(e,n){if(delete r.nextWrapperURL,e)return r.errorCode=e.errorCode||301,e.message&&-1!==e.message.indexOf("Invalid URL")&&(r.errorCode=303),a();if(n&&n.errorURLTemplates&&(u.errorURLTemplates=u.errorURLTemplates.concat(n.errorURLTemplates)),n&&0!==n.ads.length){var o=u.ads.indexOf(r);u.ads.splice(o,1),n.ads.map(function(e){return function(n){e.$jscomp$this$5.mergeWrapperAdData(n,r),n.VASTAdTagURI=t[1],u.ads.splice(++o,0,n)}}(i))}else r.creatives=[];return a()},s=0<u.ads.filter(function(e){return!isNaN(e.sequence)}).length;isNaN(r.sequence)&&!n.prefetchBuffets&&s?(o=new p,r.fetched=!1,r.fetchURL=r.nextWrapperURL,delete r.nextWrapperURL,r.fetch=function(e){return function(i){e.$jscomp$this$5.parse(r.fetchURL,n,function(t,n){if(0<n.ads.length)n.ads.map(function(e){return function(t){e.$jscomp$this$5.mergeWrapperAdData(t,r),t.VASTAdTagURI=r.url}}(e));else{var o=new c;o.errorURLTemplates=r.errorURLTemplates.concat(n.errorURLTemplates),o.errorCode=303,o.sequence=r.sequence,o.fetched=!0,o.fallbackOnNoAd=!0,n.ads.push(o)}i(n)},t)}}(i),o.ads.push(r)):i.$jscomp$this$5.parse(r.nextWrapperURL,n,o.bind(i.$jscomp$this$5),t)}else delete r.nextWrapperURL,i.$jscomp$this$5.isBrokenAd(r)&&isNaN(r.errorCode)&&(r.errorCode=303)}}(d)(h),d={$jscomp$this$5:d.$jscomp$this$5});return a()},v.prototype.handleFallbackOnNoAdFlag=function(e){var t=this;e.sort(this.bySequence);var n=e.filter(function(e){return isNaN(e.sequence)&&!t.isBrokenAd(e)}),i=e.filter(function(e){return t.isBrokenAd(e)&&e.fallbackOnNoAd&&e.sequence&&!e.replaced}),r=e.filter(function(e){return e.fallbackOnNoAd&&e.sequence});if(0!==r.length){var o=parseInt(r[r.length-1].sequence,10);if(0===i.length)return this.deleteNeedlessBuffetAds(e);i.forEach(function(t){var i=n.shift();if(i){var r=e.indexOf(t);i.sequence=t.sequence+.1,t.fallbackType&&"waterfall"===t.fallbackType&&(r=e.indexOf(i),i.sequence=o++),t.replaced=!0,e.splice(r,i)}})}},v.prototype.deleteNeedlessBuffetAds=function(e){if(0!==e.length&&!isNaN(e[0].sequence))for(var t=e.length;t--;)isNaN(e[t].sequence)&&e.splice(t,1)},v.prototype.bySequence=function(e,t){return e.sequence-t.sequence||(e.sequence||1/0)-(t.sequence||1/0)||0},v.prototype.hasValidCreatives=function(e){return 0<e.creatives.filter(function(e,t,n){t=e.mediaFiles&&0<e.mediaFiles.length;var i=e.variations&&0<e.variations.length;return!!(0<n.length&&(t||i))&&(!(i&&!t)||0<e.variations.filter(function(e){return!0===e.hasCreative}).length)}).length},v.prototype.isBrokenAd=function(e){return!e||e.hasError||e.fetched&&!this.hasValidCreatives(e)},v.prototype.getClosestIndexOfNextValidAd=function(e,t){var n=this,i=1/0;return e.map(function(e,r){var o=Math.abs(i-t),a=Math.abs(r-t);!n.isBrokenAd(e)&&a<o&&r!==t&&(i=r)}),1/0===i?-1:i},v.prototype.parse=function(e,t,n,i){i=void 0===i?[]:i;var r=e;n=void 0===n?function(){}:n;var o=t=void 0===t?{}:t;for("function"==typeof t&&(n=t,o={}),this.blockInsecureURL=o.blockInsecureURL||!1,this.maxWrapperDepth=o.maxWrapperDepth||10,t=this.URLTemplateFilters.length-1;0<=t;t--)r=(0,this.URLTemplateFilters[t])(e);i.push(r),this.blockInsecureURL&&!y.isSecureURL(r)?n({errorCode:310,errorMessage:"Mixed Content: This request has been blocked; the ad-request must be served over HTTPS."},null):(new m).get(r,o,this.urlResponseHandler.bind(this,e,i,o,n))},window.VASTParser=v}()}();var a={};function s(e){return encodeURIComponent(e).replace(/[!'()*]/g,function(e){return"%"+e.charCodeAt(0).toString(16)})}function l(e,t){return Array(Math.max((void 0===t?2:t)-String(e).length+1,0)).join(0)+e}function c(t,n){n=void 0===n?{}:n;for(var i=[],r=e.makeIterator(["ASSETURI","CONTENTPLAYHEAD"]),o=r.next();!o.done;o=r.next())n[o=o.value]=s(n[o]);for(null===n.ERRORCODE||/^[0-9]{3}$/.test(n.ERRORCODE)||(n.ERRORCODE=900),n.CACHEBUSTING=l(Math.round(1e8*Math.random()),8).toString(),n.TIMESTAMP=s((new Date).toISOString()),n.RANDOM=n.random=n.CACHEBUSTING,r=0;r<t.length;r++)if(o=t[r]){for(var a=e.makeIterator(Object.entries(n)),c=a.next();!c.done;c=a.next()){c=(u=e.makeIterator(c.value)).next().value;var u=u.next().value,d="%%"+c+"%%",p=c;o=(o=(o=o.replace("["+c+"]",u)).replace(d,u)).replace(p,u)}i.push(o)}return i}a.encodeURIComponentRFC3986=s,a.pad=l,a.resolveURLTemplates=c,a.track=function(e,t){for(var n=c(e,t),i=0;i<n.length;i++){var r=n[i];window&&((new Image).src=r)}};var u,d={listVersions:function(e,t){for(var n=[e.getVersion()],i=t.length-1;0<=i;i--){var r=t[i];r.getVersion&&n.push(r.getVersion())}console.log(n)}},p={},h=window.getComputedStyle(document.documentElement,""),f=(Array.prototype.slice.call(h).join("").match(/-(moz|webkit|ms)-/)||""===h.OLink&&["","o"])[1],m="WebKit|Moz|MS|O".match(new RegExp("("+f+")","i"))[1];u={js:f[0].toUpperCase()+f.substr(1),dom:m,css:"-"+f+"-",lowercase:f},p.prefix=u;var g={};g.extend=function e(t){var n=[];return n.forEach.call(n.slice.call(arguments,1),function(n){if(n)for(var i in n)({}).hasOwnProperty.call(n,i)&&(t[i]="object"==typeof t[i]&&"object"==typeof n[i]&&null!==n[i]?e(t[i],n[i]):n[i])}),t};var v=function(e){var t={adRequest:"",adResponse:"",timeText:"",headerText:"Advertisement",skipText:"",skipOffset:-1,uiLayout:"minimal",volume:.75,visibilityThreshold:50,behaviourMatrix:{},featureMatrix:{},prefetching:!1,onCappedCallback:function(){},onStartCallback:function(){},onEndCallback:function(){},onEventCallback:function(){},onPrefetchCompleteCallback:function(){},onClickThruCallback:function(){},minElementHeight:30,forceCollapseOnShutdown:!0,parentProspectorValue:null},n={flash:{enabled:!1,source:""},layout:{enabled:!0,source:[]},endingScreen:{enabled:!0,source:""},bestFit:{enabled:!0},formats:{wide:!0,square:!0,vertical:!0},formatChange:{inline:["wide","vertical","square"],fullscreen:["wide","vertical"]}},i={init:{collapsed:!0,paused:!0,muted:!0},onScreen:{collapsed:!1,paused:!1,muted:!0},offScreen:{collapsed:!1,paused:!0,muted:!0},complete:{collapsed:!0,paused:!1,muted:!0},onClick:{collapsed:!1,paused:!0,muted:!0},mouseOver:{collapsed:!1,paused:!1,muted:!0},mouseOut:{collapsed:!1,paused:!1,muted:!0}};return function(e){return e.behaviourMatrix=g.extend(i,e.behaviourMatrix),e.behaviourMatrix.init.muted=!0,e.featureMatrix=g.extend(n,e.featureMatrix),g.extend(t,e)}(e)},b={BaseAPI:function(e,t,n){function i(){}var r=t.debug||!1,o={utils:{},model:{},controller:{},view:{}};return o.publisherConfig=new v(t),o.elements=null,o.debug=(r?console.log:i||i).bind(console,"[SmartPlay (4.12.0-gb8fd472)]"),o.info=(2<=r?console.info:i||i).bind(console,"[SmartPlay Info (4.12.0-gb8fd472)]"),o.getVersion=function(){return"4.12.0-gb8fd472"},o.shutdown=function(){(t.onShutdown||i)(e),o.elements.iframe.parentNode&&e.removeChild(o.elements.iframe),o.elements.backdrop.parentNode&&e.removeChild(o.elements.backdrop),delete n[e.getAttribute("data-smartPlay-instance-id")],e.removeAttribute("data-smartPlay-instance-id"),o.elements.nodes&&0<o.elements.nodes.length&&o.elements.nodes[0].style.removeProperty("transition"),e.id&&-1!==e.id.indexOf("sc-")&&e.parentNode&&e.parentNode.removeChild(e)},function(){e.style.transition=e.style[p.prefix.js+"Transition"]="height 0.5s",e.style.position="relative",e.style.overflow="hidden";var t=e.id.replace(/\W+/g,"-");e.insertAdjacentHTML("beforeend",'<div id="'+t+'-backdrop" style="width: 100%; height: inherit; position: absolute; border: 0; margin: 0; top: 0; left: 0;;pointer-events: none;"></div>'),e.insertAdjacentHTML("beforeend",'<iframe id="'+t+'-frame" frameborder="0" scrolling="no" style="width: 100%; height: inherit; position: absolute; border: 0; margin: 0; top: 0; left: 0;"></iframe>'),o.elements={iframe:e.querySelector("#"+t+"-frame"),backdrop:e.querySelector("#"+t+"-backdrop")},o.elements.iframeDocument=o.elements.iframe.contentDocument,o.elements.iframeDocument.open().write("<!doctype html><html><head></head><body></body></html>"),o.elements.iframeDocument.close()}(),o}};(window.ElementLocator=function e(t,n){function i(e,t){return void 0===e?t:e}function r(){}function o(e){for(var t=[];e.parentNode;){if(null!==e.getAttribute("id")){t.unshift("#"+e.getAttribute("id"));break}if(e===e.ownerDocument.documentElement)t.unshift(e.tagName.toLowerCase());else{var n=e,i=1;for(i=1;n.previousElementSibling;i++)n=n.previousElementSibling;t.unshift(e.tagName.toLowerCase()+":nth-child("+i+")")}e=e.parentNode}return t.join(">")}function a(e,t){var n=e.getBoundingClientRect(),i=t.getBoundingClientRect();return n.top<i.top?-1:n.top>i.top?1:0}function s(){var e=function(){if(!v)return null;var e=Array.prototype.slice.call(y.querySelectorAll("img")),t={};return Array.prototype.slice.call(y.querySelectorAll("p")).forEach(function(e){var n=o(e.parentNode);t[n]=t[n]||{a:0,height:0},t[n].a+=1,t[n].height+=e.getBoundingClientRect().height,t[n].node=e.parentNode}),e.forEach(function(e){for(var n=e;n.parentNode;){var i=o(n.parentNode);if(t[i]){t[i].a+=1,t[i].height+=e.getBoundingClientRect().height;break}n=n.parentNode}}),(e=Object.keys(t).sort(function(e,n){return t[n].height-t[e].height}))&&0<e.length?t[e[0]]:null}();A("located content block",e);var t=0,n=null,i=["div","p","section"].map(function(e){return 0<m.length?e+m.split("/").join("\\/"):e}),r=y.body.getBoundingClientRect(),s=y;if(e&&(s=e.node),e=Array.prototype.slice.call(s.querySelectorAll(i.join(","))),[].sort.call(e,a),0<m.length&&1===e.length)return A("only located one element based on",m,"stopping further checks"),e[0];for(f&&(d=b+d,b=0),i=[],A("elements found in the content block",e),s=0;s<e.length;s++){var l=e[s].getBoundingClientRect(),c=(l=e[s].offsetTop||l.top-r.top,e[s].offsetWidth);c<=p?A("skipping element",e[s],"because it does not match height or is smaller than",p):l>b&&l<b+d&&(A(e[s],"in close inspection"),c>=t&&(t=c,i.push(e[s]),A("selected",e[s],t,c)))}return 0<i.length&&(n=i[Math.floor(i.length/2)],A("suitableElements collected",i,"and in the end",n,"selected")),n}var l={},c=i(n,{}),u=i(t,e.b),d=i(c.scanPixelsBelowViewport,600),p=i(c.minimumElementWidth,320),h=i(c.elementFloat,"none"),f=i(c.allowInViewport,!1),m=i(c.elementSelector,""),g=i(c.insertPosition,"afterend"),v=i(c.locateContent,!0),b=0,y=document,A=(i(c.debug,!1)?console.log:r||r).bind(console,"[ElementLocator (unversioned-dev)]");return l.c=function(){return"unversioned-dev"},function(){for(var e=window.frameElement,t=window;e;)e=(t=e.ownerDocument.defaultView).frameElement;y=t.document,b=y.documentElement.clientHeight,(e=s())?((t=y.createElement("div")).setAttribute("id",u),t.style.cssFloat=h,e.insertAdjacentHTML?e.insertAdjacentHTML(g,t.outerHTML):e.appendChild(t),l.element=e,l.container=y.querySelector("#"+t.getAttribute("id")),l.containerId=t.getAttribute("id")):(A("could not locate a suitable element, bailing"),A("innerHeight",b,"options",n))}(),l}).b=window.ElementLocator.generateRandomID=function(){return"sc-"+Math.random().toString(36).substring(7)};var y={onDocumentReady:function(e,t){var n=t||document;if("interactive"===n.readyState||"complete"===n.readyState)e.call();else{var i=setTimeout(function(){i=0,e.call()},2e3);n.onreadystatechange=function(){"interactive"===n.readyState&&i&&(clearTimeout(i),e.call())}}}},A={},T=[],w=[],k=window.SmartPlay=function e(n,i,r){function o(e){var t=Object.prototype.toString.call(e);return"[object Function]"===t||"function"==typeof e&&"[object RegExp]"!==t}return function(){if(o(n))return y.onDocumentReady(function(){-1===w.indexOf(n)&&T.forEach(function(e){n(e.api,e.element,e.config)})}),w.push(n);if("number"==typeof n||void 0===n)return T[n||0]?T[n||0].api:null;if(n.nodeType)return null!==n.getAttribute("data-smartPlay-instance-id")?(T[n.getAttribute("data-smartPlay-instance-id")]||{api:null}).api:i?function(e,t,n){if(!e.getAttribute("data-smartPlay-instance-id")){e.setAttribute("data-smartPlay-instance-id",T.length);var i=new b.BaseAPI(e,t,T);T.push({api:i,element:e,config:t}),y.onDocumentReady(function(){w.forEach(function(n){n(i,e,t)}),i.listVersions=d.listVersions.bind(this,i,w),(n||function(){})(i,e)},e.ownerDocument)}return T[parseInt(e.getAttribute("data-smartPlay-instance-id"),10)].api}(n,i,r):null;if("string"==typeof n&&0<n.length){var a=n;return-1===a.lastIndexOf("#",0)&&-1===a.lastIndexOf(".",0)&&(a+=", #"+a+", ."+a),(a=t.findRecursiveUp(a)[0])&&e(a,i,r)}if(o(ElementLocator)){(a=i)||(a={elementLocator:{}}),a.elementLocator?a.elementLocator.debug=a.debug:a.elementLocator={debug:a.debug};var s=new ElementLocator(ElementLocator.generateRandomID(),a.elementLocator);if(s.element)return a.locatedElement=s.element,e(s.container,a,r)}return null}()};function C(){this.states=[]}A.smartPlay=k,C.prototype.addState=function(e){e.valid&&(e.initialize(),this.states.push(e))},C.prototype.removeState=function(e){this.states=this.states.filter(function(t){return t.id!==e||(t.destroy(),!1)})},C.prototype.removeAllStates=function(){for(var e=this.states.length-1;0<=e;e--)this.states[e].destroy();this.states=[]},C.prototype.getState=function(e){return this.states.filter(function(t){return t.id===e}).shift()},C.prototype.isActive=function(e){return(this.getState(e)||{}).active||!1};var R={};function E(e){var t=[];for(e=e.parentNode;e;){var n=e.ownerDocument,i=null;n&&(i=n.defaultView),i&&i.frameElement&&(t.unshift(i.frameElement),t=E(i.frameElement).concat(t)),t.unshift(e),e=e.parentNode}return t.splice(2)}R.elementParentNodes=E,R.parentNodes=function(e,n){var i=E(e),r=i.length-1;for(isNumber(n)?r=n:isString(n)&&t.findRecursiveUp(n);0<=r;r--)if(i[r].getBoundingClientRect().height>minHeight)return i.splice(r+1);return[]};var x={};function S(){return!!window._smartclip_amp}function L(e){for(var t in this.id=e.id||Math.random().toString(36).substring(7),this.options=e,this.options)this.options.hasOwnProperty(t)&&"function"==typeof this.options[t]&&(this.options[t]=[this.options[t]]);this.valid=!0,this.active=!1}x.isAmp=S,x.isAmpObserveIntersection=function(){return S()&&!(!window.context||!window.context.observeIntersection)},L.prototype.callMethods=function(e){if(e)for(var t=e.length,n=[].slice.call(arguments),i=0;i<t;i++)if(!e[i].apply(this,n))return!1;return!0},L.prototype.destroy=function(){},L.prototype.initialize=function(){},L.prototype.enter=function(){this.callMethods(this.options.canEnter)&&(this.callMethods(this.options.onFirstRun),this.callMethods(this.options.onEnter),this.options.onFirstRun=[],this.active=!0)},L.prototype.exit=function(){this.callMethods(this.options.canLeave)&&(this.callMethods(this.options.onLeave),this.active=!1)};var N={},I=null;function V(){return x.isAmp()||window!==top}N.isIF=V,N.isFIF=function(){return!x.isAmp()&&V()&&null!==window.frameElement},N.topLevelWindow=function(e){if(!x.isAmp())return window;var t=window.frameElement,n=window;if(!e&&I)return I;for(;t;)(e||function(){})(t),t=(n=t.ownerDocument.defaultView).frameElement;return I=n},A.smartPlay(function(e){e.utils=e.utils||{},e.utils.topLevelWindow=N.topLevelWindow.bind(e),e.utils.getTopBoundingClientRect=function(e){var t={bottom:(t=e.getBoundingClientRect()).bottom,height:t.height,left:t.left,right:t.right,top:t.top,width:t.width};for(e=(e=e.ownerDocument.defaultView).frameElement;null!==e;){var n=e.getBoundingClientRect();t.left+=n.left,t.top+=n.top,t.right=t.left+t.width,t.bottom=t.top+t.height,e=(e=e.ownerDocument.defaultView).frameElement}return t},e.utils.isIF=N.isIF.bind(e),e.utils.isFIF=N.isFIF.bind(e),e.utils.browserInfo=function(){var e,t=navigator.userAgent,n=t.match(/(opera|chrome|safari|firefox|msie|trident(?=\/))\/?\s*(\d+)/i)||[],i={browser:null,version:0};return/trident/i.test(n[1])?(e=/\brv[ :]+(\d+)/g.exec(t)||[],i.browser="MSIE",i.version=parseInt(e[1]||0,10),i):"Chrome"===n[1]&&null!==(e=t.match(/\b(OPR|Edge)\/(\d+)/))?(i.browser=e.slice(1).join(" ").replace("OPR","Opera"),i):(n=n[2]?[n[1],n[2]]:[navigator.appName,navigator.appVersion,"-?"],null!==(e=t.match(/version\/(\d+)/i))&&n.splice(1,1,e[1]),i.browser=n[0],i.version=parseInt(n[1],10),i)}(),e.utils.isAmp=x.isAmp.bind(e),e.utils.isAmpObserveIntersection=x.isAmpObserveIntersection.bind(e)});var U={Visibility:function(e,t,n){function i(n){var i;n||(n=t.utils.getTopBoundingClientRect(e)),o.top=n.top,o.left=n.left,o.bottom=n.top+o.height,o.right=n.left+o.width;var a=window.top;t.utils.isAmp()&&(a={innerHeight:(n=window.context.initialIntersection.rootBounds).height,innerWidth:n.width}),n=a.innerHeight,i=a.innerWidth;var s=o,l=(a=0,s.width*s.height);0<(n=((s.right<i?s.right:i)-(0<s.left?s.left:0))*((s.bottom<n?s.bottom:n)-(0<s.top?s.top:0)))&&(a=n/l),r.visibility=100*a}var r={visibility:0,distance:1/0},o={width:n.width,height:n.height};return r.update=function(e){e&&(o={width:e.width,height:e.height}),t.utils.isAmp()||i()},t.utils.isAmp()&&t.utils.isAmpObserveIntersection()&&window.context.observeIntersection(function(e){e.forEach(function(e){i(e.boundingClientRect)})}),r}};function O(e,t,n){L.call(this,n),this.visibilityModel=new U.Visibility(e,t,t.size),this.topLevelWindow=t.utils.topLevelWindow(),this.api=t}function F(e,t,n){L.call(this,n),this.element=t.utils.topLevelWindow()}function D(e,t){L.call(this,t),this.element=e}function M(e,t,n){L.call(this,n),this.api=t,void 0!==document.hidden?(this.hidden="hidden",this.visibilityChange="visibilitychange"):void 0!==document.mozHidden?(this.hidden="mozHidden",this.visibilityChange="mozvisibilitychange"):void 0!==document.msHidden?(this.hidden="msHidden",this.visibilityChange="msvisibilitychange"):void 0!==document.webkitHidden&&(this.hidden="webkitHidden",this.visibilityChange="webkitvisibilitychange"),void 0!==document.addEventListener&&void 0!==this.hidden||(t.debug("Page Visibility API unsupported."),this.valid=!1),this.visibilityChangeHandler=this.handleVisibilityChange.bind(this)}e.inherits(O,L),O.prototype.initialize=function(){var e=this;L.prototype.initialize.call(this),this.valid&&(this.visibilityModel.update(this.api.size),this.updateTimeout=setInterval(function(){e.visibilityModel.update(e.api.size),e.api.environmentVars.visibilityPercent=e.visibilityModel.visibility,e.visibilityModel.visibility>=(e.options.requiredVisibility||50)?e.enter():e.exit()},this.options.reportInterval||50))},O.prototype.destroy=function(){this.updateTimeout&&(clearInterval(this.updateTimeout),this.updateTimeout=null)},A.smartPlay(function(e,t,n){function i(e){var t=window.getComputedStyle(e);return(e=parseFloat(t.marginTop)+parseFloat(t.marginBottom))+(t=parseFloat(t.paddingTop)+parseFloat(t.paddingBottom))}function o(i){i=(i||t).getBoundingClientRect();var r=(o=e.utils.topLevelWindow()||window).msMatchMedia||o.MozMatchMedia||o.WebkitMatchMedia||o.matchMedia,o=16/9;void 0!==r&&e.environmentVars&&(r("(orientation: portrait)").matches&&e.environmentVars.hasVerticalAds?o=.5625:r("(orientation: portrait)").matches&&e.environmentVars.hasSquareAds&&(o=1));var a=r=i.width;return a>=n.minAdWidth&&a<=n.maxAdWidth||(i.width>n.maxAdWidth?r=n.maxAdWidth:i.width<n.minAdWidth&&(r=0)),{width:Math.round(r),height:Math.round(r/o)}}function a(){d=context.onResizeDenied(function(t,n){e.info("AMP denied the resize to",t,n)}),p=context.onResizeSuccess(function(t,n){e.info("AMP successfully resized to",t,n)})}var s={};e.controller=e.controller||{},e.controller.sizeManager=s;var l=new C;e.size={width:0,height:0};var c=!1,u=null;s.collapseContainer=function(n){n=n||x.isAmp()||!1,(c||n)&&(t.style.height="0px",x.isAmp()&&(e.info("AMP","collapseContainer","requestResize",e.size.width),context.requestResize(0,0)),function(){if(e.elements.nodes&&0<e.elements.nodes.length){var t=e.elements.nodes[0].style.overflow;e.elements.nodes[0].style.overflow="hidden",e.elements.nodes[0].style.height="0px",setTimeout(function(){e.elements.nodes[0].style.overflow=t},500)}}(),c=!1)},s.expandContainer=function(n){if(!c||n){if(t.style.height=e.size.height+"px",x.isAmp()&&e.canExpand&&(e.info("AMP","expandContainer","requestResize",e.size),context.requestResize(e.size.width,e.size.height)),e.elements.nodes&&1<e.elements.nodes.length){var r=e.elements.nodes[0].style.overflow;e.elements.nodes[0].style.overflow="hidden",setTimeout(function(){e.elements.nodes[0].style.overflow=r},500)}!function(){var n=0;if(e.elements.nodes&&!(e.elements.nodes&&1>e.elements.nodes.length))for(var r=e.elements.nodes.length-1;0<=r;r--){var o=e.elements.nodes[r],a=o.childNodes;if(!(s=o.getAttribute("sc-size"))||parseInt(s,10)!==e.size.height){for(var s=window.getComputedStyle(o,":before"),l=(n+=l=i(o),a.length-1);0<=l;l--){var c=a[l];if(c.nodeType===Node.ELEMENT_NODE&&-1===e.elements.nodes.indexOf(c)&&c!==t){var u=i(c);n+=Math.ceil(c.getBoundingClientRect().height+u)}}s.content&&(n+=parseInt(s.lineHeight,10)),o.style.height=e.size.height+n+"px",o.setAttribute("sc-size",e.size.height)}}}(),c=!0}},e.resize=function(){var n=o();e.size.width===n.width&&e.size.height===n.height||(x.isAmp()&&(e.info("AMP","requestResize",n),context.requestResize(n.width,n.height)),e.size=n,e.environmentVars.size=e.size,e.elements.iframe.style.width=n.width+"px",e.elements.iframe.style.height=n.height+"px",e.elements.backdrop.style.width=n.width+"px",e.elements.backdrop.style.height=n.height+"px",t.style.height=n.height+"px")};var d=null,p=null;r.hookBefore(e,"shutdown",function(){if(l.removeAllStates(),e.elements.nodes&&e.elements.nodes.length)for(var t=e.elements.nodes.length-1;0<=t;t--){var n=e.elements.nodes[t];n.style.cssText=n.getAttribute("data-smartplay-cssText")}clearInterval(u),u=null,e.utils.isAmp()&&(d&&d(),p&&p())}),function(){var i=e.publisherConfig,r=t.getBoundingClientRect(),s=t;1>=r.width&&(r=R.parentNodes(t,i.minElementHeight))&&0<r.length&&(e.debug("found",r,"using",r[0],"as size reference"),s=r[0]),1>(s=e.size=o(s)).width?(n.prefetching=i.prefetching=!1,setTimeout(function(){e.shutdown()},100),e.debug("could not fit into",n.minAdWidth,"calling shutdown")):(e.elements.iframe.style.width=s.width+"px",e.elements.iframe.style.height=s.height+"px",e.elements.backdrop.style.width=s.width+"px",e.elements.backdrop.style.height=s.height+"px",l.addState(new O(t,e,{requiredVisibility:1,canEnter:e.isReady,onFirstRun:function(){}})),e.utils.isAmp()&&a(),u=setInterval(function(){e.canExpand()&&e.resize()},1e3/15))}()}),e.inherits(F,L),F.prototype.initialize=function(){var e=this;L.prototype.initialize.call(this),this.element.addEventListener("touchmove",function(){e.enter()},!1),this.element.addEventListener("touchend",function(){e.exit()},!1),this.element.addEventListener("touchcancel",function(){e.exit()},!1)},e.inherits(D,L),D.prototype.initialize=function(){var e=this;L.prototype.initialize.call(this),this.element.addEventListener("mouseover",function(){e.enter()},!1),this.element.addEventListener("mouseout",function(){e.exit()},!1)},e.initSymbol(),Symbol(),e.inherits(M,L),M.prototype.handleVisibilityChange=function(){document[this.hidden]?this.enter():this.exit()},M.prototype.initialize=function(){L.prototype.initialize.call(this),this.valid&&document.addEventListener(this.visibilityChange,this.visibilityChangeHandler,!1)},M.prototype.destroy=function(){document.removeEventListener(this.visibilityChange,this.visibilityChangeHandler,!1)};var W={};A.smartPlay(function(e){e.model=e.model||{},e.model.EnvironmentVars=function(){var e={},t=this;return t.observe=function(n,i){e.hasOwnProperty(n)?(e[n].observers.push(i),null!==e[n].value&&i(e[n].value)):(t.hasOwnProperty(n)&&!e.hasOwnProperty(n)?e[n]={value:t[n],observers:[i]}:e[n]={value:null,observers:[i]},Object.defineProperty(t,n,{set:function(t){e[n].value!==t&&(e[n].value=t,e[n].observers.forEach(function(t){t(e[n].value)}))},get:function(){return e[n].value},enumerable:!0,configurable:!0}))},t.disconnect=function(n,i){t.hasOwnProperty(n)&&(e[n].observers=[],Object.defineProperty(t,n,{set:void 0}),!0===i&&(delete e[n],delete t[n]))},t.remove=function(n){t.hasOwnProperty(n)&&(t.disconnect(n),delete e[n],delete t[n])},t}}),W.ENGINE_HTML5="HTML5";var P=function(t,n){function i(n){n.children.filter(function(n){if(t.publisherConfig.hasOwnProperty(n.name)&&n.value&&0===n.children.length)t.publisherConfig[n.name]=n.value;else if(0<n.children.length){var i=n.name;n.children.filter(function(n){if(t.publisherConfig[i].hasOwnProperty(n.name)&&n.attributes)for(var r=e.makeIterator(Object.keys(n.attributes)),o=r.next();!o.done;o=r.next())o=o.value,t.publisherConfig[i][n.name][o]="true"===n.attributes[o];else n.attributes&&(t.publisherConfig[i][n.name]=n.attributes)})}})}n.subscribe(function(e,t){if(t&&t.extensions&&0<t.extensions.length)for(var n=0;n<t.extensions.length;n++){var r=t.extensions[n];"SmartPlayConfig"===r.attributes.name&&i(r)}},"AdLoaded")};function B(e,t,n){O.call(this,e,t,n),this.originalCreateTracker=null,this.collectedTrackers=[],this.shudownCalled=!1,this.api=t,this.options=n,t.publisherConfig.prefetching||(this.valid=!1)}function j(e,t){this.view=e,this.color=t,this.skipUI=this.view.querySelector("#skip"),this.canvas=this.view.querySelector("#skip canvas"),this.outerRadius=this.canvas.width/2,this.innerRadius=this.outerRadius-5,this.ctx=this.canvas.getContext("2d")}A.smartPlay(function(e){function t(t,n){var o=(a=n.ads.filter(function(e){return!e.errorCode})||[]).filter(function(e){return 0<e.creatives[0].mediaFiles.filter(function(e){return e.attributes?e.attributes.format===ois.MediaFileFormat.VERTICAL:e.width<e.height}).length}),a=a.filter(function(e){return 0<e.creatives[0].mediaFiles.filter(function(e){return e.attributes?e.attributes.format===ois.MediaFileFormat.SQUARE:e.width===e.height}).length});r&&r.adManager&&r.removeRules&&r.adManager.removeRules("format"),r.adManager.addRuleToRuleSet({format:ois.MediaFileFormat.WIDE}),o.length&&i.featureMatrix.formats.vertical&&(e.environmentVars.hasVerticalAds=!0,e.info(">> SizeBasedFormat.js::getMediaFileFormats() -- setVertical to true"),r.adManager.addRuleToRuleSet({format:ois.MediaFileFormat.VERTICAL})),a.length&&i.featureMatrix.formats.square&&(e.environmentVars.hasSquareAds=!0,r.adManager.addRuleToRuleSet({format:ois.MediaFileFormat.SQUARE}))}var n={};e.controller=e.controller||{},e.controller.sizeBasedFormat=n;var i={},r=null;n.setVPAIDAd=function(e){r=e,i.featureMatrix.bestFit.enabled&&function(e,t){r.subscribe(function n(){e.apply(this,arguments),r.unsubscribe(n,t)},t)}(t,"AdTagParsed")},i=e.publisherConfig}),e.inherits(B,O),B.prototype.oisTrackerCollector=function(e,t,n,i){var r=i.adManager;(function(){var t=this;this.originalCreateTracker=r.trackingController().createTracker,r.trackingController().createTracker=function(e){e.trackEvent&&"error"===e.trackEvent&&t.collectedTrackers.push(e)},e.subscribe(function(){r.trackingController().createTracker=t.originalCreateTracker},"AdStarted")}).apply(this)},B.prototype.fireCollectedTrackers=function(){for(var e=0;e<this.collectedTrackers.length;e++)this.originalCreateTracker(this.collectedTrackers[e]);this.collectedTrackers=[]},B.prototype.shudownOverride=function(){this.shudownCalled=!0,this.visibilityModel.visibility>=(this.options.requiredVisibility||50)&&(this.fireCollectedTrackers(),this.originalShutdown())},B.prototype.destroy=function(){O.prototype.destroy.call(this)},B.prototype.onVisible=function(){this.fireCollectedTrackers(),this.shudownCalled&&this.originalShutdown()},B.prototype.enter=function(){O.prototype.enter.call(this),this.onVisible()},B.prototype.initialize=function(){O.prototype.initialize.call(this),this.valid&&(this.api.publisherConfig.prefetching&&(this.originalShutdown=this.api.shutdown,this.api.shutdown=this.shudownOverride.bind(this)),ois(this.oisTrackerCollector.bind(this)))},A.smartPlay(function(e){e.model=e.model||{},e.model.PlayerInterface=function(){return{dom:{nodes:[{tag:"div",attributes:{id:"slots-wrapper"},nodes:[{tag:"video",attributes:{id:"video-slot",class:"back-color",preload:"auto","data-bind":"volume: volume, click: triggerClickThrough",src:""}},{tag:"div",attributes:{id:"click-slot",class:"","data-bind":"click: triggerClickThrough, hidden: isVPAID",style:"width: 100%; height: 100%; position: absolute; top: 0; left: 0"}}]},{tag:"div",attributes:{id:"replay-ui",class:"minimal paused",style:"display: none;","data-bind":"class: playState"},nodes:[{tag:"div",attributes:{id:"buttonbar",class:"front-hl-color"},nodes:[{tag:"div",attributes:{style:"display: table-row"},nodes:[{tag:"div",attributes:{class:"button click-through back-color left","data-bind":"click: triggerClickThrough"},nodes:[{tag:"div",nodes:[{tag:"span",attributes:{class:"scmp-web"}}]}]},{tag:"div",attributes:{class:"button click-through back-color","data-bind":"click: toggleRePlay"},nodes:[{tag:"div",nodes:[{tag:"span",attributes:{class:"scmp-play"}}]}]}]}]},{tag:"div",attributes:{id:"controlbar",class:"front-hl-color"},nodes:[{tag:"div",attributes:{style:"display: table-row"},nodes:[{tag:"div",attributes:{id:"progress"},nodes:[{tag:"div",attributes:{id:"progress-bg",class:"back-std-color light"}},{tag:"div",attributes:{id:"progress-bar",class:"back-hl-color","data-bind":"style: percentCloseTimeout"}}]}]}]}]},{tag:"div",attributes:{id:"player-ui",class:"paused",style:"display: none;","data-bind":"class: playState"},nodes:[{tag:"div",attributes:{id:"header",class:"front-std-color text-shadow"},nodes:[{tag:"div",attributes:{id:"countdown","data-bind":"innerHTML: headerText, style: validDuration"}}]},{tag:"div",attributes:{id:"big-play",class:"button front-hl-color text-shadow","data-bind":"click: togglePlay"},nodes:[{tag:"span",attributes:{class:"scmp-big-play"}}]},{tag:"div",attributes:{id:"skipbar",class:"front-hl-color"},nodes:[{tag:"div",attributes:{style:"display: table-row"},nodes:[{tag:"div",attributes:{id:"skip",class:"button back-color front-hl-color","data-bind":"click: skip"},nodes:[{tag:"div",attributes:{"data-bind":"innerHTML: skipText"}},{tag:"div",attributes:{class:"wrapper"},nodes:[{tag:"span",attributes:{class:"skip-close scmp-plus rotate-45"}},{tag:"canvas",attributes:{width:"28",height:"28",class:"skip-countdown enabled"}}]}]},{tag:"div",attributes:{id:"play-ios",class:"button back-color","data-bind":"click: togglePlay"},nodes:[{tag:"div",nodes:[{tag:"span",attributes:{class:"scmp-play"}}]}]},{tag:"div",attributes:{class:"button click-through back-color","data-bind":"click: triggerClickThrough"},nodes:[{tag:"div",nodes:[{tag:"span",attributes:{class:"scmp-web"}}]}]}]}]},{tag:"div",attributes:{id:"controlbar",class:"back-color front-hl-color"},nodes:[{tag:"div",attributes:{style:"display: table-row"},nodes:[{tag:"div",attributes:{id:"play",class:"button","data-bind":"click: togglePlay"},nodes:[{tag:"div",nodes:[{tag:"span",attributes:{class:"scmp-play"}}]}]},{tag:"div",attributes:{id:"progress"},nodes:[{tag:"div",attributes:{id:"progress-bg",class:"back-std-color light"}},{tag:"div",attributes:{id:"progress-loaded",class:"back-std-color","data-bind":"style: percentLoaded"}},{tag:"div",attributes:{id:"progress-bar",class:"button back-hl-color","data-bind":"click: seek, style: percentPlayed"}}]},{tag:"div",attributes:{id:"progress-text","data-bind":"style: validTimeText"},nodes:[{tag:"span",attributes:{class:"front-hl-color","data-bind":"innerHTML: timeText, style: validDuration"}}]},{tag:"div",attributes:{id:"sound"},nodes:[{tag:"div",attributes:{id:"volume-increase",class:"button","data-bind":"click: volumeChange"},nodes:[{tag:"span",attributes:{class:"scmp-plus"}}]},{tag:"div",attributes:{id:"volume-level",class:"button","data-bind":"click: toggleMute"},nodes:[{tag:"span",attributes:{class:"scmp-volume-0-mute scmp-volume-25 scmp-volume-50 scmp-volume-75 scmp-volume-100","data-bind":"class: volumeLevel"}}]},{tag:"div",attributes:{id:"volume-decrease",class:"button","data-bind":"click: volumeChange"},nodes:[{tag:"span",attributes:{class:"scmp-minus"}}]}]}]}]}]}],attributes:{class:"back-color",style:"margin: 0; padding: 0; width: 100%; height: 100%;","data-bind":"class: uiLayout"}}}}}),Number.isFinite=Number.isFinite||function(e){return"number"==typeof e&&isFinite(e)},Object.entries||(Object.entries=function(e){for(var t=Object.keys(e),n=t.length,i=Array(n);n--;)i[n]=[t[n],e[t[n]]];return i}),j.prototype.countdown=function(e){var t=-1*Math.PI/2,n=this.innerRadius-2;e=Math.min(Math.max(0,1-e||1),1),this.ctx.clearRect(0,0,this.canvas.width,this.canvas.width),this.ctx.beginPath(),this.ctx.arc(this.outerRadius,this.outerRadius,n,t,2*Math.PI*e+t,!1),this.ctx.strokeStyle=this.color,this.ctx.lineCap="butt",this.ctx.lineWidth=2,this.ctx.stroke(),this.ctx.closePath()},j.prototype.activate=function(){this.skipUI.classList.add("active")},j.prototype.deactivate=function(){this.skipUI.classList.remove("active"),this.skipUI.classList.remove("enabled"),this.countdown(0)},j.prototype.enable=function(){this.skipUI.classList.add("enabled")},j.prototype.getSeconds=function(e){e=Number.isFinite(e)?[e]:e.split(":");for(var t=0,n=1;0<e.length;)t+=n*parseInt(e.pop(),10),n*=60;return t},A.smartPlay(function(t){t.controller=t.controller||{},t.controller.Player=function(){function n(e,t){var n=t||document.head,i=document.createElement("link");i.setAttribute("href",e),i.setAttribute("type","text/css"),i.setAttribute("rel","stylesheet"),n.appendChild(i)}function i(){var e=g.querySelector(".overlay #player-ui #controlbar");e&&e.classList.remove("active")}function o(){var e=g.querySelector(".overlay #player-ui #controlbar");e&&e.classList.add("active"),clearTimeout(E),E=setTimeout(i,5e3)}function s(){g.querySelector("#volume-level > span").setAttribute("class","scmp-volume-0-mute")}function l(){function e(e){var t=e;return-1<e.indexOf("[")&&(t=e.replace(/\[currentTime\]/gi,parseInt(b.currentTime,10)).replace(/\[remainingTime\]/gi,parseInt(b.duration-b.currentTime,10)).replace(/\[duration\]/gi,parseInt(b.duration,10)).replace(/\[slotCurrentTime\]/gi,parseInt(T.getSlotDuration()-T.getSlotRemainingTime(),10)).replace(/\[slotRemainingTime\]/gi,parseInt(T.getSlotRemainingTime(),10)).replace(/\[slotDuration\]/gi,parseInt(T.getSlotDuration(),10))),t}if(!(b.paused||(b.currentTime=A.currentTime||T.getAdDuration()-T.getAdRemainingTime(),b.currentTime>b.duration))){if(Number.isFinite(b.duration)&&0<b.duration&&Number.isFinite(b.currentTime)&&(b.validDuration="visibility: visible"),""!==y.timeText&&(b.validTimeText="display: table-cell"),Number.isFinite(y.skipOffset)&&-1<y.skipOffset){var t=b.currentTime/y.skipOffset;Number.isFinite(t)&&"commercial"===b.variant&&(w.activate(),1>t?w.countdown(t):w.enable())}b.timeText=e(y.timeText),b.headerText=e(y.headerText),"commercial"===b.variant&&(b.percentPlayed="width: "+100*(T.getSlotDuration()-T.getSlotRemainingTime())/T.getSlotDuration()+"%")}}function c(){s();for(var e=25;e<=100*b.volume;)g.querySelector("#volume-level > span").classList.add("scmp-volume-"+e),e+=25}function u(){var e=t.utils.getTopBoundingClientRect(t.elements.iframe);b.size&&b.size.width===parseInt(e.width,10)&&b.size.height===parseInt(e.height,10)||(b.size={width:parseInt(e.width,10),height:parseInt(e.height,10)})}function d(e,t,n){t.addEventListener(e,n),C.push({event:e,element:t,listener:n})}function p(e,t,n){b.observe(n,function(n){e?(e.setAttribute&&e.setAttribute(t,n),e[t]=n):x("Couldn't deliver update for "+t+" set "+n+". Target not present.")}),R.push({element:e,attribute:t,property:n})}function h(e,t){for(var n=t.split(" ").join("").split(","),i=0;i<n.length;i++){var r=(o=n[i].split(":"))[0],o=o[1];"function"==typeof m[o]?d(r,e,m[o]):p(e,r,o)}}function f(){b.playState=b.videoSlot.paused?"paused":"playing",b.paused=b.videoSlot.paused}var m=this,g=null,v={},b={},y={},A=null,T=null,w=null,k=0,C=[],R=[],E=0,x=t.debug;return r.hookBefore(t,"shutdown",function(){R.forEach(function(e){b.disconnect(e.property,!0)}),C.forEach(function(e){e.element&&e.element.removeEventListener&&e.element.removeEventListener(e.event,e.listener)}),R=C=[]}),m.skip=m.skip=function(){x("[VPAIDInterface] In skipAd()"),T.skipAd(),b.adSkipped=!0,w.deactivate()},m.pausePlayback=function(){b.paused||(x("[VPAIDInterface] In pauseAd()"),T.pauseAd(),b.paused=!0,A.removeAttribute("controls"))},m.resumePlayback=function(){b.paused&&!0!==t.environmentVars.pausedByUser&&(x("[VPAIDInterface] In resumeAd()"),T.resumeAd(),b.paused=!1)},m.toggleRePlay=m.toggleRePlay=function(){var e=b.replayModel.map(function(e){return{creatives:e.creatives.slice(0).map(function(e){return e.trackingEvents={},e}),extensions:e.extensions,impressionURLTemplates:[],errorURLTemplates:[],sequence:e.sequence,variant:e.variant,info:e.info}});t.info("replayModel ads",e),b.replayModel=[],T.adManager.startAds(e)},m.togglePlay=m.togglePlay=function(){var e=t.elements.iframeDocument.body;e.querySelector(".ios:not(.unlocked) #play-ios .scmp-play")?(e.classList.add("unlocked"),b.toggleMuteByUser=!0,m.unmute(),T.resumeAd()):(b.paused?(b.pausedByUser=!1,m.resumePlayback()):(b.pausedByUser=!0,m.pausePlayback()),b.toggleMuteByUser||m.unmute())},m.triggerClickThrough=m.triggerClickThrough=function(){var e=b.videoClicks&&b.videoClicks.videoClickThroughURLTemplate,n=b.videoClicks&&b.videoClicks.videoClickTrackingURLTemplates;if(b.isInApp){try{y.onClickThruCallback(b.videoClicks.videoClickThroughURLTemplate||null,!0)}catch(e){t.debug("onClickThruCallback failure",e)}t.pauseAd()}else e&&n?(a.track(b.videoClicks.videoClickTrackingURLTemplates,b.urlEnrichmentModel),window.open(b.videoClicks.videoClickThroughURLTemplate,"_blank")):T.adManager.clickThrough()},m.seek=m.seek=function(){},m.volumeChange=m.volumeChange=function(e){var t=b.volume;b.volume=.25*Math.round(t/.25),null===e?c():void 0!==e&&("volume-increase"===e.target.id?1<(t+=.25)&&(t=1):"volume-decrease"===e.target.id&&(0>(t-=.25)&&(t=0)),b.volume=t,A.muted&&"volume-increase"===e.target.id?m.unmute():A.muted?(c(),setTimeout(function(){s()},1e3)):c())},m.mute=function(){s(),b.muted=!0,A.muted=!0,A.setAttribute("muted",!0),T&&T.setAdVolume(0)},m.unmute=function(){c(),b.muted=!1,A.muted=!1,A.removeAttribute("muted"),T&&T.setAdVolume(b.volume)},m.toggleMute=m.toggleMute=function(){b.toggleMuteByUser=!0,A.muted?m.unmute():m.mute()},m.initView=function(e,t){v=e,g=t,n("data:text/css;base64,LmJhY2stY29sb3J7YmFja2dyb3VuZC1jb2xvcjpyZ2JhKDMsMiwxLC44KTt0ZXh0LXNoYWRvdzpub25lIWltcG9ydGFudH0uYmFjay1zdGQtY29sb3J7YmFja2dyb3VuZC1jb2xvcjojYmViZWJlfS5mcm9udC1zdGQtY29sb3J7Y29sb3I6I2Y1ZjVmNX0uYmFjay1obC1jb2xvcntiYWNrZ3JvdW5kLWNvbG9yOiNmNWY1ZjV9LmZyb250LWhsLWNvbG9ye2NvbG9yOiNmNWY1ZjV9LnRleHQtc2hhZG93e3RleHQtc2hhZG93OjAgMCA2cHggIzVjNWM1Y30qey13ZWJraXQtYm94LXNpemluZzpib3JkZXItYm94Oy1tb3otYm94LXNpemluZzpib3JkZXItYm94O2JveC1zaXppbmc6Ym9yZGVyLWJveDtmb250LWZhbWlseTpWZXJkYW5hLEFyaWFsLEhlbHZldGljYSxzYW5zLXNlcmlmO2ZvbnQtc3R5bGU6bm9ybWFsO2ZvbnQtdmFyaWFudDpub3JtYWw7Zm9udC13ZWlnaHQ6NDAwO2ZvbnQtc3RyZXRjaDpub3JtYWw7Zm9udC1zaXplOjFlbTt0ZXh0LXNoYWRvdzppbmhlcml0O2xpbmUtaGVpZ2h0Om5vcm1hbDstd2Via2l0LWZvbnQtc21vb3RoaW5nOmFudGlhbGlhc2VkOy1tb3otb3N4LWZvbnQtc21vb3RoaW5nOmdyYXlzY2FsZX1ib2R5e3dpZHRoOjEwMCU7aGVpZ2h0OjEwMCU7bWFyZ2luOjA7cGFkZGluZzowO3Bvc2l0aW9uOmFic29sdXRlO292ZXJmbG93OmhpZGRlbn0uYnV0dG9ue3BvaW50ZXItZXZlbnRzOmF1dG87Y3Vyc29yOnBvaW50ZXI7LXdlYmtpdC11c2VyLXNlbGVjdDpub25lOy1tb3otdXNlci1zZWxlY3Q6bm9uZTstbXMtdXNlci1zZWxlY3Q6bm9uZTt1c2VyLXNlbGVjdDpub25lfSNwbGF5ZXItdWl7ZGlzcGxheTpibG9jayFpbXBvcnRhbnR9I3BsYXllci11aS5lbmRlZHtkaXNwbGF5Om5vbmUhaW1wb3J0YW50fSNyZXBsYXktdWl7ZGlzcGxheTpub25lIWltcG9ydGFudH0jcmVwbGF5LXVpLmVuZGVke2Rpc3BsYXk6YmxvY2shaW1wb3J0YW50fSNkaXNwbGF5LXNsb3QsI3Nsb3RzLXdyYXBwZXIsI3ZpZGVvLXNsb3R7d2lkdGg6MTAwJSFpbXBvcnRhbnQ7aGVpZ2h0OjEwMCUhaW1wb3J0YW50O3Bvc2l0aW9uOmFic29sdXRlO3RvcDowO2xlZnQ6MH1kaXZbaWQqPXZwYWlkU2xvdF17ei1pbmRleDppbml0aWFsIWltcG9ydGFudH0jaGVhZGVye3Bvc2l0aW9uOmFic29sdXRlO3RvcDowO3dpZHRoOjEwMCU7cGFkZGluZzozcHggMTRweH0jY291bnRkb3due2Zsb2F0OmxlZnQ7bGluZS1oZWlnaHQ6MjhweDtmb250Oi44ZW0gVmVyZGFuYTt2aXNpYmlsaXR5OmhpZGRlbjttYXJnaW4tdG9wOjRweH0jY2xvc2V7ZmxvYXQ6cmlnaHR9LnJvdGF0ZS00NXstd2Via2l0LXRyYW5zZm9ybTpyb3RhdGUoNDVkZWcpOy1tb3otdHJhbnNmb3JtOnJvdGF0ZSg0NWRlZyk7LW1zLXRyYW5zZm9ybTpyb3RhdGUoNDVkZWcpOy1vLXRyYW5zZm9ybTpyb3RhdGUoNDVkZWcpO3RyYW5zZm9ybTpyb3RhdGUoNDVkZWcpfSNiaWctcGxheXtwb3NpdGlvbjphYnNvbHV0ZTttYXJnaW46YXV0bztsZWZ0OjA7cmlnaHQ6MDt0b3A6MDtib3R0b206MDt3aWR0aDo5NHB4O2hlaWdodDo3NXB4O3Zpc2liaWxpdHk6dmlzaWJsZTt0ZXh0LWFsaWduOmNlbnRlcjtsaW5lLWhlaWdodDo3NXB4fSNidXR0b25iYXIsI2NvbnRyb2xiYXIsI3NraXBiYXJ7cG9zaXRpb246YWJzb2x1dGU7d2lkdGg6MTAwJTtkaXNwbGF5OnRhYmxlO2JvdHRvbTowO21hcmdpbi1sZWZ0OjB9I3NraXBiYXJ7Ym90dG9tOjYwcHg7Zm9udC1zaXplOi44ZW07dGV4dC1hbGlnbjpjZW50ZXI7cG9pbnRlci1ldmVudHM6bm9uZX0jYnV0dG9uYmFye2JvdHRvbTo1MCU7LXdlYmtpdC10cmFuc2Zvcm06dHJhbnNsYXRlWSgxLjhlbSk7LW1vei10cmFuc2Zvcm06dHJhbnNsYXRlWSgxLjhlbSk7LW1zLXRyYW5zZm9ybTp0cmFuc2xhdGVZKDEuOGVtKTstby10cmFuc2Zvcm06dHJhbnNsYXRlWSgxLjhlbSk7dHJhbnNmb3JtOnRyYW5zbGF0ZVkoMS44ZW0pO2ZvbnQtc2l6ZToxLjJlbTtsaW5lLWhlaWdodDo3NXB4O3BvaW50ZXItZXZlbnRzOm5vbmV9I3BsYXktaW9zLCNza2lwLC5jbGljay10aHJvdWdoe3Bvc2l0aW9uOnJlbGF0aXZlO3BhZGRpbmc6MCAxNHB4O2ZvbnQtc2l6ZTouOGVtO2Rpc3BsYXk6bm9uZTtmbG9hdDpyaWdodDt3aWR0aDo2MHB4fSNyZXBsYXktdWkgLmJ1dHRvbntkaXNwbGF5OmJsb2NrO3dpZHRoOjI1JX0jcmVwbGF5LXVpIC5idXR0b24gZGl2e3RleHQtYWxpZ246Y2VudGVyfSNyZXBsYXktdWkgLmJ1dHRvbiBbY2xhc3NePXNjbXAtXXtmb250LXNpemU6NGVtO2xpbmUtaGVpZ2h0OjEuM2VtfSNyZXBsYXktdWkgLmJ1dHRvbi5jbGljay10aHJvdWdoLmxlZnR7ZmxvYXQ6bGVmdH0jc2tpcC5hY3RpdmV7ZGlzcGxheTp0YWJsZS1jZWxsO3BvaW50ZXItZXZlbnRzOm5vbmV9I3NraXAuZW5hYmxlZHtwb2ludGVyLWV2ZW50czphdXRvfSNza2lwIC53cmFwcGVye3Bvc2l0aW9uOnJlbGF0aXZlO3dpZHRoOjI4cHh9LmlvcyAjc2tpcCAud3JhcHBlcntoZWlnaHQ6MzZweH0jc2tpcD5kaXZ7bGluZS1oZWlnaHQ6MjhweDt0ZXh0LWFsaWduOnJpZ2h0O2Rpc3BsYXk6aW5saW5lO2Zsb2F0OnJpZ2h0fSNza2lwIC5za2lwLWNsb3Nle3Bvc2l0aW9uOnJlbGF0aXZlO3JpZ2h0OjZweDt0b3A6LTVweDtkaXNwbGF5Om5vbmV9I3NraXAuZW5hYmxlZCAuc2tpcC1jbG9zZXtkaXNwbGF5OmJsb2NrfSNza2lwIC5za2lwLWNvdW50ZG93bntwb3NpdGlvbjpyZWxhdGl2ZTt3aWR0aDoyOHB4O2hlaWdodDoyOHB4O2Rpc3BsYXk6YmxvY2s7LXdlYmtpdC10cmFuc2Zvcm06c2NhbGVYKC0xKTstbW96LXRyYW5zZm9ybTpzY2FsZVgoLTEpOy1tcy10cmFuc2Zvcm06c2NhbGVYKC0xKTstby10cmFuc2Zvcm06c2NhbGVYKC0xKTt0cmFuc2Zvcm06c2NhbGVYKC0xKX0uaW9zICNza2lwIC5za2lwLWNvdW50ZG93bnt0b3A6NHB4fSNza2lwLmVuYWJsZWQgLnNraXAtY291bnRkb3due2Rpc3BsYXk6bm9uZX0ucGxheWluZyAjYmlnLXBsYXl7ZGlzcGxheTpub25lfSNwbGF5e2Rpc3BsYXk6dGFibGUtY2VsbDtwYWRkaW5nOjAgMTRweDtwb3NpdGlvbjpyZWxhdGl2ZTt3aWR0aDoyOHB4fSNwbGF5PmRpdntmbG9hdDpsZWZ0fSNwcm9ncmVzc3tkaXNwbGF5OnRhYmxlLWNlbGw7cG9zaXRpb246cmVsYXRpdmU7d2lkdGg6YXV0b31ib2R5Om5vdCguY29tbWVyY2lhbCkgI2hlYWRlcixib2R5Om5vdCguY29tbWVyY2lhbCkgI3Byb2dyZXNzLGJvZHk6bm90KC5jb21tZXJjaWFsKSAjc2tpcGJhciAuY2xpY2stdGhyb3VnaHtkaXNwbGF5Om5vbmV9Ym9keS5pbi1hcHAgI3NraXBiYXIgLmNsaWNrLXRocm91Z2h7ZGlzcGxheTpibG9ja30jcHJvZ3Jlc3MtYmd7cG9zaXRpb246YWJzb2x1dGU7ZmxvYXQ6bGVmdDttYXJnaW4tdG9wOjEwcHg7dmlzaWJpbGl0eTp2aXNpYmxlO3dpZHRoOjEwMCU7aGVpZ2h0OjhweDt0b3A6MDtvcGFjaXR5Oi44fSNwcm9ncmVzcy1sb2FkZWR7cG9zaXRpb246YWJzb2x1dGU7ZmxvYXQ6bGVmdDttYXJnaW4tdG9wOjEwcHg7d2lkdGg6MCU7aGVpZ2h0OjhweDt0b3A6MDtvcGFjaXR5OjA7LXdlYmtpdC10cmFuc2l0aW9uOndpZHRoIC40cyBsaW5lYXI7LW1vei10cmFuc2l0aW9uOndpZHRoIC40cyBsaW5lYXI7LW1zLXRyYW5zaXRpb246d2lkdGggLjRzIGxpbmVhcjstby10cmFuc2l0aW9uOndpZHRoIC40cyBsaW5lYXI7dHJhbnNpdGlvbjp3aWR0aCAuNHMgbGluZWFyfSNwcm9ncmVzcy1iYXJ7Y3Vyc29yOnBvaW50ZXI7cG9zaXRpb246YWJzb2x1dGU7ZmxvYXQ6bGVmdDttYXJnaW4tdG9wOjEwcHg7d2lkdGg6MCU7aGVpZ2h0OjhweDt0b3A6MDstd2Via2l0LXRyYW5zaXRpb246d2lkdGggLjRzIGxpbmVhcjstbW96LXRyYW5zaXRpb246d2lkdGggLjRzIGxpbmVhcjstbXMtdHJhbnNpdGlvbjp3aWR0aCAuNHMgbGluZWFyOy1vLXRyYW5zaXRpb246d2lkdGggLjRzIGxpbmVhcjt0cmFuc2l0aW9uOndpZHRoIC40cyBsaW5lYXJ9I3Byb2dyZXNzLXRleHQgc3BhbnttYXJnaW4tcmlnaHQ6NHB4O3Bvc2l0aW9uOnJlbGF0aXZlO2Zsb2F0OmxlZnQ7Zm9udDouOGVtIFZlcmRhbmE7bGluZS1oZWlnaHQ6MjhweDtkaXNwbGF5OmlubGluZTt0ZXh0LWFsaWduOmNlbnRlcjttYXJnaW46MDtjdXJzb3I6ZGVmYXVsdDt2aXNpYmlsaXR5OmhpZGRlbjt3aGl0ZS1zcGFjZTpub3dyYXB9I3Byb2dyZXNzLXRleHQsI3NvdW5ke2Rpc3BsYXk6dGFibGUtY2VsbDtwYWRkaW5nOjAgMTRweDt3aWR0aDoxMTBweH0jcHJvZ3Jlc3MtdGV4dHtkaXNwbGF5Om5vbmU7d2lkdGg6MXB4fSNzb3VuZHtwYWRkaW5nLWxlZnQ6MH0jc291bmQ+ZGl2W2lkKj12b2x1bWVde2Zsb2F0OnJpZ2h0O3BhZGRpbmctbGVmdDo0cHh9I3ZvbHVtZS1sZXZlbHttYXJnaW46MCA2cHggMCAxMnB4O3dpZHRoOjI2cHh9Lm1pbmltYWwgI2NvbnRyb2xiYXJ7YmFja2dyb3VuZC1jb2xvcjp0cmFuc3BhcmVudH0ubWluaW1hbCAjcGxheSwubWluaW1hbCAjcHJvZ3Jlc3MtdGV4dCwubWluaW1hbCAjdm9sdW1lLWRlY3JlYXNlLC5taW5pbWFsICN2b2x1bWUtaW5jcmVhc2V7ZGlzcGxheTpub25lIWltcG9ydGFudH0jcmVwbGF5LXVpICNwcm9ncmVzcywubWluaW1hbCAjcHJvZ3Jlc3N7d2lkdGg6MTAwJTtoZWlnaHQ6MjhweH0jcmVwbGF5LXVpICNwcm9ncmVzcy1iZywubWluaW1hbCAjcHJvZ3Jlc3MtYmd7bWFyZ2luLXRvcDoyNXB4O2hlaWdodDozcHg7b3BhY2l0eTowfSNyZXBsYXktdWkgI3Byb2dyZXNzLWJhciwjcmVwbGF5LXVpICNwcm9ncmVzcy1sb2FkZWQsLm1pbmltYWwgI3Byb2dyZXNzLWJhciwubWluaW1hbCAjcHJvZ3Jlc3MtbG9hZGVke21hcmdpbi10b3A6MjVweDtoZWlnaHQ6M3B4Oy13ZWJraXQtYm94LXNoYWRvdzoxcHggMXB4IDZweCAjNWM1YzVjOy1tb3otYm94LXNoYWRvdzoxcHggMXB4IDZweCAjNWM1YzVjO2JveC1zaGFkb3c6MXB4IDFweCA2cHggIzVjNWM1Y30jcmVwbGF5LXVpICNwcm9ncmVzcy1iYXJ7LXdlYmtpdC10cmFuc2l0aW9uOndpZHRoIDNzIGxpbmVhcjstbW96LXRyYW5zaXRpb246d2lkdGggM3MgbGluZWFyOy1tcy10cmFuc2l0aW9uOndpZHRoIDNzIGxpbmVhcjstby10cmFuc2l0aW9uOndpZHRoIDNzIGxpbmVhcjt0cmFuc2l0aW9uOndpZHRoIDNzIGxpbmVhcjt3aWR0aDoxMDAlfS5taW5pbWFsICNzb3VuZHtwb3NpdGlvbjphYnNvbHV0ZTtyaWdodDo4cHg7Ym90dG9tOjhweDtwYWRkaW5nOjA7dGV4dC1zaGFkb3c6MCAwIDZweCAjNWM1YzVjfS5vdmVybGF5ICNjb250cm9sYmFye2JvdHRvbTotMzNweDstd2Via2l0LXRyYW5zaXRpb246Ym90dG9tIC4zcyBlYXNlLW91dDstbW96LXRyYW5zaXRpb246Ym90dG9tIC4zcyBlYXNlLW91dDstbXMtdHJhbnNpdGlvbjpib3R0b20gLjNzIGVhc2Utb3V0Oy1vLXRyYW5zaXRpb246Ym90dG9tIC4zcyBlYXNlLW91dDt0cmFuc2l0aW9uOmJvdHRvbSAuM3MgZWFzZS1vdXR9Lm92ZXJsYXkgI2NvbnRyb2xiYXIuYWN0aXZle2JvdHRvbTowfS5pb3MgI3NraXBiYXJ7Ym90dG9tOjMycHh9LmlvcyAjcGxheS1pb3MsLmlvcyAuY2xpY2stdGhyb3VnaHtkaXNwbGF5OnRhYmxlLWNlbGx9LmlvcyAuY2xpY2stdGhyb3VnaHtkaXNwbGF5OnRhYmxlLWNlbGx9Lmlvczpub3QoLnVubG9ja2VkKSAjcGxheS1pb3MgLnNjbXAtcGxheTpiZWZvcmV7Y29udGVudDoiXGUzOTMifS5pb3MgI2NvbnRyb2xiYXIgI3BsYXksLmlvcyAjY29udHJvbGJhciAjcHJvZ3Jlc3MtdGV4dCwuaW9zICNjb250cm9sYmFyICNzb3VuZCwuaW9zLnVubG9ja2VkICNiaWctcGxheXtkaXNwbGF5Om5vbmUhaW1wb3J0YW50fS5pb3MtbmF0aXZlICNwbGF5LWlvc3tkaXNwbGF5Om5vbmV9Lmlvcy1uYXRpdmUgLmNsaWNrLXRocm91Z2h7ZGlzcGxheTpibG9ja30ubm9uZSAjY29udHJvbGJhcntkaXNwbGF5Om5vbmV9Ym9keSBkaXZbaWQqPWFkQ291bnRkb3duXSxib2R5IGRpdltpZCo9YWRTa2lwQnV0dG9uXSxib2R5IGRpdltpZCo9Y2xpY2tUaHJvdWdoRGlhbG9nQm94XXtkaXNwbGF5Om5vbmUhaW1wb3J0YW50fUBmb250LWZhY2V7Zm9udC1mYW1pbHk6c21hcnRjbGlwLU11bHRpcGxheWVyLUljb25zO3NyYzp1cmwoZGF0YTphcHBsaWNhdGlvbi94LWZvbnQtd29mZjtjaGFyc2V0PXV0Zi04O2Jhc2U2NCxkMDlHUmdBQkFBQUFBQWVRQUFzQUFBQUFES2dBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQlBVeTh5QUFBQkNBQUFBRUFBQUFCZ0R4SUhRbU50WVhBQUFBRklBQUFBVmdBQUFIeTMzYlNKWjJGemNBQUFBYUFBQUFBSUFBQUFDQUFBQUJCbmJIbG1BQUFCcUFBQUErY0FBQWNzSXd2c0gyaGxZV1FBQUFXUUFBQUFNUUFBQURZS0JIcGVhR2hsWVFBQUJjUUFBQUFlQUFBQUpBZ3RCRTlvYlhSNEFBQUY1QUFBQUJ3QUFBQTRMMEFBTUd4dlkyRUFBQVlBQUFBQUhnQUFBQjRNS2dxZWJXRjRjQUFBQmlBQUFBQVlBQUFBSUFBVEFIcHVZVzFsQUFBR09BQUFBVXdBQUFMb2MzY3RHSEJ2YzNRQUFBZUVBQUFBREFBQUFDQUFBd0FBZU5wallHWit6emlCZ1pXQmdXa20weGtHQm9aK0NNMzRtc0dZa1pNQkZUQUtvQWt3T0RBd3ZOSmtQdkQvQUlNRDh3RVFqNEVSU1ZhQmdRRUFkZFlMWUhqYVkyQmdZR2FBWUJrR1Jpak5ER1NCYUJhR0JDQXR3aUFBRkdFQmlpazg3bjg4K1JuankxT3Z1RjlwL3YvNy96OERDRUJFR1lDaVhLL1V3YUtNL3gvTGxNb1VTYkdKMlluK0YzMENOUThEQUFCdTZCMitBQUFBQVFBQi8vOEFEM2phclZYUGI5dFVISCsvN05la3NWUDd4UTViVmllT0ZhZGQwNVRHK2RFeDJtVU1HbGhicmRCV3FDMXFLbTA5MEJUVWFreEZURUlWSENjaDBQZ0RlbVU3TWk2VVNia2dPT3d3Zmx6R0xranN3aGx0dXhTWHI5MFdKdEhDSnRVdjl2UHo5OWZuKzMzdjh3M0NhUDhpQ05WT2hjdW4vY2JDUjUxK2lCeDBEcjJGMWhIS1pkMjhXNjZOMEVxNVNJSzNhaWxwVVNPaEVxNWlKNzhueFdYM1g3TEJBNFE0SVlPSVo5MEI3R1RkaWxhdW5zYWdBQUpEQzBYMGc0ak9WZFgyc3JxZTlXeFZWWHZVbnVGZTArd2Q3dUY2NUVaVUEra2dYQ0RKcSttQmpLWmxCdEpjaTl3TTdheDAyZ3B0Q3YzOUJhNS9Jc2VrUjVjVklaVExqN2lJUkRvN0kxUjJPUWNGZTN4cXJsaWNteHEzWVFFVzgwc3JRME1yUy9NOW5NL3hEdkJkdXZyUjFSTE04YmpWbUpqdTY1dWVhRmdkZkQ0MHRpWW1KNnpRcnJEMjNscUI4L3NTZXl3VVhGZkVZNWxSMWhYZGJrZTdHTWE3MVVXSXRxR21jWFFTeW00NGVlNVVhdm1LbDZ4NUJzZi9VWXYyVEt1MS8vUEhEc29Genp5cFVqOE1CVU1wSkxFV3ZZSk0xSThHVVJWdzZCUjJoY3R4SW5NaVdLNVVxOExBWnRMa2NqaFl6cTFWenhENG1xU2U1Z1MzeGxxNTg1OWZ2L1B6K3R0dkpCSlJad2FQNFRVbGNtTTFvL3UzTGpWTHg2TEpDeXZkdHYrVC83QmZsMkw4NVRlYjMzNzlaYk41ZTJFQjJ6Q3dFd2N6VXgrWm5QTWYrSCs4bXFMYXNlYW4rQmRGM0xyWEdvdEhDZFVHdnYvaDdJdUZ1TUxqbWkvd2pIOHp1QkZGeG83UGx1ZzdlL2lmQ1QydTVUVzI1STVkQitEdmg4Q3owM2djcnlyUkwxWnR6Zi9xMGdJQU55ZGJWc2IvMFg5WTBLUll4emtBdnVVL2FMZnhjWUNOL29ZOTYvOEdzRThRZ1AwWnZoZExBT3p6OFNnbCt2UGZBZXorZUF4Zy83bHp1KzEvSE83N1RwdkJ6aU9CTGdMaXJFcU1oRVc4MGdnSnFFU0JIR0lFRHdNNW5HeVJWSXE0RDJmbGJwd3cwOWdvQXR1cU5hOVVQWU1EbFJIc2xjd2s4RWJGUnNLRUErSzlnRDBMVWsvSWhrb0pXdDY2TmpsNWJXdDVmeDZZN2YyZE1hR2NuSDZwVjRySkc0cUlkcnhiR1BWU3BuRUZUdEVHazZ5emR1VmlnY28wMWQyZE9qSHFFb25JbmF4VHg5WnJyOC9TOXBQT2dubTdMalRNV2FlOHFJaGNJWWVaSkpSMnBJdlZ2a2xmYUM2ZktpOFdKTFlCa1NZaTBhUkpKWnBxdUc0amxlb1dyelRYUnpIRm1VRkg3UFdjdlpvNHNMQzFzaHNrYldqMmJ1YWVyU1hNMDdoVXJXaDJxUnFVaHY3cWIwSW9SZmlid2NuSGkrRUNBd3hCNnVHa0hLU3dGd3ZYR1NKMTRCMFNSdUI5MTZjRDBaQlFhRHN3MkFheWtFejRHandDcW9aOFhRVytwdEVRbXZxbkF4NVpqeU4zajZDTGJSeGxrd3A3RkdsQXpzOGg3OENNL3orcDNGTkR2Ly9NUFhUM0R5dm9vY2REZEllQndKc0h4VU9IT2Y0TGpIbENWUUI0Mm1OZ1pHQmdZUFE1Ky95dDJ0SjRmcHV2RE53c0RDQncyZVpMRjRMK2Y0QWxtL2tBa012QndBUVNCUUNUYkExK0FBQUFlTnBqWUdSZ1lEN3cvd0FEQTBzREF4Q3daRE13TXFBQ1BnQmcwUU9HQUFCNDJtTmhRQUFtSUdaeEFHSVEzY0FnRGNTaVlEWVdEQUF3dkFHZkFBQUFBQUFLQUJRQUhnRElBUW9CYWdIRUFrNENoQUtnQXhvRGFnT1dBQUI0Mm1OZ1pHQmc0R09vWUdCaEFBRW1CalFBQUEzdkFJNTQycTJRTzA3RFFCUkY3K1RESnlnVUtTaElNd1d0clh4UUZoQXB2OElGS2RKUjJNbkVzbkRHMGRndXNnRW9LT2xaQlNWN29LTmtMZHc0YndrWmFheno3cnZ2enBNQmRQQUhoZFBwNEVsWW9WdDlqNmVHUzdVU3JsUC9FbTZncTE2RW03akJoL0FGOWFad0MvZnFXN2pOaVRjbXFNWTFxd2VzaFJWR1REMXhEYmZxV2JoTy9VZTRnWkY2Rlc3aURwL0NGOVMxY0F1UDZsZTRqU3U4NTd2UUZlczAyWHRCbVJiSlBnMFB4bm1MZFdaejVOZ2hoRVBCTlZJazJNTkRnSkpjVkZYSzdnR0dEZzhMZWpKWTVJTmVmNlRIcFlzbmljMzFiQmZOTVVBUGZTNnFNZWEwUTR3SjUrbWxNdU1iRWVaYlp3eTI3Qm1ZbFhGNWtsbmQ5NGRZVmZFNTdjZHd6UmdmdzdQdmZQYkFwWW5MTkhSWXNoRlhaa2FjL1pWcFpnc2RHMnRjV0ppTmpnNmFZVUdXV1IvVHlsSHdqOFdjc3RWa3lOcGdReTFpbHBhY2dQZm85ZjhCeG1pUHYzamFZMkJtd0FzQUFIMEFCQT09KSBmb3JtYXQoJ3dvZmYnKTtmb250LXdlaWdodDo0MDA7Zm9udC1zdHlsZTpub3JtYWx9W2NsYXNzKj0iIHNjbXAtIl0sW2NsYXNzXj1zY21wLV17Zm9udC1mYW1pbHk6c21hcnRjbGlwLU11bHRpcGxheWVyLUljb25zO3NwZWFrOm5vbmU7Zm9udC1zdHlsZTpub3JtYWw7Zm9udC13ZWlnaHQ6NDAwO2ZvbnQtdmFyaWFudDpub3JtYWw7dGV4dC10cmFuc2Zvcm06bm9uZTtsaW5lLWhlaWdodDoyOHB4O2ZvbnQtc2l6ZToyMnB4fS5hbmRyb2lkIFtjbGFzcyo9IiBzY21wLSJdLC5hbmRyb2lkIFtjbGFzc149c2NtcC1dLC5pb3MgW2NsYXNzKj0iIHNjbXAtIl0sLmlvcyBbY2xhc3NePXNjbXAtXXtsaW5lLWhlaWdodDozNnB4O2ZvbnQtc2l6ZToyN3B4fVtjbGFzcyo9IiBzY21wLSJdOmJlZm9yZSxbY2xhc3NePXNjbXAtXTpiZWZvcmV7dmVydGljYWwtYWxpZ246dG9wfS5zY21wY2ItY29udHJvbGJhcj5kaXYgZGl2e2hlaWdodDoyOHB4O2xpbmUtaGVpZ2h0OjI4cHh9LnNjbXAtYmlnLXBsYXk6YmVmb3JlLC5zY21wLXBsYXk6YmVmb3Jle2NvbnRlbnQ6IlxlNjAxIn0uc2NtcC1iaWctcGxheTpiZWZvcmV7Zm9udC1zaXplOjNlbTtsaW5lLWhlaWdodDo2NnB4fS5wbGF5aW5nIC5zY21wLWJpZy1wbGF5e3Zpc2liaWxpdHk6aGlkZGVufS5wbGF5aW5nIC5zY21wLXBsYXk6YmVmb3JlLC5zY21wLXBhdXNlOmJlZm9yZXtjb250ZW50OiJcZTYwMCJ9LnNjbXAtcGx1czpiZWZvcmV7Y29udGVudDoiXGVhMGEiO2ZvbnQtc2l6ZTo2MCV9LnNjbXAtbWludXM6YmVmb3Jle2NvbnRlbnQ6IlxlYTBiIjtmb250LXNpemU6NjAlfS5zY21wLXZvbHVtZS0wLW11dGU6YmVmb3Jle2NvbnRlbnQ6IlxlMzkzIn0uc2NtcC12b2x1bWUtMjU6YmVmb3Jle2NvbnRlbnQ6IlxlYTI5In0uc2NtcC12b2x1bWUtNTA6YmVmb3Jle2NvbnRlbnQ6IlxlYTI4In0uc2NtcC12b2x1bWUtNzU6YmVmb3Jle2NvbnRlbnQ6IlxlYTI3In0uc2NtcC12b2x1bWUtMTAwOmJlZm9yZXtjb250ZW50OiJcZTM4ZiJ9LnNjbXAtd2ViOmJlZm9yZXtjb250ZW50OiJcZTljYSI7Zm9udC1zaXplOjg1JX12aWRlbzo6LXdlYmtpdC1tZWRpYS1jb250cm9scyx2aWRlbzo6LXdlYmtpdC1tZWRpYS1jb250cm9scy1jb250YWluZXIsdmlkZW86Oi13ZWJraXQtbWVkaWEtY29udHJvbHMtcGFuZWwtY29udGFpbmVyLHZpZGVvOjotd2Via2l0LW1lZGlhLWNvbnRyb2xzLXBsYXktYnV0dG9uLHZpZGVvOjotd2Via2l0LW1lZGlhLWNvbnRyb2xzLXN0YXJ0LXBsYXliYWNrLWJ1dHRvbntkaXNwbGF5Om5vbmUhaW1wb3J0YW50fVtpZCo9dnBhaWRTbG90XT52aWRlb3twb3NpdGlvbjphYnNvbHV0ZX0=",t.head);for(var i=Array.isArray(y.featureMatrix.layout.source)?y.featureMatrix.layout.source:[y.featureMatrix.layout.source],r=0;r<i.length;r++){var a=i[r];if(0===a.indexOf("//")){var s=location.protocol;"file:"===s&&(s="https:"),a=s+a}n(a,t.head)}i=y.borderStyle,t.defaultView.frameElement.style.boxSizing="border-box",t.defaultView.frameElement.style.border=i,function e(t,n){var i=n||document.body;for(var r in t.nodes.forEach(function(t){var n,r=document.createElement(t.tag);for(n in t.attributes)("src"!==n||"src"===n&&y.prefetching)&&r.setAttribute(n,t.attributes[n]);t.content&&r.insertAdjacentHTML("beforeend",t.content),t.nodes&&0<t.nodes.length&&e(t,r),i.appendChild(r)}),t.attributes)t.attributes[r]&&i.setAttribute(r,t.attributes[r])}(v.dom,t.body),function(){b.videoSlot=A=g.querySelector("#video-slot"),b.slot=g.querySelector("#display-slot"),A.addEventListener("timeupdate",function(){b.currentTime=this.currentTime}),A.addEventListener("loadedmetadata",function(){b.duration=this.duration}),A.addEventListener("durationchange",function(){b.duration=this.duration}),A.addEventListener("progress",function(){4===this.readyState&&(b.percentLoaded="width: "+100*this.buffered.end(0)/b.duration+"%")}),A.addEventListener("volumechange",function(){b.muted||c()}),"overlay"===y.uiLayout&&d("mousemove",A,o),d("resize",g.defaultView,u);for(var e=g.querySelectorAll("[data-bind]"),t=0;t<e.length;t++)e[t].getAttribute("data-bind")&&0<e[t].getAttribute("data-bind").length&&h(e[t],e[t].getAttribute("data-bind"))}(),/iPhone|iPad|iPod|Android/i.test(navigator.userAgent)&&"overlay"===y.uiLayout&&(y.uiLayout="minimal"),i=Array.prototype.slice.call(g.body.classList).join(" "),b.uiLayout=i+" "+y.uiLayout,b.skipText=y.skipText,b.pausedByUser=!1,b.volume=.25*Math.round(y.volume/.25),c(),b.videoSlot.addEventListener("playing",f),b.videoSlot.addEventListener("pause",f),w=new j(g,"#F5F5F5"),b.originalSkipOffset=y.skipOffset,u(),b.playerReady=!0},m.setVPAIDAd=function(n){x("setVPAIDAd",n),T=n,function(){function n(){x("[VPAID Event] AdVideoPause",arguments),b.isVPAID&&(b.paused=!0,b.playState="paused")}p(T,"adVolume","volume"),b.VPAIDHooks=[],T.subscribe(function(n,i){x("[VPAID Custom Event] AdMediaSelected",i);var r=e.makeIterator(function(e){if(!e)return[!1,!1,{}];var t=e.apiFramework&&"VPAID"===e.apiFramework.toUpperCase(),n=e.adParameters;return[t,e=e.mimeType&&"application/x-shockwave-flash"===e.mimeType.toLowerCase(),n]}(i)),o=r.next().value;r.next(),r.next(),o&&(b.isVPAID=!0,t.canInteract()||T.adManager.setAutoplay(!1),b.uiLayout&&0>b.uiLayout.indexOf("none")&&g.body.classList.add("none"))},"AdMediaSelected"),T.subscribe(function(e,n){t.info("[VPAID Custom Event] AdTagParsed",n)},"AdTagParsed"),T.subscribe(function(e,t){x("[VPAID Event] AdLoaded",t,T.getVariant()),b.variant&&b.variant!==T.getVariant()&&b.videoSlot.setAttribute("src",("file"===location.protocol?"https":location.protocol)+"//cdn.smartclip.net/assets/9999999/test/black.mp4"),b.variant=T.getVariant(),b.currentAd=t,-1<["commercial","sponsored"].indexOf(T.getVariant())&&b.replayModel.push(t),y.skipOffset=null!==t.creatives[0].skipDelay?w.getSeconds(t.creatives[0].skipDelay):b.originalSkipOffset},"AdLoaded"),T.subscribe(function(){b.pausedByUser||(x("[VPAID Event] AdStarted",arguments,A.currentTime),g.body.classList.remove("opener","commercial","bumper","sponsored","closer"),g.body.classList.add(b.variant),w.deactivate(),b.adSkipped=!1,clearInterval(k),k=setInterval(l,250),b.pausedByUser=!1,b.isVPAID&&(b.playState="playing",b.paused=!1),T&&b.muted&&T.setAdVolume(0),b.currentAd&&b.currentAd.creatives[0]&&(b.videoClicks={videoClickThroughURLTemplate:b.currentAd.creatives[0].videoClickThroughURLTemplate,videoClickTrackingURLTemplates:b.currentAd.creatives[0].videoClickTrackingURLTemplates}),b.urlEnrichmentModel=T.utils.urlEnrichment.getCurrentModel()||{})},"AdStarted"),T.subscribe(function(){x("[VPAID Event] AdVideoComplete",arguments),y.behaviourMatrix.complete.collapsed||(t.iOSExitFullscreen(),m.pausePlayback(),2<=A.readyState&&(A.currentTime=0),b.pausedByUser=!0)},"AdSlotComplete"),T.subscribe(function(){x("[VPAID Event] AdStopped",arguments),y.skipOffset=b.originalSkipOffset,w.deactivate(),b.currentAd=null},"AdStopped"),T.subscribe(function(){b.duration=A.duration||T.getAdDuration()},"AdDurationChange"),T.subscribe(n,"AdPaused"),T.subscribe(n,"AdVideoPause"),T.subscribe(function(){x("[VPAID Event] AdSlotStarted",arguments),b.isVPAID&&(b.paused=!1,b.playState="playing"),b.adSkipped=!1,!b.HTML5VPAIDStarted&&b.isVPAID&&y.prefetching&&t.canInteract()&&(b.HTML5VPAIDStarted=!0,T.adManager.startLinear(),T.adManager.triggerEvent("AdStarted"))},"AdSlotStarted"),T.subscribe(function(){x("[VPAID Event] AdVideoResume",arguments),b.isVPAID&&(b.paused=!1,b.playState="playing")},"AdPlaying"),T.subscribe(function(){x("[VPAID Event] AdVolumeChange",arguments),b.volume=T.adVolume,m.volumeChange()},"AdVolumeChange"),T.subscribe(function(){x("[VPAID Event] AdSkippableStateChange",arguments),w.activate(),w.enable()},"AdSkippableStateChange")}()},b=t.environmentVars,y=t.publisherConfig,b.replayModel=[],m}});var X=function(e,t){return Object.keys(e).sort(t).reduce(function(t,n){return t[n]=e[n],t},{})};function G(e){this.behaviourMatrix=e,this.handlers={}}G.prototype.registerBehaviourHandler=function(e,t){this.handlers[e]||(this.handlers[e]=[]),this.handlers[e].push(t)},G.prototype.callMethods=function(e){if(e)for(var t=e.length,n=0;n<t;n++)if(!e[n].apply(this,[].slice.call(arguments).slice(1)))return!1;return!0},G.prototype.executeBehavioursForState=function(e){var t,n=X(this.behaviourMatrix[e],function(e){return"muted"===e?-1:0});for(t in n)n.hasOwnProperty(t)&&this.callMethods(this.handlers[t],e,n[t])},G.prototype.removeAllHandlers=function(){this.handlers=[]},A.smartPlay(function(e,t,n){function i(e,t){g.subscribe(function n(){e.apply(this,arguments),g.unsubscribe(n,t)},t)}function o(){e.iOSExitFullscreen(),d.forceCollapseOnShutdown&&p.collapseContainer(),g.shutdown(),e.shutdown()}function a(){try{d.onStartCallback(e,t),d.onStartCallback=function(){}}catch(t){e.debug("onStartCallback failure",t)}}function s(){var n,r=0,o=!1,s=!1;for(n in A.smartPlay.EVENT)g.subscribe(function(n,i){var r=u.currentAd||{},o=g.adManager.getAdConfig(),a={type:n,issuer:"smartclip",timestamp:(new Date).getTime()},s={event:a,info:i&&i.info?i.info:{}};"object"==typeof o&&(s.info.offset=o.offset),"object"==typeof r&&r.hasOwnProperty("creatives")&&r.hasOwnProperty("info")&&(s.info=r.info,s.info.variant=g.getVariant().toUpperCase(),s.info.duration=r.creatives[0]&&r.creatives[0].duration?r.creatives[0].duration:20,s.info.adId=r.id,s.info.title=r.title||"unknown",s.info.vendorURL=r.VASTAdTagURI||"inline",s.info.wrapperTags=r.wrappers||[]),i&&i.errorCode&&(s.errorCode=i.errorCode,s.info.errorCode=i.errorCode),u.adInfo=s;try{d.onEventCallback(e,t,a)}catch(t){e.debug("[API:callEventCallback] onEventCallback failure",t)}},A.smartPlay.EVENT[n]);g.subscribe(function(){R.executeBehavioursForState("onClick")}),g.subscribe(function(){T=!0,0<r&&!w&&(d.featureMatrix.endingScreen.enabled=!1),d.featureMatrix.endingScreen.enabled&&(u.paused=!0,u.pausedByUser=!1,u.playState="ended",isFinite(u.videoSlot.duration)&&(u.videoSlot.currentTime=u.videoSlot.duration)),R.executeBehavioursForState("complete")},"AdSlotComplete"),g.subscribe(function(){0<r&&!w&&function(){try{d.onCappedCallback(e,t),d.onCappedCallback=function(){}}catch(t){e.debug("onCappedCallback failure",t)}}();try{d.onEndCallback(e,t)}catch(t){e.debug("onEndCallback failure",t)}d.featureMatrix.endingScreen.enabled||g.stopAd()},"AdSlotComplete"),g.subscribe(function(){e.info("current behaviourMatrix",d.behaviourMatrix),e.info("userAgent",navigator.userAgent),w=!0,y&&p.expandContainer(),e.resize()},"AdStarted"),d.prefetching||i(function(){e.elements.iframeDocument.body.classList.add("started")},"AdSlotStarted"),g.subscribe(function(){r++},"AdCapped"),i(function(){d.prefetching&&u.isVPAID&&(o=!0,function(){try{d.onPrefetchCompleteCallback(e,t),d.onPrefetchCompleteCallback=function(){}}catch(t){e.debug("onPrefetchCompleteCallback failure",t)}}())},"AdLoaded"),i(function(){!s&&d.prefetching&&o&&(s=!0,a())},"AdImpression"),i(function(){!s&&y&&(s=!0,a())},"AdStarted")}function l(){g.resizeAd(u.size.width,u.size.height,"normal")}function c(){if(!E&&!x){var t=g.startAd;g.startAd=function(){u.isVPAID||function(){function t(){u.videoSlot.removeEventListener("play",t),u.videoSlot.removeEventListener("error",t),g.unsubscribe(t,"AdLoaded"),g.unsubscribe(t,"AdStarted"),clearTimeout(n)}var n=setTimeout(function(){e.debug("ad did not load, shutting down"),o()},2500);u.videoSlot.addEventListener("play",t),u.videoSlot.addEventListener("error",t),i(t,"AdLoaded"),i(t,"AdStarted")}(),g.startAd=t,t()}}}var u=e.environmentVars=new e.model.EnvironmentVars,d=e.publisherConfig,p=e.controller.sizeManager,h=e.controller.sizeBasedFormat,f=new e.model.PlayerInterface,m=new e.controller.Player(e),g=null,v=new C,b=!1,y=!1,T=!1,w=!1,k=!1,R=null,E=/iPhone|iPad|iPod/i.test(navigator.userAgent),x=/(Android)/i.test(navigator.userAgent),S=E&&!/Safari/.test(navigator.userAgent),L=E||x,N=/SCMobileSDK\//.test(navigator.userAgent);return u.engine=W.ENGINE_HTML5,e.getEngine=function(){return u.engine},e.canInteract=function(){return b&&y&&!T},e.canExpand=function(){return e.canInteract&&w},e.isReady=function(){return b&&!T&&("complete"===t.ownerDocument.readyState||"interactive"===t.ownerDocument.readyState)},e.iOSExitFullscreen=function(){E&&u.videoSlot&&u.videoSlot.webkitDisplayingFullscreen&&u.videoSlot.webkitExitFullScreen()},r.hookBefore(e,"shutdown",function(){v.removeAllStates()}),e.forceShutdown=o,v.addState(new D(e.elements.iframe,{canEnter:function(){return e.canInteract()&&!L},canLeave:function(){return e.canInteract()&&!L},onEnter:function(){k=!0,R.executeBehavioursForState("mouseOver")},onLeave:function(){k=!1,R.executeBehavioursForState("mouseOut")}})),N||v.addState(new B(t,e,{get requiredVisibility(){return parseInt(d.visibilityThreshold,10)||50},canEnter:function(){return b&&!y},canLeave:function(){return b&&y},reportInterval:50})),v.addState(new O(t,e,{get requiredVisibility(){return parseInt(d.visibilityThreshold,10)||50},reportInterval:50,canEnter:function(){return b&&!y&&!T},canLeave:function(){return b&&y&&!T},onEnter:function(){y=u.isVisible=!0,R.executeBehavioursForState("onScreen"),w||(u.isVPAID&&d.prefetching?(g.adManager.startLinear(),g.adManager.triggerEvent("AdStarted")):g.startAd())},onLeave:function(){y=u.isVisible=!1,R.executeBehavioursForState("offScreen")}})),v.addState(new F(t,e,{canEnter:function(){return!E&&e.canInteract()&&!u.videoSlot.playing},onEnter:function(){w?g.resumeAd():g.startAd()}})),v.addState(new M(t,e,{canEnter:function(){return e.canInteract()},canLeave:function(){return e.canInteract()&&!u.pausedByUser},onEnter:function(){m.pausePlayback()},onLeave:function(){m.resumePlayback()}})),(R=new G(d.behaviourMatrix)).registerBehaviourHandler("muted",function(t,n){e.info("muted handler",t,n,"adStarted",w,"completed",T,u,"isMobile",L),u.toggleMuteByUser||E&&u.videoSlot.webkitDisplayingFullscreen||(!n&&u.muted&&m.unmute(),n&&!u.muted&&m.mute())}),R.registerBehaviourHandler("collapsed",function(t,n){function i(){p.collapseContainer("init"===t),g.stopAd(),setTimeout(o,500)}if(e.info("collapsed handler",t,n,"adStarted",w,"completed",T,u),n&&"complete"!==t)p.collapseContainer("init"===t);else if("complete"!==t){if(("onScreen"===t||"offScreen"===t||"init"===t)&&!w)return;p.expandContainer("init"===t)}"complete"!==t||n||w&&T?"complete"===t&&u.isVPAID?setTimeout(function(){u.percentCloseTimeout="width: 0",i()},10):"complete"===t&&n?d.featureMatrix.endingScreen.enabled&&"ended"===u.playState&&!1===u.adSkipped&&setTimeout(function(){u.percentCloseTimeout="width: 0",function(){function e(){u.videoSlot.removeEventListener("play",e),clearTimeout(void 0),T=!1,k&&R.executeBehavioursForState("mouseOver")}u.videoSlot.addEventListener("play",e),g.subscribe(e,"AdSlotStarted")}()},10):"complete"!==t||n||(u.percentCloseTimeout="width: 0",g.subscribe(function(){T=!1,k&&R.executeBehavioursForState("mouseOver")},"AdSlotStarted")):i()}),R.registerBehaviourHandler("paused",function(t,n){e.info("paused handler",t,n,"adStarted",w,"completed",T,u),!w||T||u.pausedByUser||E&&u.videoSlot.webkitDisplayingFullscreen||(n?m.pausePlayback():(d.prefetching&&w&&y&&a(),m.resumePlayback()))}),u.observe("playerReady",function(){var r=d.adRequest.html||d.adRequest.flash||d.adRequest;d.adResponse&&0<d.adResponse.length&&(r={responseXML:d.adResponse}),g=ois(u.videoSlot,{preroll:r,playerConfig:n,clickThroughDialogEnabled:!1,skipButtonText:""}),u.videoSlot.removeAttribute("data-ois-instance-id"),(r=d.environmentVars||{}).rules=[],"2.0"===g.handshakeVersion()&&(g.initAd(e.size.width,e.size.height,"normal",r.desiredBitrate||NaN,{},r),b=!0,m.setVPAIDAd(g),new P(e,g),L&&d.featureMatrix.bestFit.enabled?h.setVPAIDAd(g):d.featureMatrix.bestFit.enabled=!1,s(),g.resizeAd(e.size.width,e.size.height),d.prefetching?(i(function(){R.executeBehavioursForState("init"),e.utils.isAmp()&&(e.info("calling amp renderStart",e.size),context.renderStart(e.size),t.style.visibility="visible");try{d.onPrefetchCompleteCallback(e,t)}catch(t){e.debug("onPrefetchCompleteCallback failure",t)}e.elements.iframeDocument.body.classList.add("started"),y?setTimeout(function(){e.environmentVars.paused=!0,R.executeBehavioursForState("onScreen")},16):(m.pausePlayback(),e.environmentVars.paused=!0)},"AdStarted"),setTimeout(function(){g.startAd()},100)):R.executeBehavioursForState("init")),u.observe("size",l)}),m.initView(f,e.elements.iframeDocument),e.utils.isAmp()&&(t.style.visibility="invisible"),Object.defineProperty(u.videoSlot,"playing",{get:function(){return!!(0<this.currentTime&&!this.paused&&!this.ended&&2<this.readyState)}}),E&&(e.elements.iframeDocument.body.classList.add("ios"),u.videoSlot.addEventListener("webkitendfullscreen",function(){u.pausedByUser=!0},!1),u.videoSlot.addEventListener("webkitbeginfullscreen",function(){u.pausedByUser=!1},!1),u.videoSlot.setAttribute("playsinline","true"),u.videoSlot.setAttribute("webkit-playsinline","true"),S&&(e.elements.iframeDocument.body.classList.add("ios-native"),Object.defineProperty(u.videoSlot,"controls",{get:function(){return!1},set:function(){},enumerable:!0,configurable:!0}))),Object.defineProperty(u.videoSlot,"src",{get:function(){return u.videoSource},set:function(e){e&&0!==e.length&&(u.videoSource=e,u.videoSlot.setAttribute("src",e))},enumerable:!0,configurable:!0}),x&&e.elements.iframeDocument.body.classList.add("android"),c(),x&&function(){function n(){i.play(),this.removeEventListener("touchmove",n)}if(53<=function(){var e=navigator.userAgent.match(/Chrom(e|ium)\/([0-9]+)\./);return!!e&&parseInt(e[2],10)})u.videoSlot.muted=!0;else{var i=document.createElement("video"),r=document.createElement("source");Object.defineProperty(u.videoSlot,"src",{get:function(){return u.videoSource},set:function(e){e&&0!==e.length&&(u.videoSource=e,u.videoSlot.setAttribute("src",e))},enumerable:!0,configurable:!0}),r.type="video/mp4",r.src=("file:"===location.protocol?"https:":location.protocol)+"//cdn.smartclip.net/assets/9999999/test/black.mp4",i.appendChild(r),e.utils.topLevelWindow().addEventListener("touchmove",n,!1),t.addEventListener("touchmove",n,!1)}}(),e}),A.smartPlay(function(e){var t=null,n=!1;return Object.defineProperty(e,"adInfo",{set:void 0,get:function(){return e.environmentVars.adInfo},enumerable:!0,configurable:!0}),Object.defineProperty(e,"adCompanions",{set:void 0,get:function(){return e.environmentVars.currentAd.creatives.filter(function(e){return"companion"===e.type})},enumerable:!0,configurable:!0}),Object.defineProperty(e,"adExtensions",{set:void 0,get:function(){return e.environmentVars.currentAd.extensions},enumerable:!0,configurable:!0}),e.playAd=function(){t&&(e.environmentVars.pausedByUser=!1,n?t.resumeAd():t.startAd())},e.pauseAd=function(){t&&(e.environmentVars.pausedByUser=!0,t.pauseAd())},e.clickThrough=function(){t&&t.adManager.clickThrough()},e.unmuteAd=function(){e.environmentVars.muted=!1,e.environmentVars.videoSlot.muted=!1,e.environmentVars.videoSlot.removeAttribute("muted"),t&&t.setAdVolume(e.environmentVars.volume)},e.getAdInfo=function(){return e.environmentVars.adInfo},e.handshakeVersion=function(n){if(t)return n&&(e.environmentVars.isInApp=!0,e.elements.iframeDocument.body.classList.add("in-app")),e.getVersion()},e.clickThruAccept=function(){t&&e.environmentVars.isInApp&&e.environmentVars.videoClicks&&e.environmentVars.videoClicks.videoClickTrackingURLTemplates&&a.track(e.environmentVars.videoClicks.videoClickTrackingURLTemplates,e.environmentVars.urlEnrichmentModel)},e.clickThruRejected=function(){t&&e.environmentVars.isInApp&&e.playAd()},e.environmentVars.observe("playerReady",function(){var i=parseInt(e.environmentVars.videoSlot.getAttribute("data-ois-instance-id"),10);(t=ois(i))&&function(e,n){t.subscribe(function i(){e.apply(this,arguments),t.unsubscribe(i,n)},n)}(function(){n=!0},"AdStarted")}),e}),A.smartPlay.EVENT={ON_AD_CLICKED:"AdClickThru",ON_AD_ERROR:"AdError",ON_AD_FINISHED:"AdStopped",ON_AD_LINEARITY_CHANGE:"AdLinearChange",ON_AD_MANIFEST_LOADED:"AdTagParsed",ON_AD_PLAYBACK_FINISHED:"AdVideoComplete",ON_AD_SCHEDULED:"AdLoaded",ON_AD_SKIPPED:"AdSkipped",ON_AD_STARTED:"AdStarted",ON_AD_FIRST_QUARTILE:"AdVideoFirstQuartile",ON_AD_IMPRESSION:"AdImpression",ON_AD_MID_POINT:"AdVideoMidpoint",ON_AD_PAUSED:"AdPaused",ON_AD_PLAYBACK_START:"AdVideoStart",ON_AD_PLAYING:"AdPlaying",ON_AD_THIRD_QUARTILE:"AdVideoThirdQuartile",ON_AD_SLOT_START:"AdSlotStart",ON_AD_SLOT_STARTED:"AdSlotStarted",ON_AD_SLOT_FINISHED:"AdSlotStopped",ON_AD_SLOT_COMPLETE:"AdSlotComplete",ON_COMPANIONS_DETECTED:"AdCompanionsDetected",ON_EXTENSIONS_DETECTED:"AdExtensionsDetected"},function(){function e(){}function t(){}function n(){function e(){var e=window.frameElement,t=window;for(s=0;e;)s++,e=(t=e.ownerDocument.defaultView).frameElement;return t}function t(e){return new RegExp("[\\[]"+e+"[\\]]","gi")}function n(e){return encodeURIComponent(e).replace(/[!'()*]/g,function(e){return"%"+e.charCodeAt(0).toString(16)})}function i(e,t,r){if(-1===e.indexOf(t))return e;var o=e.substr(e.indexOf(t),e.indexOf("]",e.indexOf(t))-e.indexOf(t)+1),a=0<=o.indexOf("|")?parseInt(o.split("|")[1].slice(0,-1),10):0;return 0<=(e=0===a?e.replace(o,n(r)):e.replace(o,n(r.substr(0,a)))).indexOf(t)&&(e=i(e,t,r)),e}var r={},o={timeOffset:0,assetUri:"",pageUri:"",pageTitle:"",techVersion:"",videoData:{}},a={},s=0;return r.errorCode=function(e,i){return i?(a.ERRORCODE=n(i),e.replace(t("(errorcode)"),n(i))):e},r.w=function(r){if(!r)return r;var l;if(l=o.timeOffset){var c=new Date(null);c.setSeconds(l),l=c.toISOString().substr(11,8)+".000"}else l=!1;return a.CONTENTPLAYHEAD=n(l||"00:00:00.000"),r=r.replace(t("(contentplayhead)"),n(l||"00:00:00.000")),(l=o.assetUri)&&(r=i(r=r.replace(t("(asseturi)"),n(l)),"[ASSETURI",l),a.ASSETURI=n(l)),(l=o.pageUri)&&(r=i(r=r.replace(t("(pageuri)"),n(l)),"[PAGEURI",l),a.PAGEURI=n(l)),(l=o.pageTitle)&&(r=r.replace(t("(pagetitle)"),n(l)),a.PAGETITLE=n(l)),(l=o.techVersion)&&(r=r.replace(t("(techversion|sdk_version)"),n(l)),a.TECHVERSION=n(l)),l=t("(cachebusting|cache_?buster|rand(om|num))"),c=n(Math.round(1e8*Math.random())),a.CACHEBUSTING=c,a.CACHEBUSTER=c,r=r.replace(l,c),l=(c=new Date).toISOString(),2===(c=(c=c.getTimezoneOffset()/60).toString().split("")).length&&c.splice(1,0,"0"),c=c.join(""),l=l.replace("Z",c),a.TIMESTAMP=n(l),r=r.replace(t("(timestamp)"),n(l)),l="Unknown OS",-1!=navigator.appVersion.indexOf("Win")&&(l="Windows"),-1!=navigator.appVersion.indexOf("Mac")&&(l="MacOS"),-1!=navigator.appVersion.indexOf("X11")&&(l="UNIX"),-1!=navigator.appVersion.indexOf("Linux")&&(l="Linux"),r=(r=(r=r.replace(t("(USERAGENT)"),n(navigator.userAgent))).replace(t("(OS)"),l)).replace(t("(os_version|OSVERSION)"),"unknown"),a.USERAGENT=n(navigator.userAgent),a.OS=l,a.OSVERSION="unknown",e(),a.FRAMEDEPTH=s,r=r.replace(t("(FRAMEDEPTH)"),s),(l=o.videoData)&&(r=(r=(r=r.replace(t("(dimension)"),n(l.width+"x"+l.height))).replace(t("(player_width|PLAYERWIDTH)"),n(l.width))).replace(t("(player_height|PLAYERHEIGHT)"),n(l.height)),a.PLAYERWIDTH=n(l.width),a.PLAYERHEIGHT=n(l.height)),l=e().innerWidth||e().document.documentElement.clientWidth||e().document.body.clientWidth,c=e().innerHeight||e().document.documentElement.clientHeight||e().document.body.clientHeight,a.SCREENRES=n(l+"x"+c),r=r.replace(t("(screen_res|screenres)"),n(l+"x"+c)),l=C.eb(),a.ALLOWINSWIPE=n(l),r=r.replace(t("(ALLOWINSWIPE)"),l),l=C.eb(),a.FIF=n(l),(r=r.replace(t("(FIF)"),l)).trim()},r.getCurrentModel=function(){var e={};return Object.keys(a).forEach(function(t){e["["+t+"]"]=a[t]}),e},r.setValueFor=function(e,t){o[e]=t,a[e.toUpperCase()]&&(a[e.toUpperCase()]=t)},function(){var t=e().location.href,n=e().document.title;false&&(t=window.context.location.href,n=window.context.Rc),r.setValueFor("pageUri",t),r.setValueFor("pageTitle",n),r.setValueFor("techVersion",[w.IDENTIFIER,w.API_VERSION,w.API_BUILD].join("|"))}(),r}function i(e,n,i){var r;if(!e.getAttribute("data-ois-instance-id")){e.setAttribute("data-ois-instance-id",E.length);var s=null;n.displaySlot&&n.displaySlot.nodeType&&(s=n.displaySlot),"string"==typeof n.displaySlot&&(s=C.find(n.displaySlot)[0]||null),r=new l(e,s);s=new a(n);var c=new o(r,s),u=new function(e,n){var i={};t.prototype.apply(this);var o=function(e,t){var n;"AdVideoResume"===(n=null===(n=-1!==String(e).indexOf("onTrack")?t:null)?e:"AdVideo"+(n[0].toUpperCase()+n.slice(1)))&&(n="AdVideoPlay"),"AdVideoImpression"===n&&(n="AdImpression"),"AdVideoSkip"===n&&(n="AdSkipped"),this.dispatchEvent(n,t)}.bind(this);return i.adManager=e,i.handshakeVersion=function(){return"2.0"},i.initAd=function(t,n,i,r,a,s){if(s&&s.rules)for(t=s.rules.length-1;0<=t;t--)C.gb(s.rules[t])&&e.addRuleToRuleSet(s.rules[t]);if(isNaN(r)||(C.ba=function(){return r}),s&&s.desiredMimeTypes){var l=JSON.parse(JSON.stringify(C.tb));t=Object.keys(l);var c=s.desiredMimeTypes.join(" "),u={};t.filter(function(e){return-1<c.indexOf(l[e].typeString)}).forEach(function(e){u[e]=l[e]}),C.za=function(){var e,t=document.createElement("video"),n={};for(e in u)u.hasOwnProperty(e)&&(u[e].result=t.canPlayType(u[e].typeString),""!==u[e].result&&(n[e]=u[e]));return n}}e.registerGlobalEventDispatcher(o)},i.startAd=function(){e.start()},i.stopAd=function(){e.destroy()},i.skipAd=function(){this.dispatchEvent("AdSkipped"),e.skipAd()}.bind(this),i.resizeAd=function(t,i,r){n.style.width=parseInt(t,10)+"px",n.style.height=parseInt(i,10)+"px",e.resize(t,i,r)},i.pauseAd=function(){e.pauseAd()},i.resumeAd=function(){e.resumeAd()},i.expandAd=function(){},i.collapseAd=function(){},i.setAdVolume=function(t){e.setAdVolume(t)},i.getAdVolume=function(){return e.getAdVolume()},i.getAdMutedState=function(){return e.getAdMutedState()},i.getSlot=function(){return e.getSlot()},i.getVideoSlot=function(){return e.getVideoSlot()},i.getPlayerSlot=function(){return r.getParent()},i.subscribe=function(e,t,n){return this.addEventListener(t,e,n),e}.bind(this),i.unsubscribe=function(e,t){this.removeEventListener(t,e)}.bind(this),i}(c,e),d={adManager:c,config:s};x.forEach(function(t){t(u,e,n,d)}),E.push({fa:u,element:e,ec:n,adManager:c,v:s}),(i||Function)()}return E[e.getAttribute("data-ois-instance-id")].fa}function r(e){function t(e){var t=0,n=0;try{if(e.offsetParent)for(t=e.offsetLeft,n=e.offsetTop;(e=e.offsetParent)&&"BODY"!==e.tagName.toUpperCase();)t+=e.offsetLeft,n+=e.offsetTop}catch(e){}return{left:t,top:n}}var n,i,r={i:{width:0,height:0,left:0,top:0},f:{width:0,height:0,left:0,top:0},R:!1,A:0,Oa:0,Pa:0,Na:0},o=[],a="ois_"+C.Ua().split("-").join("");this.K=function(){if(void 0===i&&(i=window.self===window.top?window.self:window.top),void 0===n)try{n=i.document}catch(e){n=window.document}r.i={width:n.documentElement.clientWidth||i.innerWidth||n.body.clientWidth,height:n.documentElement.clientHeight||i.innerHeight||n.body.clientHeight,left:i.scrollX||n.documentElement.scrollLeft||n.body.scrollLeft,top:i.scrollY||n.documentElement.scrollTop||n.body.scrollTop};var s=t(e);if(window.self!==window.top)try{var l;e:{var c,u=top.document.getElementsByTagName("iframe");for(c in u)try{if(u[c].contentWindow[a]){l=u[c];break e}}catch(e){}l=void 0}var d=t(l);s.left+=d.left,s.top+=d.top}catch(e){}return r.f={width:e.offsetWidth,height:e.offsetHeight,left:s.left,top:s.top},r.i.left>=r.f.left+r.f.width||r.i.top>=r.f.top+r.f.height||r.f.left>=r.i.left+r.i.width||r.f.top>=r.i.top+r.i.height?(r.A=0,r.R=!1):0>=r.f.width||0>=r.f.height?(r.A=0,r.R=!1):r.f.left>=r.i.left&&r.f.top>=r.i.top&&r.f.left+r.f.width<=r.i.left+r.i.width&&r.f.top+r.f.height<=r.i.top+r.i.height?(r.A=100,r.R=!0):(s=r.f.width,l=r.f.height,r.f.left<r.i.left?s=r.f.width-(r.i.left-r.f.left):r.f.left+r.f.width>r.i.width+r.i.left&&(s=r.i.width-(r.f.left-r.i.left)),r.f.top<r.i.top?l=r.f.height-(r.i.top-r.f.top):r.f.top+r.f.height>r.i.height+r.i.top&&(l=r.i.height-(r.f.top-r.i.top)),r.A=Math.floor(s*l/(r.f.width*r.f.height)*100),0<r.A&&(r.R=!0)),1==r.R?(r.Oa+=.25,r.Pa=.25):r.Pa=0,r.Na+=.25,o.push(r.R),r},window[a]=a}function o(e,t){function n(){p.b(1010),p.b(1020),p.b(1030),p.b("AdCompanionsDetected"),p.b("AdLoaded"),p.b("AdSlotStarted",d),p.b("AdSlotComplete",d),p.b("START_LINEAR",d),p.b("START_NONLINEAR",d),p.b("AdStopped",d),e.b("CONTROLS_ON",d),e.b("CONTROLS_OFF",d),e.g("play,pause,ended,timeupdate,volumechange,error,durationchange",a)}function i(){m=e.h("currentSrc"),g=e.h("currentSrcType"),C.B(e.h("currentSrc"))&&(t.Tc=C.tc(e.h("currentSrc"))),R.log(101,m)}function r(){return!m||e.h("currentSrc")==m}function o(t){!1!==(t="object"==typeof t?t.info:t)&&(t=!0),R.log(100,t),e.setControls(t)}function a(n){switch("timeupdate"!=n.type&&R.log(101,n.type),n.type){case 1030:var a=e.h("currentTime");0!=a&&r()&&(A=Number(Number(a).toFixed(1))),s(!1),o(!1),l(!0);break;case 1020:s()?T&&c():(m&&0<m.length&&e.ja({url:m,type:g},null!=A&&0!=A&&!T&&A,T),T&&c(),s(!0),o(!0),l(!1))}if(!0===l())switch(n.type){case"play":case"error":if(!x&&"error"===n.type&&(R.log(102,e.h("error")),p&&!p.da())){p.pa(!1,401);break}(n=h.aa(0))&&(i(),m&&e.M(),p.startAd(n)),!0===x&&(x=!1,i(),l(!1))}else switch(n.type){case"error":R.log(102,n.type,e.h("src")),!p||r()&&!p.da()||p.da()||p.pa();break;case"timeupdate":n=e.h("duration"),a=e.h("currentTime"),!l()&&a>t.overlayDelay&&a<n-5&&r()&&(h.vc(n),n=h.aa(a))&&("fixedroll"==n.type&&(i(),p.startAd(n)),"overlay"!=n.type||C.La&&null===e.getVideoSlot().getAttribute("webkit-playsinline")||p.startAd(n)),n=e.h("duration"),(a=e.h("currentTime"))<n&&a>n-1&&r()&&C.I&&(h.Qb(n)?(k=1,(n=h.aa(n))?(i(),p.startAd(n)):(p.da()&&p.ea(),c())):E=!0);break;case"ended":!C.I&&r()&&(T=!0,(n=h.aa(e.h("duration")))?(i(),p.startAd(n)):(p.da()&&p.ea(),c()),e.M()),r()&&C.I&&1==k?k=2:(r()&&C.I&&2==k||E)&&(c(),k=3)}}function s(e){if(null==e)return b;b=e}function l(e){if(null==e)return v;v=e}function c(){R.log(104),e.M(),t.onFinish&&t.onFinish(),n()}function d(t){switch(y[t.type]&&y[t.type](t),t.type){case"AdSlotStarted":e.ob(!0);break;case"AdSlotComplete":e.ob(!1);break;case"AdStopped":h.bc()&&d({type:"BLOCK_DONE"})}}var p,h,m,g,v=!0,b=!1,y={},A=null,T=!1,k=!1,E=!1,x=!0,S=new C.j.s;this.registerGlobalEventDispatcher=S.registerGlobalEventDispatcher,this.destroy=function(){p&&(R.log(105),p.ea(),n())},this.start=function(){var t=e.h("currentSrc");/iPhone|iPad|iPod|Android/i.test(navigator.userAgent)&&l()&&!t?a({type:"play"}):e.O()},this.onAdLoadCompleteCallback=function(e){p&&p.a("AdLoaded",C.D(e)?e:function(){})},this.setControllerEvents=function(e){y=e},this.Nb=function(){return e.Nb()},this.pauseAd=function(){p.pauseAd()},this.resumeAd=function(){p.resumeAd()},this.resize=function(t,n,i){var r=document.createEvent("HTMLEvents");r.initEvent("resize",!0,!1),e.getVideoSlot().dispatchEvent(r),p.resizeAd(t,n,i)},this.addRuleToRuleSet=function(e){p.addRuleToRuleSet(e)},this.removeRules=function(e){return p.removeRules(e)},this.setAutoplay=function(e){p.setAutoplay(e)},this.startLinear=function(e){p.startLinear(e)},this.setVpaidAd=function(e){p.setVpaidAd(e)},this.triggerEvent=function(e,t){S.triggerEvent(e,t)},this.clickThrough=function(){p.clickThrough()},this.trackingController=function(){return p.trackingController()},this.skipAd=function(){p.skipAd()},this.setAdVolume=function(e){p.setAdVolume(e)},this.getAdVolume=function(){return p.getAdVolume()},this.getAdMutedState=function(){return p.getAdMutedState()},this.startAd=function(e){p.startAd(e)},this.getAdConfig=function(){return p.getAdConfig()},this.isVPAID=function(){return p.isVPAID()},this.getSlot=function(){return p.getSlot()},this.getVideoSlot=function(){return p.getVideoSlot()},this.startAds=function(e){p.startAds(e)},this.trackErrorAndRestartAd=function(e){p.pa(!0),h.reset(),(e=h.aa(e||0))&&"fixedroll"==e.type&&(1<e.tag.length&&0===e.urls.length&&(e.urls.unshift(e.tag),e.limit=e.urls.length),p.ea())},R.log(109,w.API_VERSION),h=new f(t),(p=new u(e,t)).registerGlobalEventDispatcher(S.C),e.registerGlobalEventDispatcher(S.C),p.a(1010,o),p.a(1020,a),p.a(1030,a),p.a("AdCompanionsDetected",function(e){R.log(103),t.onCompanion&&t.onCompanion(e.info),t.companionCallback&&t.companionCallback(e.info)}),p.a("AdSlotStarted",d),p.a("AdSlotComplete",d),p.a("START_LINEAR",d),p.a("START_NONLINEAR",d),p.a("AdStopped",d),e.a("CONTROLS_ON",d),e.a("CONTROLS_OFF",d),e.m("play,pause,ended,timeupdate,volumechange,error,durationchange",a)}function a(e){function t(){for(var e in l)void 0!==c[e]&&(c[e]=n(l[e],c.ga[e]))}function n(e,t){switch(typeof t){case"number":return!e||isNaN(parseInt(e,10))?t:parseInt(e,10);case"object":for(var i in t)e[i]=e[i]?n(e[i],t[i]):t[i];break;default:if(null==e)return t}return e}function i(){4==a.readyState&&(200==a.status?r():c.H&&c.H(c))}function r(){c.oa({}),c.onConfigLoaded&&c.onConfigLoaded(c)}function o(){c.H&&c.H(c)}var a,s={key:"",adResponse:"",preroll:"",midroll:"",postroll:"",overlay:"",fixedroll:"",fixedrolls:[],overlayDelay:5,overlayDuration:15,minDurationForMidrolls:100,customControls:!1,urlhandler:"",blockInsecureURL:!0,maxWrapperDepth:10,prefetchBuffets:!1,adVerification:{meetrics:!1},skipButtonPosition:"top",skipButtonText:"Skip this Ad",styles:{colorScheme:{backgroundColor:"rgba(0,0,0,.8)",color:"#ffffff"},fontStyle:{textAlign:"left",fontFamily:"Arial,sans,Verdana",fontSize:"12px",lineHeight:"20px"},dialogBox:{width:"200px",padding:"7px",border:"1px solid #ffffff",borderRadius:"3px"},buttonStyle:{width:"80px",height:"25px",margin:"2px",marginTop:"9px",border:"1px solid #ffffff",borderRadius:"3px",lineHeight:"0px",textAlign:"center"}},onCompanion:null,companionCallback:null,onTrack:function(){},onFinish:null,vpaidSingleVideoSlotMode:!0,vb:"",vastExtensions:{},lb:!0},l=e,c=this;c.ga=s,this.Lb=function(){return c},this.oa=function(e){l=e,t(),C.cb(e)&&(c.onConfigLoaded=e.onConfigLoaded,c.H=e.H,c.jb(e.externalConfigXml))},this.jb=function(e){e=C.urlEnrichment.w(e),a=window.XDomainRequest?new window.XDomainRequest:new XMLHttpRequest,window.XDomainRequest?(a.onload=r,a.onerror=o,a.open("GET",e)):(a.open("GET",e,!0),a.onreadystatechange=i),a.send()},this.H=this.onConfigLoaded=null,this.id="test",function(){for(var e in c.ga=s,c.ga)c[e]=c.ga[e]}(),t(),C.cb(e)&&(c.onConfigLoaded=e.onConfigLoaded,c.H=e.H,c.jb(e.externalConfigXml))}function s(){function e(e){if(!(1>=(t=n.filter(function(t){return t.hasOwnProperty(e)})).length)){var t,i=n.filter(function(t){return!t.hasOwnProperty(e)});if(-1===(t=t.map(function(t){return t[e]}).join("|")).indexOf("true")||-1===t.indexOf("false")){var r={};r[e]=t,i.push(r)}n=i}}var t=new C.j.s;C.Ob();var n=[],i={};this.a=t.a,this.b=t.b,this.registerGlobalEventDispatcher=t.registerGlobalEventDispatcher,this.addRule=function(t){if("type"!==Object.keys(t).shift()&&"format"!==Object.keys(t).shift())return e("type"),e("format"),e("scalable"),e("maintainaspectratio"),n=n.concat([t]).reduce(function(e,t,n){var i=Object.keys(t).shift();return i in e.keys?e.result[e.keys[i]]=t:(e.keys[i]=n,e.result.push(t)),e},{result:[],keys:{}}).result,this;n.push(t)},this.removeRule=function(e){n=n.filter(function(t){return Object.keys(t).shift()!==e})},this.U=function(){return e("type"),e("format"),e("scalable"),e("maintainaspectratio"),n},this.ib=function(){for(var e in i=C.za(),n.push({delivery:"progressive"}),i=C.za())i.hasOwnProperty(e)&&n.push({type:i[e].Fa});n.push({type:C.na}),n.push({format:window.ois.MediaFileFormat.WIDE}),n.push({width:5e3}),n.push({bitrate:C.ba()||5e3}),n.push({apiFramework:"VPAID"})},this.ib()}function l(e,t){function n(t){"play"!==t.type||e.commercial||(h=!1),"pause"!==t.type||e.commercial||(h=!0)}function i(t){"timeupdate"===t.type&&0<e.seekable.length&&(g=!0,e.seekable.end(0)>=e.duration&&6e3!==e.duration&&100!==e.duration&&(R.log(803,e.duration),e.currentTime=e.duration,f.g(e,"timeupdate",i))),"ended"===t.type&&(R.log(804,t.type),o(u),e.load(),d(),void 0!==(t=e.play())&&t.then(function(){},function(){}),f.g(e,"ended",i),m=!1)}function r(){try{e.seekable.end(0)>=c&&0<e.currentTime&&(e.currentTime=c,f.g(e,"timeupdate",r),R.log(801,c))}catch(e){R.log(802,e)}}function o(t){if(t=C.Z(t),C.wb)for(var n,i=e.getElementsByTagName("source"),r=(r=t.split("."))[r.length-1],o=0;o<i.length;o++)if((n=(n=i[o].src.split("."))[n.length-1])===r)return void(i[o].src=t);e.src=t}function a(e,t){var n=null;return window.getComputedStyle?n=parseFloat(window.getComputedStyle(e,"").getPropertyValue(t)):e.currentStyle&&(n=parseFloat(e.currentStyle[t])),n?n.toFixed(2)+"px":null}function s(e){b.triggerEvent(5010,e.type||void 0)}function l(){e.muted&&!1===v?(v=!0,b.triggerEvent(5020,!0)):e.muted||!0!==v||(v=!1,b.triggerEvent(5020,!1))}var c,u,d,p,h,f,m=!1,g=!1,v=!1,b=new C.j.s;this.h=function(t){if(t)switch(t){case"currentTime":return e.currentTime;case"duration":return e.duration;case"currentSrc":return e.currentSrc;case"currentSrcType":return"-unused-";case"src":return e.src;case"controls":return e.controls;case"paused":return e.paused;case"volume":return e.volume;case"error":return e.error;default:return null}return{currentTime:e.currentTime,duration:e.duration,currentSrc:e.currentSrc,src:e.src,controls:e.controls,paused:e.paused,volume:e.volume,error:e.error}},this.ob=function(t){e&&(e.commercial=t)},this.l=function(t){if(t)switch(t){case"width":return Math.round(e.getBoundingClientRect().width);case"height":return Math.round(e.getBoundingClientRect().height);case"top":return Math.round(e.getBoundingClientRect().top-document.body.getBoundingClientRect().top);case"left":return Math.round(e.getBoundingClientRect().left-document.body.getBoundingClientRect().left);default:return null}return{width:Math.round(e.getBoundingClientRect().width),height:Math.round(e.getBoundingClientRect().height),top:Math.round(e.getBoundingClientRect().top-document.body.getBoundingClientRect().top),left:Math.round(e.getBoundingClientRect().left-document.body.getBoundingClientRect().left)}},this.M=function(){var t=e.pause();void 0!==t&&t.then(function(){},function(){})},this.O=function(){if(!h){var t=e.play();void 0!==t&&t.then(function(){},function(){})}},this.ja=function(t,n,s){R.log(806,t,n,s),u=C.gb(t)?t.url:t,p||(e.width||e.style.width||(e.style.width=a(e,"width")||"100%"),e.height||e.style.height||(e.style.height=a(e,"height")||"100%"),p=!0),C.I&&m?function(){if(f.m(e,"timeupdate,ended",i),!1===g){R.log(805),f.g(e,"timeupdate,ended",i),o(u),e.load(),d();var t=e.play();void 0!==t&&t.then(function(){},function(){}),m=!1}}():(o(u),e.load(),n&&(c=n,f.m(e,"timeupdate",r)),s||void 0!==(t=e.play())&&t.then(function(){},function(){}))},this.oc=function(e,t){R.log(807,e),m=e,d=t},this.setControls=function(t){e.controls=t},this.getParent=function(){return t||e.parentNode},this.mb=function(){f.g(e,"click",void 0)},this.m=function(t,n){f.m(e,t,n)},this.g=function(t,n){f.g(e,t,n)},this.getVideoSlot=function(){return e},this.a=b.a,this.b=b.b,this.registerGlobalEventDispatcher=b.registerGlobalEventDispatcher,this.destroy=function(){f.g(e,"mousedown",void 0),f.g(e,"timeupdate",r),f.g(e,"volumechange",l),f.g(e,"timeupdate,ended",i),f.g(window,"resize,orientationchange",s),f.g(document,"mozfullscreenchange,webkitfullscreenchange",s),f.g(e,"pause play",n)},(f=new C.j.Event).m(window,"resize,orientationchange",s),f.m(document,"mozfullscreenchange,webkitfullscreenchange",s),e.muted&&(v=!0),f.m(e,"volumechange",l),f.m(e,"pause play",n)}function c(e){function t(){g.triggerEvent("AdStopped",void 0)}function n(e){d=e?new window[h](o,a,c,s,v):new w.extensions[u](o,a,c,s,v),C.D(d.a)&&(d.a("PAUSEAD",l),d.a("RESUMEAD",l)),m.push(d)}var i,r,o,a,s,l,c,u,d,p,h,f,m=[],g=new C.j.s,v=this;this.a=g.a,this.b=g.b,this.ca=function(e,t,r){if(function(e,t,n){o||(o=e),a||(a=t),s||(s=n)}(e,t,r),i&&!(1>i.length))for(e=0;e<i.length;e++)c=i[e],u=c.attributes[0].value,w.extensions[u]?n(!1):(p=a.v.vastExtensions,Object.getOwnPropertyNames(p).forEach(function(e){h=p[e].className||e,f=p[e].src,h===u&&(window[h]&&"function"==typeof window[h]?n(!0):f&&(e=C.createElement("script",{type:"text/javascript"}),document.head.appendChild(e),e.addEventListener("load",function(){n(!0)},!1),e.src=f))}))},this.destroy=function(){if(0<m.length)for(var e=0;e<m.length;e++)m[e].destroy&&m[e].destroy();r&&r.b("AdStopped",t),l=s=a=o=!1},this.onResize=function(){if(0<m.length)for(var t=0;t<m.length;t++)m[t].setViewport({width:e.l("width"),height:e.l("height")})},this.setup=function(e,n,o){return i=e,l=n,(r=o).a("AdStopped",t),v}}function u(e,t){function n(e){if(!D)return!1;if((e="fixedroll"===e?D.Aa():D.ia())&&e.StaticResource){var t=e.attributes.apiFramework?e.attributes.apiFramework:"UNKNOWN";if(-1!=C.na.indexOf(e.resourceAttributes.creativeType.toLowerCase())&&"VPAID"==t.toUpperCase())return R.log(T),!0}else if(e&&e.apiFramework&&"VPAID"==e.apiFramework.toUpperCase())return!0;return!1}function i(e){Z=e.info,O&&(e.info?O.Sa():O.callUnmuteTracker()),I("AdVolumeChange",{isMuted:e.info})}function r(t){t.info&&"fullscreen"===t.info&&O.callTracker("fullscreen"),t.info&&"exitFullscreen"===t.info&&O.callTracker("exitFullscreen"),M&&M.resizeAd(e.l("width"),e.l("height"),void 0),K.onResize()}function o(e){var t=e.type;"pause"===t&&e.target.currentTime>=e.target.duration||("play"===t&&0<e.target.currentTime&&(t="resume"),e=!!M,O&&!e&&O.callTracker(t))}function a(n){N(),(D=new d(t,e)).wc($),(F=new p(e,D)).a("AdClickThru",f),F.a("AdClickThruReject",f),F.a(2020,f),F.registerGlobalEventDispatcher(Y.C),D.a(3010,f),D.a(3020,f),D.a(3030,f),D.a(3035,f),D.a(3050,f),D.a(3040,f),D.a(7e3,f),D.registerGlobalEventDispatcher(function(e){"AdTagSkipDetected"===e&&(Q=!0,R.log(5100))}),D.registerGlobalEventDispatcher(Y.C),e.m("play",o),e.m("pause",o),e.a(5020,i),e.a(5010,r),I("AdSlotStart"),"fixedroll"===G?D.hb(X.urls.shift(),X.responseXML):"overlay"===G&&n&&(null!==q?(q.nonLinearsTracker.impression=[],q.gotLinear=!1,q.companion=[],q.companionsAsString=null,D.cc(q),q=null):D.hb(n))}function l(){f({type:"RESUMEAD"})}function u(){O&&O.Fb(),x()}function h(t){I(1030),n("fixedroll")?re?M&&M.resumeAd():(M.startAd(),z=re=!0,e.g("ended",x)):(e.oc(_,k),e.ja(D.Ba(),t,!1),e.m("loadeddata",function t(){e.g("loadeddata",t),I("AdStarted")}),_=!1,k()),ne||(ne=!0,I("AdSlotStarted")),I("START_LINEAR")}function f(i){switch(R.log(201,i.type),O||((O=new m(e,t,D,G)).registerGlobalEventDispatcher(Y.C),O.a("AdCapped")),O.Ha(D),i.type){case"PAUSEAD":if(!J&&!z)break;H=!0,I("AdPaused",!0),M?M.pauseAd():(e.M(),e.m("play",l)),I(1010,!0),F.Va();break;case"RESUMEAD":H=!1,I("AdPlaying",!0),M&&(M.resumeAd(),I("onTrack","play")),(H||e.h("paused"))&&(e.g("play",l),e.O()),F&&F.Gb(),I(1010,!1),e.setControls(!1);break;case 3010:O.Ha(D),i="fixedroll"===G?D.Aa():D.ia(),n("fixedroll")||I("AdLoaded",D.c());var r=D.J(),o=r.icons&&0<r.icons.length;D.c()&&r&&o&&(R.log(5050),Y.triggerEvent(4300,r.icons)),I("AdMediaSelected",i),function(){var e=D.c().creatives.filter(function(e){return"companion"===e.type}).shift();e&&I("AdCompanionsDetected",e)}(),"overlay"===G&&D.c().gotNonLinear?(F.Wb(),V(i=D.Mb()),F.nc(i),n("overlay")&&A("overlay"),clearInterval(B),J=!1,B=setInterval(function(){F.Rb();var e=(new Date).getTime();null==j&&(j=e),e=parseInt(e-j,10)/1e3,D.qb(e),e>parseInt(t.overlayDuration,10)&&L()},250),J=!0,O.ya(),I("START_NONLINEAR")):"fixedroll"==G&&D.Ba()?(F.ca(),F.Ga(),Q&&F.Xb(),F.a("SKIP",u),n("fixedroll")&&(F.Vb(),A("fixedroll"),ie&&M.nb(ie),e.g("ended",x),M.a("AdLoaded",function e(){M&&(M.b("AdLoaded",e),te&&(M.startAd(),re=!0))})),te&&h()):"fixedroll"!==G&&"overlay"!==G||b(200),K.ca(F,D,O);break;case"AdClickThru":U();break;case"AdClickThruReject":e.setControls(!1),e.O();break;case 3020:r=!1,i.info&&(r=i.info.silent),r||(R.log(202,i.info),Y.triggerEvent("AdError",i.info||i.type)),g(i.info||i.type),r||S();break;case 2020:R.log(203),O.Cb(),L();break;case 3030:q=i.info;break;case 3035:K.setup(i.info,f,ee);break;case 3050:O.callCustomTracker(i.info,"cappedImpression");break;case 3040:O.xa(302);break;case 7e3:b(303)}}function g(e){var t=e.errorCode||e;e=e.errorURLTemplates,R.log(202,t),O&&O.xa({info:{errorCode:t,errorURLTemplates:e}})}function b(e){g(e),Y.triggerEvent("AdSlotComplete"),L()}function y(e){switch(R.log(950,e.type),e.type){case 6010:null!==O&&O.xa(901),M&&(M.b(6010,y),M=null),x();break;case 6020:I(1030);break;case 6030:I(1020);break;case 6040:case 6050:x();break;case 6060:U(e.info)}}function A(t){(M=new v).a(6010,y),M.a(6020,y),M.a(6030,y),M.a(6040,y),M.a(6050,y),M.a(6060,y),M.a("AdVideoComplete",y),M.a(6070,i),M.registerGlobalEventDispatcher(Y.C),"overlay"===t?M.ca(D.ia(),F,e,O,D):M.Ub(D.Aa(),F,e,O,D)}function k(){clearInterval(W),z=!1,e.m("ended",x),W=setInterval(function(){var t=(new Date).getTime();null==P&&(P=t);t=e.h("currentTime");var n=e.h("duration");O&&O.handleTracking(),Number.isFinite(n)&&D&&(D.qb(n-t),D.totalTime!==n&&D.mc(n))},250),z=!0}function E(){O&&(!1===O.Ta()?setTimeout(E,16):(O.b("AdCapped"),O=null,S()))}function x(){e.g("ended",x),M&&(M.b(6050,x),M=null,re=!1),O?(O.handleTracking(),E()):S()}function S(){!F&&!D&!z||(clearInterval(W),z=!1,I("AdStopped"),D&&D.Bb()&&(R.log(5003),F&&F.destroy(),(F=new p(e,D)).a("AdClickThru",f),F.a("AdClickThruReject",f),F.a(2020,f),F.registerGlobalEventDispatcher(Y.C),K.destroy(),M?(M.stopAd(),void setTimeout(function(){M=null,re=!1,D.ka()},500)):(D.ka(),1))||(F&&F.destroy(),D&&D.destroy(),F=w.Ja=null,D=w.Ia=null,K&&K.destroy(),ne=!1,I("AdSlotStopped"),I("AdSlotComplete"),I(1020)))}function L(){if(R.log(204,G),R.log(5005),N(),C.urlEnrichment.setValueFor("errorCode",""),M)M.stopAd();else if("overlay"==G||J)R.log(205,G),t.ta&&(t.overlayDuration=t.ta,delete t.ta),clearInterval(B),J=!1,j=void 0,F.kc(),D.destroy(),F=w.Ja=null,D=w.Ia=null,C.ra&&I(1010,!0);else if("fixedroll"===G){var e=function(){!1===O.Ta()?setTimeout(e,16):(I("AdSlotComplete"),I(1020))};clearInterval(W),z=!1,P=void 0,F&&F.destroy(),D&&D.destroy(),F=w.Ja=null,D=w.Ia=null,K&&K.destroy(),e()}}function N(){F&&(F.b("AdClickThru"),F.b("AdClickThruReject"),F.b(2020)),D&&(D.b(3010),D.b(3020),D.b(3030),D.b(3035),D.b(3050),D.b(3040),D.b(7e3),D.G()),e.g("play",o),e.g("pause",o),e.g("ended",x),e.b(5020,i),e.b(5010,r)}function I(e,t){Y.triggerEvent(e,t)}function V(e){e&&e.attributes&&e.attributes.minSuggestedDuration&&15<C.V(e.attributes.minSuggestedDuration)&&C.V(e.attributes.minSuggestedDuration)>t.overlayDuration&&(t.ta=t.overlayDuration,t.overlayDuration=C.V(e.attributes.minSuggestedDuration))}function U(t){var n="_blank";window.envBlocked&&(n="_self"),O.Ra();var i=D.J();if("fixedroll"===G&&(i.videoClickThroughURLTemplate||t)){if(!(t=t||i.videoClickThroughURLTemplate)||0===t.length||0===t.trim().length)return void l();null!=(n=window.open(t,n))&&(I(1010,!0),F.Va())}else"overlay"===G&&(D.c().nonLinearsVideoclicks.url||t)&&(t=t||D.c().nonLinearsVideoclicks.url,window.open(t,n));e.setControls(!1),I("AdClickThru",!0)}var O,F,D,M,W,P,B,j,X,G,H,Z,Y=new C.j.s,z=!1,J=!1,q=null,Q=!1,_=!1,$=new s,K=new c(e),ee=this,te=!0,ne=!1,ie=null,re=!1;this.startLinear=function(e){h(e)},this.startAd=function(e){return G=!(!(X=e)||!e.type)&&e.type,!!X&&("fixedroll"===G?(!0===J&&L(),_=!0,a()):"overlay"===G&&X.urls[0]&&a(X.urls[0]),!0)},this.a=Y.a,this.b=Y.b,this.registerGlobalEventDispatcher=Y.registerGlobalEventDispatcher,this.G=Y.G,this.pa=function(e,t){var n=t||400;try{R.log(202,n),Y.triggerEvent("AdError",{errorCode:n}),g(n)}catch(e){}e||x()},this.ea=function(){e&&e.destroy(),x()},this.da=function(){return J},this.pauseAd=function(){f({type:"PAUSEAD"})},this.resumeAd=function(){f({type:"RESUMEAD"})},this.setAutoplay=function(e){te=e},this.addRuleToRuleSet=function(e){$&&$.addRule(e)},this.removeRules=function(e){if($)return $.removeRule(e)},this.setVpaidAd=function(e){ie=e},this.setAdVolume=function(e){M&&M.setAdVolume(e)},this.getAdVolume=function(){return M?M.getAdVolume():e.h("volume")},this.getAdMutedState=function(){return Z},this.clickThrough=function(){if(!(D&&D.c()&&D.c().variant&&"commercial"!==D.c().variant&&"sponsored"!==D.c().variant||.5>e.h("currentTime"))){if("fixedroll"===G){var t=D.J().videoClickThroughURLTemplate;if(!t||0===t.length||0===t.trim().length)return}f({type:"PAUSEAD"}),U()}},this.trackingController=function(){return O||((O=new m(e,t,D,"fixedroll")).registerGlobalEventDispatcher(Y.C),O.a("AdCapped")),O.Ha(D),O},this.resizeAd=function(e,t,n){M&&M.resizeAd(e,t,n)},this.skipAd=function(){M?M.skipAd():u()},this.getAdConfig=function(){return X},this.isVPAID=function(){return!!M},this.getVideoSlot=function(){return M?M.getVideoSlot():e.getVideoSlot()},this.getSlot=function(){return M?M.getSlot():document.createElement("div")},this.startAds=function(e){D||(G="unknown",a()),G="fixedroll",D.lc(e),D.ka()}}function d(e,t){function n(e){switch(R.log(301,e.type),c&&c.c()&&(d=c.c()),e.type){case 4200:i(4200,e.info);break;case 7e3:u.triggerEvent(7e3);break;case"AdTagParsed":if(i("AdTagParsed",e.info),d.ads.length>v&&d.ads[v].errorCode){i(3020,d.ads[v]);break}(e=function(){if((f=new w.MediaSelector(b,h)).Hb().sc(),0<f.Ca().length){var e=f.Ca(),t=C.ba()||5e3,n=[],n=e.filter(function(e){return e.apiFramework&&"VPAID"===e.apiFramework.toUpperCase()}),e=0<n.length?n:e,e=e.reduce(function(e,n){return Math.abs(n.bitrate-t)<Math.abs(e.bitrate-t)?n:e});return e.fileURL=C.Z(e.fileURL),m.url=e.fileURL,m.type=e.mimeType,m.index=0,C.extend(m,e),"string"==typeof m.fileURL&&(C.urlEnrichment.setValueFor("assetUri",m.fileURL),m.fileURL=C.urlEnrichment.w(m.fileURL)),!0}return C.urlEnrichment.setValueFor("assetUri",null),m.url=null,!1}())?e&&m.fileURL&&(d.ads[v].creatives.filter(function(e){return"linear"===e.type}).shift().supportedMediaFiles=f.Ca(),i(3010)):(d.ads[v].errorCode=403,i(3020,d.ads[v]));break;case 4030:p=!0,0,function(e){var n;window.XDomainRequest?(R.log(303),n=new window.XDomainRequest):(R.log(304),n=new XMLHttpRequest),l=n,C.urlEnrichment.setValueFor("videoData",t.l()),e=C.urlEnrichment.w(e),window.XDomainRequest?(l.onload=o,l.onerror=a,l.open("GET",e)):(l.open("GET",e,!0),C.qc(e)&&(l.withCredentials=!0),l.onreadystatechange=r),l.send()}(d.Zc);break;case"VAST-error":e.info&&e.info.rc||i(3020,e.info);break;case 4040:i(3030,C.clone(d));break;case 4050:i(3035,d.extensions);break;case 4100:i(3050,e.info)}}function i(e,t){u.triggerEvent(e,t)}function r(){4==l.readyState&&(200==l.status?o():a())}function o(){var e=l.responseText;!1===p?((c=new g).registerGlobalEventDispatcher(u.C),c.a("AdTagParsed",n),c.a("VAST-error",n),c.a(4030,n),c.a(4040,n),c.a(4050,n),c.a(4100,n),c.a(7e3,n)):!0===p&&(p=!1),c.kb(e)}function a(){i(3020,300)}var l,c=null,u=new C.j.s,d={ads:[],videoClicks:{},tracker:[],linear:[],nonLinearsVideoclicks:{},nonLinearsTracker:[],nonLinears:[],extensions:[],companion:[],companionsAsString:null,asString:null,duration:null,gotLinear:!1,gotNonLinear:!1,isCombi:!1,Mc:[]},p=!1,h=new s,f=null,m={url:null,index:null,type:null},v=0,b=this;this.wc=function(e){h=e},this.U=function(){return h.U()},this.v=e,this.la=void 0,this.totalTime=d.duration,this.hb=function(i,r){(c=new g(e)).a("AdTagParsed",n),c.a(4200,n),c.a("VAST-error",n),C.urlEnrichment.setValueFor("videoData",t.l()),window.macroModel=C.urlEnrichment.getCurrentModel,c.gc(r?null:i,r)},this.ia=function(){return this.c().creatives.filter(function(e){return"nonlinear"===e.type}).shift()},this.J=function(){return this.c().creatives.filter(function(e){return"linear"===e.type}).shift()},this.Mb=function(){return this.ia()},this.Aa=function(){return m},this.Ba=function(){return m.fileURL},this.qb=function(e){this.totalTime=d.duration,this.la=d.duration-e,i("AdRemainingTimeChange")},this.mc=function(e){this.totalTime=e,i("AdDurationChange")},this.cc=function(e){d=C.clone(e),i(3010)},this.destroy=function(){R.log(5006),null!==c&&(c.b("VAST-error"),c.b("AdTagParsed"),c.b(4030),c.b(4040),c.b(4100),c.b(7e3),c.G(),c=null),u=null},this.a=u.a,this.b=u.b,this.registerGlobalEventDispatcher=u.registerGlobalEventDispatcher,this.G=u.G,this.c=function(){return d.ads[v]},this.lc=function(e){v=-1,d.ads=e},this.ka=function(){v++,n({type:"AdTagParsed",info:d})},this.Bb=function(){return v<d.ads.length-1}}function p(e,t){function n(){var t=e.l();g="display:block;position:absolute;overflow:hidden;text-align:center;font-family:Arial,sans,Verdana;opacity:1;",m="display:block;position:absolute;overflow:hidden;width:15px;height:15px;top:0px;left:"+t.width+"px;background:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAoAAAAKCAYAAACNMs+9AAAALUlEQVQY02P4TyRgABMEAIpCbBpQ5JAV4GWjmwR3Ey6rSVJIlNUkeYZg8BADADDRv0FliZd9AAAAAElFTkSuQmCC) 50% 50% no-repeat;"}function i(t){var n=e.l("width"),i=e.l("height");return L.width===n&&L.height===i?t:(R.log(401),t.P=parseInt(t.width,10),t.L=parseInt(t.height,10),t.ratio=t.P/t.L,L.width=n,L.height=i,"true"===t.scalable&&"true"===t.maintainAspectRatio?t.P/n>=t.L/(i/5)?(t.P=n,t.L=t.P/t.ratio):(t.L=i/5,t.P=t.L*t.ratio):"true"===t.scalable&&"false"===t.maintainAspectRatio&&(t.L=i/5,t.P=n),t.width=Math.floor(t.P),t.height=Math.floor(t.L),t)}function o(t,n){var i=e.l();t.style.width=n.width+"px",t.style.height=n.height+"px",t.style.top=i.top+(i.height-n.height)+"px",t.style.left=i.left+(i.width/2-n.width/2)+"px"}function a(){return C.createElement("div",{id:"closeButton"+Math.round(1e6*Math.random()),style:m})}function s(){v&&(w=e.h("duration"),T=e.h("currentTime"),1>=w&&(w=t.c().duration),v.update(T,w))}function l(){R.log(402),S.triggerEvent("AdClickThru",void 0)}function c(){y.style.left=parseInt(b.style.width,10)-15+"px"}function u(){if(b){var t=i(A);if(A=t,I){t=b;var n=e.l();t.style.width=n.width+"px",t.style.height=n.height+"px",t.style.top=n.top,t.style.left=n.left}else o(b,t);c()}}function d(){t.v.styles.closeButtonStyle&&C.sa(y,t.v.styles.closeButtonStyle)}function p(){setTimeout(function(){E&&E.setViewport(e.l()),v&&v.setViewport(e.l()),u()},50)}function f(){S.triggerEvent("SKIP",void 0)}var m,g,v,b,y,A,T,w,k,E,x=e.getParent(),S=new C.j.s,L={},N={},I=!1,V=new r(e.getParent());this.ca=function(){R.log(404),n(),y=a(),d(),e.a(5010,p)},this.Vb=function(){k=C.createElement("div",{id:"vpaidSlot"+Math.round(1e6*Math.random()),style:"position:absolute;width:100%;height:100%;display:none"}),(e.getParent().querySelector("video")||e.getParent()).insertAdjacentElement("afterend",k);var t=e.l();["left","top","width","height"].forEach(function(e){var n=t[e];"left"!==e&&"top"!==e||(n=0),k.style[e]=n+"px"})},this.Wb=function(){R.log(405),L={width:0,height:0},n(),e.a(5010,p)},this.Xb=function(){(v=new h(x,t)).setViewport(e.l()),v.hide(),v.a("SKIP",f)},this.Rb=function(){u()},this.Ga=function(){t.a("AdRemainingTimeChange",s)},this.nc=function(n){C.ra&&!t.v.customControls&&e.setControls(!1);var r,s=i(n.attributes),u=C.createElement("div",{id:"overlay"+Math.round(1e6*Math.random()),style:g}),p=null;if(r=e.l(),A=s,o(u,s),n.StaticResource){s=n.resourceAttributes.creativeType.toLowerCase();var h=n.attributes.apiFramework?n.attributes.apiFramework:"UNKNOWN";-1!=C.na.indexOf(s)&&"VPAID"==h.toUpperCase()?(I=!0,k=C.createElement("div",{id:"vpaidSlot"+Math.round(1e6*Math.random()),style:"width:100%;height:100%"}),u.style.top=0,u.style.left=0,u.style.width=r.width+"px",u.style.height=r.height+"px",u.style.display="none",u.appendChild(k)):(-1!=C.na.indexOf(s)?p=C.createElement("script",{src:n.StaticResource}):0<=s.search(/^image|jpeg|gif|png/i)&&(p=C.createElement("img",{src:n.StaticResource,style:"width:100%;height:100%"})),null!=p&&u.appendChild(p))}else n.IFrameResource?(r=C.createElement("div",{style:"position:absolute;width:100%;height:100%;background-color:rgba(0,0,0,0)"}),p=C.createElement("iframe",{id:"nonLinearIFrame",src:n.IFrameResource,style:"width:100%;height:100%"}),u.appendChild(r),u.appendChild(p)):n.HTMLResource&&((p=C.createElement("div",{style:"width:100%;height:100%"})).innerHTML=n.HTMLResource,u.appendChild(p));b=u,y=a(),d(),c(),b.appendChild(y),x.appendChild(b),b.firstChild.addEventListener("mousedown",l,!1),y.onmousedown=function(){R.log(403),S.triggerEvent(2020,void 0)}},this.kc=function(){C.ra&&!t.v.customControls&&e.setControls(!0);try{x.removeChild(b)}catch(e){R.log(406)}e.b(5010)},this.destroy=function(){e.b(5010),t.b("AdRemainingTimeChange"),v&&v.destroy(),k&&x.removeChild(k),E&&E.destroy(),S=null,e.mb()},this.Za=function(){return k},this.$a=function(){e.l()},this.sb=function(){b?(b.removeChild(y),b.firstChild.removeEventListener("mousedown",l,!1),b.style.display="block"):(e.mb(),k.style.display="block")},this.dc=function(t){var n=["left","top","width","height"],i=e.l();b&&(I?n.forEach(function(e){b.style[e]=i[e]+"px"}):t?(Object.getOwnPropertyNames(N).length||n.forEach(function(e){N[e]=b.style[e]}),n.forEach(function(e){b.style[e]=i[e]+"px"})):n.forEach(function(e){b.style[e]=N[e]}))},this.Da=function(){return e.getParent()},this.K=function(){return V.K()},this.Va=function(){v&&v.hide()},this.Gb=function(){v&&v.show()},this.a=S.a,this.b=S.b,this.registerGlobalEventDispatcher=S.registerGlobalEventDispatcher}function h(e,t){function n(){s.triggerEvent("SKIP")}function i(e){if(r.parent){var t=parseInt(window.getComputedStyle(r,null).getPropertyValue("height"),10),n="top"===a.skipButtonPosition?0:e.top+e.height-t,i=parseInt(window.getComputedStyle(r,null).getPropertyValue("width"),10);e="left"===o?0:e.width-i,r.style.width=i+"px",r.style.height=t+"px",r.style.top=n+"px",r.style.left=e+"px"}}var r,o,a=t.v,s=new C.j.s,l={},c=a.styles,u=!1;this.update=function(e,n){u||e>=C.fc(t.Ba().skipoffset,n)&&(this.show(),u=!0)},this.show=function(){r.style.display="block",i(l)},this.hide=function(){r.style.display="none"},this.destroy=function(){e.removeChild(r)},this.setViewport=function(e){i(l=e)},this.a=s.a,this.b=s.b,r=function(){var t=C.createElement("div",{id:"adSkipButton"+Math.round(1e6*Math.random()),style:"position:absolute;overflow:hidden;display:none;cursor:pointer;white-space: nowrap"});return t.innerHTML="&nbsp;"+a.skipButtonText+"&nbsp;",C.sa(t,c.colorScheme),C.sa(t,c.fontStyle),o=t.style.textAlign="right"===c.fontStyle.textAlign?"left":"right",t.addEventListener(C.$b?"touchstart":"mousedown",n,!1),e&&e.appendChild(t),t}()}function f(e){function t(e,t){function n(){for(var e=i.createElement(arguments[0]),t=1;t<arguments.length;t++){var n=arguments[t];if(n.split)n=i.createTextNode(n);else{if("[object Object]"===Object.prototype.toString.call(n)){Object.keys(n).forEach(function(t){return e.setAttribute(t,n[t])});continue}if("[object Array]"===Object.prototype.toString.call(n)){n.forEach(function(t){e.appendChild(t)});continue}}e.appendChild(n)}return e}var i=document.implementation.createDocument(null,"VAST",null);return i.documentElement.setAttribute("version","3.0"),e.map(function(e,r){var o=n("Ad",r<t?{sequence:r+1,fallbackOnNoAd:!0,fallbackType:"waterfall",allowMultipleAds:!1}:{},n("Wrapper",n("VASTAdTagURI",e)));i.documentElement.appendChild(o)}),i}function n(e,t){var n="";return"string"==typeof e&&(e={urls:[e]}),"string"!=typeof e.urls&&"string"!=typeof e.tag||(n=e.urls||e.tag,e.urls=[n]),e.offset=t,e}var i=!1;this.vc=function(t){if(!i){for(var n=0;n<e.fixedrolls.length;n++){var r=e.fixedrolls[n];"string"==typeof r.offset&&(r.offset=parseInt(r.offset,10)/100*t)}for(n=[],r=0;r<e.fixedrolls.length;r++){var o=e.fixedrolls[r];if(5<=o.interval)for(var a=o.offset+o.interval;a<t-5;){var s=C.clone(o);s.offset=a,n.push(s),a+=o.interval}}if(e.fixedrolls=e.fixedrolls.concat(n),t<e.minDurationForMidrolls){for(n=0;n<e.fixedrolls.length;n++)0<(r=e.fixedrolls[n]).offset&&r.offset<t&&e.fixedrolls.splice(n,1);R.log(602)}!function(t){if(e.overlay){for(var n=[],i=0;i<e.fixedrolls.length;i++){var r={urls:[e.overlay],offset:e.fixedrolls[i].offset+e.overlayDelay,limit:1,count:1,interval:-1,type:"overlay",requested:!1};r.offset<t&&n.push(r)}for(i=0;i<n.length;i++)e.fixedrolls.push(n[i]);e.fixedrolls.some(function(e){return 0==e.offset})||e.fixedrolls.push({urls:[e.overlay],offset:e.overlayDelay,limit:1,count:1,interval:-1,type:"overlay",requested:!1})}}(t),e.fixedrolls.sort(function(e,t){return e.offset>t.offset?1:e.offset<t.offset?-1:0}),i=!0}},this.aa=function(t){e:{for(var n=0;n<e.fixedrolls.length;n++){var i=e.fixedrolls[n],r=t-i.offset;if(i.offset<=t&&2>=r&&!i.requested){i.requested=!0,t=i;break e}}t=!1}return t},this.reset=function(){for(var t=0;t<e.fixedrolls.length;t++)e.fixedrolls[t].requested=!1},this.bc=function(){return!0===e.fixedrolls[e.fixedrolls.length-1].requested},this.Qb=function(t){return e.fixedrolls[e.fixedrolls.length-1].offset==t&&!1===e.fixedrolls[e.fixedrolls.length-1].requested},function(){e.fixedrolls||(e.fixedrolls=[]),e.adResponse?e.fixedrolls.push({offset:0,responseXML:e.adResponse}):e.preroll&&(e.preroll=n(e.preroll,0),e.fixedrolls.push(e.preroll)),e.midroll&&(e.midroll=n(e.midroll,"50%"),e.fixedrolls.push(e.midroll)),e.postroll&&(e.postroll=n(e.postroll,"100%"),e.fixedrolls.push(e.postroll)),e.overlay&&C.clone(e.overlay);for(var i=0;i<e.fixedrolls.length;i++){var r=e.fixedrolls[i];if("string"==typeof r||0>parseInt(r.offset,10))R.log(601,r.offset);else{"object"==typeof r.tag&&(r.urls=r.tag);var o="";if("string"!=typeof r.tag&&"string"!=typeof r.urls||(o=r.tag||r.urls,r.urls=[o]),r.count){o=r.urls[0],r.urls=[];for(var a=0;a<r.count;a++)r.urls.push(o.replace("[count]",a+1))}else r.count=1;"object"!=typeof r||"object"!=typeof r.urls||r.limit||(r.limit=r.urls.length),r.interval||(r.interval=-1),r.urls&&1<r.urls.length&&!r.responseXML&&(r.responseXML=t(r.urls,r.limit)),r.urls||(r.urls=[]),r.requested=!1,r.type="fixedroll"}}}()}function m(e,t,n,i){function r(e,n,i){e&&n&&t.onTrack&&C.D(t.onTrack)&&(t.onTrack(e,n,i||""),function(e){var t=C.isArray(e)?Number(e[0]):Number(e);e="1010 1020 1030 1040 1050 1060 1070 2030".split(" ").some(function(e){return e==t});var n=["100","101","300","303","310"].some(function(e){return e==t});return e||n}(i)&&(t.onTrack("capped",n),l.triggerEvent("AdCapped",void 0))),l.triggerEvent("onTrack",e)}function o(e,n,o){if((-1!==["impression","creativeView","start","error"].indexOf(n)||h)&&(h||(h=!0),-1!==["start"].indexOf(n)&&(m=!0),(-1===["mute","unmute"].indexOf(n)||m)&&(-1===["complete","error"].indexOf(n)||f||(f=!0),-1!==["complete","error"].indexOf(n)||!f))){var s=p.some(function(e){return e===n});s&&c[n]||("progress"!==n&&(r(n,i,o),s&&(c[n]=!!t.lb)),e&&("progress"!==n&&R.log(701,n),a.$(e,n,o)))}}var a=this,s=n&&n.c()&&0<n.c().creatives.length?n.J().trackingEvents:[],l=new C.j.s,c={},u=0,d=0,p="close closeLinear skip impression creativeView start firstQuartile midpoint thirdQuartile complete".split(" "),h=!1,f=!1,m=!1,g=0;return a.createTracker=function(e){var i,r;0!==(e.url||"").length&&(n&&C.urlEnrichment.setValueFor("timeOffset",n.totalTime-n.la),r=C.urlEnrichment.w(e.url),r=C.Z(r),(e.trackEvent&&"error"===e.trackEvent||e.trackEvent&&"adPodErrorTracker"===e.trackEvent)&&e.info&&(r=C.urlEnrichment.errorCode(r,isNaN(e.info)?e.info.errorCode:e.info)),"https:"!==window.location.protocol||"https:"===window.location.protocol&&0!==(r+"").indexOf("http://")||!t.blockInsecureURL)&&((i=new Image).onload=a.createTrackerDone.bind(e,r),i.onerror=a.createTrackerDone.bind(e,r),g++,i.src=r)},a.createTrackerDone=function(){g--},a.$=function(e,t,n){for(var i=0;i<e.length;i++)"string"==typeof e[i]&&a.createTracker({url:C.Z(e[i]),trackEvent:t,info:n})},a.Eb=function(){n&&n.c()&&n.c().errorURLTemplatesAdPod&&n.c().errorURLTemplatesAdPod.map(function(e){"preImpression"!==e.triggerOn||e.tracked||(e.tracked=!0,a.$(e.errorURLTemplates,"adPodErrorTracker",e.errorCode))})},a.Db=function(){n&&n.c()&&n.c().errorURLTemplatesAdPod&&n.c().errorURLTemplatesAdPod.map(function(e){"postComplete"!==e.triggerOn||e.tracked||(e.tracked=!0,a.$(e.errorURLTemplates,"adPodErrorTracker",e.errorCode))})},a.Tb=function(){return!!(n&&n.c()&&n.c().errorURLTemplatesAdPod)&&0<n.c().errorURLTemplatesAdPod.filter(function(e){return"postComplete"===e.triggerOn&&!e.tracked}).length},a.Sa=function(){o(s.mute,"mute")},a.callUnmuteTracker=function(){o(s.unmute,"unmute")},a.xa=function(e){var t,i,r=!1;e&&e.info&&(i=e.info.errorURLTemplates,t=e.info.errorCode,r=e.info.rc),(n&&n.c()&&n.c().errorURLTemplates||i)&&(r?a.$(i||n.c().errorURLTemplates,"error",t||e):o(i||n.c().errorURLTemplates,"error",t||e))},a.Fb=function(){o(s.skip,"skip")},a.Cb=function(){o(s.close,"close")},a.Ra=function(){o(n.J().videoClickTrackingURLTemplates,"clickTracking")},a.ya=function(){R.log(701,"Impression, CreativeView"),a.Eb(),n&&n.c()&&o(n.c().impressionURLTemplates,"impression"),o(s.creativeView,"creativeView")},a.callTracker=function(e){o(s[e],e)},a.Hc=function(e){e.split("|").forEach(function(e){o(s[e.toLowerCase()],e)})},a.callCustomTracker=function(e,n){var o=[];C.isArray(e)?o=e:o.push(e);var s=p.some(function(e){return e===n});s&&c[n]||("progress"!==n&&(r(n,i),s&&(c[n]=!!t.lb)),o&&("progress"!==n&&R.log(701,n),a.$(o,n,void 0)))},a.Ta=function(){return 0>=g&&!a.Tb()},a.Ha=function(e){i="fixedroll",s=(n=e)&&e.c()&&0<n.c().creatives.length?e.J().trackingEvents:[],f=!1},a.handleTracking=function(n){var r;n="fixedroll"===i?e.h("currentTime"):n;var l="fixedroll"===i?e.h("duration"):parseInt(t.overlayDuration,10);if(n=+(Math.round(n+"e+1")+"e-1"),l=+(Math.round(l+"e+1")+"e-1"),d=n,"fixedroll"===i&&(u+.3<d&&(u=d,o(s.timeupdate,"timeupdate")),function(e,t,n){if(e&&!isNaN(t)&&!isNaN(n)&&h)for(var i in e){var r=0===i.indexOf("progress-"),a=e[i].uc,s=r?parseFloat(i.split("progress-")[1]):NaN;r&&-1<i.indexOf("%")&&(s*=n/100),r&&!a&&s<=t&&(o(e[i],i,{}),e[i].uc=!0)}}(s,n,l)),!(isNaN(l)||!isNaN(l)&&0>=l)){if(n>=l)r="complete";else if(n>=l/(4/3))r="thirdQuartile";else if(n>=l/2)r="midpoint";else if(n>=l/4)r="firstQuartile";else{if(!n)return;a.ya(),o(s.start,"start")}p.some(function(e){return e===r})&&c[r]||!r||(o(s[r],r),"complete"===r&&a.Db())}},a.a=l.a,a.b=l.b,a.registerGlobalEventDispatcher=l.registerGlobalEventDispatcher,a}function g(e){function t(e){i.triggerEvent("VAST-error",e)}function n(e){switch(a=r.c(),e.type){case"AdTagParsed":(a=r.c())&&a.bb&&a.bb.length&&(R.log(5050),i.triggerEvent(4300,a.bb)),i.triggerEvent("AdTagParsed",a);break;case 4030:i.triggerEvent(4030);break;case"VAST-error":1020===e.info&&i.triggerEvent(7e3),i.triggerEvent("VAST-error",e.info);break;case 4040:i.triggerEvent(4040);break;case 4100:i.triggerEvent(4100);break;case 4200:R.log(5052),i.triggerEvent(4200,e.info);break;case"AdTagSkipDetected":i.triggerEvent("AdTagSkipDetected",e.info)}}var i=new C.j.s,r=new window.VASTParser,o=null,a=null,s=null,l=null;r.addURLTemplateFilter(C.urlEnrichment.w),this.a=i.a,this.b=i.b,this.registerGlobalEventDispatcher=i.registerGlobalEventDispatcher,this.G=i.G,this.ka=function(){},this.c=function(){return l},this.gc=function(n,o){var a={withCredentials:!0};a.blockInsecureURL=e.blockInsecureURL,a.maxWrapperDepth=e.maxWrapperDepth,a.prefetchBuffets=e.prefetchBuffets,e.urlhandler&&(a.urlhandler=window[e.urlhandler]),!n&&o&&(a.response=o),r.addEventListener("VAST-error",t),r.parse(n,a,function(e,n){if(e)i.triggerEvent("VAST-error"),r.removeEventListener("VAST-error",t);else if(!e&&n){var o=(l=n).ads.filter(function(e){return!1===e.fetched});!function(e){var t=o.length,n=0;if(0===t)return e();for(var i=0;i<o.length;i++){var r=o[i],a=l.ads.indexOf(r);r.fetch(function(i){0<i.ads.length&&(l.ads[a]=i.ads[0]),++n>=t&&e()})}}(function(){!function(e){var t=["flv","flash"],n=["rtmp"];e&&e.ads&&e.ads.map(function(e){e.creatives.map(function(e){e.mediaFiles&&(e.mediaFiles=e.mediaFiles.filter(function(e){var i=0===t.filter(function(t){return-1<(e.mimeType||"").toLowerCase().indexOf(t)}).length,r=0===n.filter(function(t){return-1<(e.fileURL||"").toLowerCase().indexOf(t)}).length;return i&&r}))})})}(l),i.triggerEvent("AdTagParsed",l)})}},[])},this.kb=function(e){var t;e:{t=e;try{if(window.DOMParser)s=(new DOMParser).parseFromString(t,"application/xml");else{var a=new ActiveXObject("Microsoft.XMLDOM");a.async=!1,a.loadXML(t),s=a}}catch(e){t=!1;break e}t=!0}if(t?o=null!==(o=s.getElementsByTagName("VAST")[0].getAttribute("version"))&&""!==o&&o.length?o.charAt(0):"":i.triggerEvent("VAST-error"),!r){switch(t=null,o){case"2":t=w.Ac;break;case"3":t=w.Bc;break;default:i.triggerEvent("VAST-error",102)}t&&(r=null,(r=new t).a("AdTagParsed",n),r.a("VAST-error",n),r.a(4030,n),r.a(4040,n),r.a(4050,n),r.a(4100,n),r.a(4200,n),r.a("AdTagSkipDetected",n))}r.kb(e)}}function v(){function e(){(B=C.createElement("iframe",{style:"width:0;height:0;top:0;left:0;position:absolute;overflow:hidden;border:none; visibility:hidden;"})).onload=t,H.insertBefore(B,H.firstChild)}function t(){B.ua=(B.contentDocument||B.contentWindow.document).getElementsByTagName("body")[0],B.Ic=B.ua.parentNode.parentNode;var e=C.createElement("script",{type:"text/javascript"});e.innerHTML="var inDapIF = true;",B.ua.appendChild(e),z=C.createElement("div",{id:ie,style:"position:absolute;width:100%;height:100%;top:0;left:0; background:rgba(0,0,0,1); display:none;"}),H.appendChild(z),z=document.getElementById(ie)||H.ownerDocument.getElementById(ie),Z=C.createElement("video",{id:oe,style:"position:absolute;width:100%;height:100%;top:0;left:0;display:none;"}),H.appendChild(Z),Z=document.getElementById(oe)||H.ownerDocument.getElementById(oe),G=C.createElement("div",{id:re,style:"position:absolute;width:100%;height:100%;top:0;left:0;overflow:hidden;"}),H.appendChild(G),G=document.getElementById(re)||H.ownerDocument.getElementById(re),Y=new y(Z,J,z,Q,K.v.vpaidSingleVideoSlotMode),-1<j.indexOf(".swf")||((e=C.createElement("script",{src:C.urlEnrichment.w(j)})).onload=function(){n()},e.onerror=function(){D(6010)},B.ua.appendChild(e))}function n(){if(!te){var e=B.contentWindow.getVPAIDAd;if(!C.D(e))return;te=e()}if(function(e){for(var t="handshakeVersion initAd startAd stopAd skipAd resizeAd pauseAd resumeAd expandAd collapseAd subscribe unsubscribe getAdLinear".split(" "),n=0;n<t.length;n++)if(!C.D(e[t[n]]))return!1;return!0}(te)){R.log(961,te.handshakeVersion("2.0")),-1==="1.1,2.0".indexOf(te.handshakeVersion("2.0"))&&D(6010);e={AdParameters:X};var t={slot:G,videoSlot:Y.Ya(),videoSlotCanAutoPlay:!0,source:j};i(),(W=new b).pc(function(){R.log(1e3),D(6010)});var n,r,o=function(e){if(!e)return!1;var t=e.style.width;return e=/scale|transform/gi.test(e.style.cssText),!!parseInt(t,10)&&-1===t.indexOf("%")&&!e};o(G)?(n=parseInt(G.style.width,10),r=parseInt(G.style.height,10)):o(H)?(n=parseInt(H.style.width,10),r=parseInt(H.style.height,10)):o(H.parentNode)&&(n=parseInt(H.parentNode.style.width,10),r=parseInt(H.parentNode.style.height,10));var a=Q.getVideoSlot();o(a)?(n=parseInt(a.style.width,10),r=parseInt(a.style.height,10)):o(a.parentNode)&&(n=parseInt(a.parentNode.style.width,10),r=parseInt(a.parentNode.style.height,10)),se=function(){var e="normal",t=JSON.stringify(K.U());return-1<j.indexOf("cdn.spotxcdn.com")&&(-1<t.indexOf(S.MediaFileFormat.VERTICAL)||-1<t.indexOf(S.MediaFileFormat.SQUARE))&&(e="dynamic"),e}();var s=null,l=(s=document.getElementById(VideoManager.ava.activeContainer.id+"-frame")?document.getElementById(VideoManager.ava.activeContainer.id+"-frame"):top.document.getElementById(VideoManager.ava.activeContainer.id+"-frame")).contentDocument||s.contentWindow.document;t.videoSlot=l.getElementById("video-slot"),ae.initAd(n,r,se,300,e,t)}else R.log(962)}function i(){var e,t={AdStarted:r,AdStopped:o,AdSkipped:a,AdLoaded:s,AdLinearChange:l,AdSizeChange:c,AdExpandedChange:u,AdSkippableStateChange:d,AdDurationChange:p,AdRemainingTimeChange:h,AdVolumeChange:f,AdImpression:m,AdClickThru:g,AdInteraction:v,AdVideoStart:A,AdVideoFirstQuartile:T,AdVideoMidpoint:w,AdVideoThirdQuartile:k,AdVideoComplete:E,AdUserAcceptInvitation:x,AdUserMinimize:L,AdUserClose:N,AdPaused:I,AdPlaying:V,AdError:U,AdLog:O};for(e in t)te.subscribe(t[e],e,ae)}function r(){R.log(967),_.callTracker("creativeView"),te.getAdLinear()&&(Y.show(),Z.volume=Q.h("volume"),M=Z.volume),D("AdStarted")}function o(){if(clearTimeout(le),te){var e,t={AdStarted:r,AdStopped:o,AdSkipped:a,AdLoaded:s,AdLinearChange:l,AdSizeChange:c,AdExpandedChange:u,AdSkippableStateChange:d,AdDurationChange:p,AdRemainingTimeChange:h,AdVolumeChange:f,AdImpression:m,AdClickThru:g,AdInteraction:v,AdVideoStart:A,AdVideoFirstQuartile:T,AdVideoMidpoint:w,AdVideoThirdQuartile:k,AdVideoComplete:E,AdUserAcceptInvitation:x,AdUserMinimize:L,AdUserClose:N,AdPaused:I,AdPlaying:V,AdError:U,AdLog:O};for(e in t)te.unsubscribe(t[e],e)}R.log(966),Y.hide(),"nonLinear"===$&&Q.h("paused")&&Q.O(),D(6050)}function a(){R.log(965),_.callTracker("skip"),ae.stopAd()}function s(){q&&q.sb(),R.log(964),W.log("onadloaded"),D("AdLoaded",K.c())}function l(){R.log(951,te.getAdLinear()),te.getAdLinear()?(Q.M(),Y.show()):(Y.hide(),Q.O())}function c(){R.log(952,te.getAdWidth(),te.getAdHeight())}function u(){R.log(953,te.getAdExpanded()),q.dc(te.getAdExpanded()),te.getAdExpanded()?(Q.M(),_.callTracker("expand")):(Q.O(),_.callTracker("collapse"))}function d(){R.log(954,te.getAdSkippableState()),D("AdSkippableStateChange",te.getAdSkippableState())}function p(){R.log(955,te.getAdDuration())}function h(){R.log(956,te.getAdRemainingTime())}function f(){R.log(957,te.getAdVolume()),0<te.getAdVolume()&&0===M?(_.callUnmuteTracker(),M=te.getAdVolume()):0===te.getAdVolume()&&0<M&&(M=0,_.Sa())}function m(){R.log(963),_.ya()}function g(e,t,n){R.log(968,e,t,n),n||!n&&!e?(ee=C.Zb(e)?e:void 0,G.addEventListener("mousedown",F,!1),Y.m("play",F),Y.pause(),R.log(402),Y&&Y.setControls(!0),D(6060,ee)):_.Ra()}function v(e){R.log(972,e),_.callTracker("interaction")}function A(){R.log(973),_.callTracker("start")}function T(){R.log(974),_.callTracker("firstQuartile")}function w(){R.log(975),_.callTracker("midpoint")}function k(){R.log(976),_.callTracker("thirdQuartile")}function E(){R.log(977),_.callTracker("complete"),clearTimeout(le),le=setTimeout(function(){O("Force stop after video completion."),ae.stopAd()},2e3)}function x(){R.log(978),_.callTracker("acceptInvitation")}function L(){R.log(979),_.callTracker("collapse")}function N(){R.log(981),_.callTracker("close"),D(6040)}function I(){R.log(980),W.log("onadpaused"),ne||_.callTracker("pause"),D("AdPaused"),ne=!0}function V(){R.log(982),W.log("onadplaying"),ne&&_.callTracker("resume"),D("AdPlaying"),ne=!1}function U(e){R.log(958,e),D(6010,e)}function O(e){R.log(959,e)}function F(){if(Y){Y.g("play",F);var e=Y.play();void 0!==e&&e.then(function(){},function(){})}G.removeEventListener("mousedown",F,!1)}function D(e,t){P.triggerEvent(e,t)}var M,W,P=new C.j.s;M=void 0;var B,j,X,G,H,Z,Y,z,J,q,Q,_,$,K,ee,te,ne=!1,ie="videoSlotBackground"+Math.round(1e6*Math.random()),re="vpaidSlot"+Math.round(1e6*Math.random()),oe="videoSlot"+Math.round(1e6*Math.random()),ae=this,se="normal",le=null;this.ca=function(t,n,i,r,o){j=t.StaticResource,X=t.adParameters,q=n,Q=i,_=r,H=n.Za(),J=Q.getVideoSlot(),K=o,ne=!1,n.Da(),e(),$="nonLinear"},this.Ub=function(t,n,i,r,o){R.log(1001,o.v.vpaidSingleVideoSlotMode),j=t.fileURL,X=t.adParameters,q=n,Q=i,_=r,H=n.Za(),J=Q.getVideoSlot(),K=o,ne=!1,n.Da(),e(),$="linear"},this.initAd=function(e,t,n,i,r,o){ne=!1,R.log(1002,e,t,n,i,r,o),te.initAd(e,t,n,i,r,o)},this.startAd=function(){R.log(1003),te&&(q.sb(),te.startAd())},this.pauseAd=function(){R.log(1004),te&&te.pauseAd&&te.pauseAd()},this.resumeAd=function(){R.log(1006),te&&te.resumeAd&&te.resumeAd()},this.stopAd=function(){R.log(1008),clearTimeout(le),te&&te.stopAd()},this.setAdVolume=function(e){R.log(1009,e),te&&te.setAdVolume&&te.setAdVolume(e)},this.getAdVolume=function(){return te&&te.setAdVolume?te.getAdVolume():-1},this.resizeAd=function(e,t,n){R.log(1010,e,t,n),te&&(Y&&"linear"===$?(te.resizeAd(e,t,n),H.style.cssText+="width:"+parseInt(e,10)+"px;height:"+parseInt(t,10)+"px;"):te.resizeAd(e,t,n))},this.expandAd=function(){R.log(1011),te.expandAd()},this.collapseAd=function(){R.log(1012),te.collapseAd()},this.skipAd=function(){R.log(1013),te.getAdSkippableState()&&te.skipAd()},this.Ga=function(){R.log("Called dead code updateCountdown() in VPAIDBridge#639")},this.nb=function(e){e&&(R.log(1015),te=e,Y?n():setTimeout(this.nb.bind(this,e),50))},this.getSlot=function(){return G},this.getVideoSlot=function(){return Y.Ya()},this.a=P.a,this.b=P.b,this.registerGlobalEventDispatcher=P.registerGlobalEventDispatcher}function b(){function e(e,i){t.forEach(function(r){"INITAD"===r.event&&(r.active=!0,r.W=i,r.Y=e,r.o=window.setTimeout(function(){t.forEach(function(e){"INITAD"===e.event&&e.active&&(e.active=!1,window.clearTimeout(e.o),n.map(function(t){if(t.time>=e.W&&t.time<=e.W+e.timeout)return t}).some(function(t){return t.event===e.ha})||e.Y())})},r.timeout))})}var t=[{active:!1,event:"INITAD",ha:"ONADLOADED",timeout:4e3,o:null,W:null,Y:null},{active:!1,event:"RESIZEAD",ha:"ONADSIZECHANGED",timeout:1e3,o:null,W:null,Y:null},{active:!1,event:"PAUSEAD",ha:"ONADPAUSED",timeout:100,o:null,W:null,Y:null},{active:!1,event:"RESUMEAD",ha:"ONADPLAYING",timeout:100,o:null,W:null,Y:null}],n=[];this.log=function(e){n.push({time:(new Date).getTime(),event:e.toUpperCase()})},this.pc=function(t){var i=(new Date).getTime();e(t,i),n.push({time:i,event:"INITAD"})}}function y(e,t,n,i,r){var o,a,s,l=new C.j.s;this.l=function(e){if(r)return i.l(e);if(e)switch(e){case"width":return C.getWidth(s);case"height":return C.getHeight(s);case"top":return s.offsetTop;case"left":return s.offsetLeft;default:return null}return{width:C.getWidth(s),height:C.getHeight(s),top:s.offsetTop,left:s.offsetLeft}},this.show=function(){r||(s.style.display="block",n.style.display="block",t.style.visibility="hidden")},this.hide=function(){r||(t.style.visibility="visible",s.style.display="none",n.style.display="none")},this.Ga=function(){},this.pause=function(){s.pause()},this.play=function(){var e=s.play();void 0!==e&&e.then(function(){},function(){})},this.setControls=function(e){r?i.setControls(e):s.controls=e},this.m=function(e,t){a.m(s,e,t)},this.g=function(e,t){a.g(s,e,t)},this.a=l.a,this.b=l.b,this.Ya=function(){return o},this.getSlot=function(){return s},a=new C.j.Event,r?(s=t,n.parentNode.removeChild(n),e.parentNode.removeChild(e),o=new A(s),o=C.extend(o,{rb:function(e){i.ja({url:e})},setControls:function(e){i.setControls(e)},pb:function(e){i.ja({url:i.h.currentSrc},e)},load:function(){},play:function(){i.O()},pause:function(){i.M()}})):o=new A(s=e)}function A(e){function t(e,t,n,i){var r=Object.getOwnPropertyDescriptor(e,t);if(r&&r.configurable){var o;if(r.get||r.set)o=r;else{var a=r.value;o={get:function(){return a},set:function(e){a=e}}}var s=n?function(){return n.call(this,t,o)}:o.get,l=i?function(e){i.call(this,t,e,o)}:o.set;Object.defineProperty(e,t,{get:o.get?s:void 0,set:o.set?l:void 0,enumerable:r.enumerable,configurable:!0})}}function n(e){return"ownerDocument"==e?document.createElement("iframe").ownerDocument:(d[e]=l[e],d[e])}function i(e,t){for(var n=p,i=n.length,r=!1;0<=--i;)if(n[i]===e){r=!0;break}if(!r&&"style"!==e){switch(d[e]=t,e){case"src":return void h.rb(t);case"controls":return void h.setControls(t);case"currentTime":return void h.pb(t)}l[e]=d[e]}}function r(){for(var e=u,t=e.length;0<=--t;)d[e[t]]=l[e[t]]}function o(e){s.ic(e.type,e),r()}var a,s,l,c="loadstart emptied canplaythrough ended ratechange progress stalled playing durationchange volumechange suspend loadedmetadata waiting timeupdate abort loadeddata seeking play error canplay seeked pause".split(" "),u="type ownerDocument nodeType tagName error crossOrigin buffered currentTime paused played autoplay controller muted videoTracks height poster src networkState readyState duration defaultPlaybackrate seekable loop controls defaultMuted textTracks videoWidth currentSrc preload seeking startDate playbackRate ended mediaGroup volume audioTracks width videoHeight".split(" "),d={},p="error crossOrigin buffered paused played autoplay controller videoTracks height networkState readyState duration defaultPlaybackrate seekable loop defaultMuted textTracks videoWidth currentSrc preload seeking startDate playbackRate ended mediaGroup audioTracks width videoHeight".split(" "),h=this;this.setAttribute=function(e,t){"type"!==e&&"src"!==e&&-1===e.indexOf("data-")||l.setAttribute(e,t)},this.getElementsByTagName=function(e){return l.getElementsByTagName(e)},this.getAttribute=function(e){return l.getAttribute(e)},this.removeAttribute=function(e){return l.removeAttribute(e)},this.rb=function(e){l.src=e},this.setControls=function(e){l.controls=!!e},this.pb=function(e){l.currentTime=e},this.play=function(){var e=l.play();void 0!==e&&e.then(function(){},function(){})},this.pause=function(){l.pause()},this.load=function(){l.load()},this.canPlayType=function(e){return l.canPlayType(e)},this.tagName=e.tagName,this.getBoundingClientRect=function(){return e.getBoundingClientRect()},this.destroy=function(){a.g(l,c.join(","),o)},this.addEventListener=function(e,t){l.parentNode.querySelector('[id^="vpaidSlot"] > [id^="vpaidSlot"] > ias-ad')&&["touchstart","touchstart","click"].indexOf(-1<(e+"").toLowerCase())&&l.parentNode.querySelector('[id^="vpaidSlot"] > [id^="vpaidSlot"] > iframe').contentWindow.document.body.addEventListener(e,t),s.a(e,t)},this.removeEventListener=function(e,t){s.jc(e,t)},this.dispatchEvent=function(e){l.dispatchEvent(e)},this.getComputedStyle=function(e){return window.getComputedStyle(l,e||null)},this.appendChild=function(){},this.removeChild=function(){},this.Yb="goog_596272282",function(){l=e,s=new C.j.s,(a=new C.j.Event).m(l,c.join(","),o),r();for(var p=u,f=p.length;0<=--f;)h[p[f]]=d[p[f]];for(h.style={},f=(p=u).length;0<=--f;)t(h,p[f],n,i);t(h,"style",n,i),l.setAttribute("data-proxyTag",this.Yb)}()}e.prototype.debug=!1,e.prototype.log=function(){return null},window.InstreamapiDebug=e;var T={level:0,method:"AdControl",Pc:"NonLinear VPAID detected."},w={extensions:{},view:{}};t.prototype={constructor:t,apply:function(e){e.addEventListener=t.prototype.addEventListener,e.ab=t.prototype.ab,e.removeEventListener=t.prototype.removeEventListener,e.dispatchEvent=t.prototype.dispatchEvent},addEventListener:function(e,t){this.F||(this.F={});var n=this.F;n[e]||(n[e]=[]),-1===n[e].indexOf(t)&&n[e].push(t)},ab:function(e,t){if(!this.F)return!1;var n=this.F;return!n[e]&&-1!==n[e].indexOf(t)},removeEventListener:function(e,t){if(this.F){var n=this.F[e];if(n){var i=n.indexOf(t);-1!==i&&n.splice(i,1)}}},dispatchEvent:function(e){if(this.F){var t=this.F[e];if(t){var n=t.length,i=[],r=0;for(r=0;r<n;r++)i[r]=t[r];for(t=0;t<n;t++)(i[t]||function(){}).apply(this,[].slice.call(arguments))}}}};var k,C=((k=C||{}).tb={mp4:{typeExtension:"mp4",typeString:"video/mp4",Fa:"video/mp4|video/x-mp4"},ogv:{typeExtension:"ogv",typeString:"video/ogg",Fa:"video/ogg"},webm:{typeExtension:"webm",typeString:"video/webm",Fa:"video/webm"}},k.na="application/javascript|application/x-javascript|text/javascript",k.Jc="application/x-shockwave-flash",k.urlEnrichment=new n,k.Lc=function(){return[w.IDENTIFIER,w.API_VERSION,w.API_BUILD].join("|")},k.gb=function(e){return"[object Object]"===Object.prototype.toString.call(e)},k.isArray=function(e){return"[object Array]"===Object.prototype.toString.call(e)},k.Zb=function(e){return"[object String]"===Object.prototype.toString.call(e)},k.D=function(e){return"[object Function]"===Object.prototype.toString.call(e)},k.B=function(e){return""!=e&&null!=e&&null!=e},k.Nc=function(e){return!("string"!=typeof e||!e.length)&&Number(e)},k.Oc=function(e){return e&&e.trim&&(e=e.trim()),!!e&&-1===["http://","https://"].indexOf(e)},k.Sc=function(e){var t={};return e.split("?")[1].split("&").forEach(function(e){e=e.split("="),t[decodeURIComponent(e[0])]=decodeURIComponent(e[1])||null}),t},k.za=function(){var e,t=document.createElement("video"),n=[],i=C.tb,r={};for(e in i)i.hasOwnProperty(e)&&(i[e].result=t.canPlayType(i[e].typeString),n.push(i[e].typeExtension+":"+i[e].result),""!==i[e].result&&(r[e]=i[e]));return R.log(901,n.join(", ")),r},k.tc=function(e){var t="";/\?/.test(e)&&(e=(e=e.split("?"))[0]);var n=(n=e.split("."))[n.length-1];return["mp4","ogv","webm"].forEach(function(e){n===e&&(t=e)}),t},k.ba=function(){return k.La?500:k.Ab?1e3:k.zb?1700:0},k.unique=function(e){return e.reduce(function(e,t){return 0>e.indexOf(t)&&e.push(t),e},[])},k.clone=function(e){if(!e||"object"!=typeof e)return e;var t,n=new e.constructor;for(t in e)e.hasOwnProperty(t)&&(n[t]=k.clone(e[t]));return n},k.extend=function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n]);return e},k.$b="ontouchstart"in window||"ontouchstart"in document.documentElement,k.Ma=!1,k.u=navigator.userAgent,k.wb=/MSIE/.test(k.u),k.Ec=/Opera/.test(k.u),k.xb=/mobile/i.test(k.u),k.Ka=/android/i.test(k.u),k.Uc=void["HTC Sensation","HTC Sense"].forEach(function(e){new RegExp(e,"i").test(k.u)&&(k.Ma=!0)}),k.I=k.Ka&&/mobile/i.test(k.u)&&!(/chrome/i.test(k.u)&&/Mobile Safari/.test(k.u))&&!k.Ma,k.Ab=k.I||/iPad/i.test(k.u),k.zb=/TV/.test(k.u),k.ra=/iP(hone|ad|od)/i.test(k.u),k.La=k.I||/iP(hone|od)/i.test(k.u),k.Cc=k.Ka&&/chrome/i.test(k.u),k.yb=/Mobile Safari/.test(k.u),k.Dc=!/chrome/i.test(k.u)&&/android/i.test(k.u)&&/safari/i.test(k.u)&&(!k.xb||k.yb),k.cb=function(e){return!!e.externalConfigXml},k.j=function(){},k.j.s=function(){var e=[],t=null;this.C=function(e,n){if(null!==t)for(var i=0;i<t.length;i++)t[i](e,n)},this.registerGlobalEventDispatcher=function(e){null===t&&(t=[]),t.push(e)},this.G=function(){t=null},this.a=function(t,n){e.push({event:t,listener:n})},this.b=function(t){for(var n=0;n<e.length;n++)e[n].event===t&&e.splice(n,1)},this.jc=function(t,n){for(var i=0;i<e.length;i++){var r=!n||e[i].listener===n;e[i].event===t&&r&&e.splice(i,1)}},this.triggerEvent=function(t,n){this.C(t,n);for(var i=0;i<e.length;i++){var r=e[i];r.event===t&&"function"==typeof r.listener&&r.listener({type:t,info:n})}},this.ic=function(t,n){for(var i=0;i<e.length;i++){var r=e[i];r.event===t&&"function"==typeof r.listener&&r.listener(n)}}},k.j.Event=function(){var e=[];this.m=function(t,n,i){if(t){n=n.split(",");for(var r=0;r<n.length;r++)"function"==typeof t.addEventListener?t.addEventListener(n[r],i,!1):"function"==typeof t.attachEvent&&t.attachEvent("on"+n[r],i),e.push({target:t,Wa:n[r],Sb:i})}},this.g=function(t,n,i){if(i)if("all"===(n=n.split(","))[0])for(n=0;n<e.length;n++)e[n].target===t&&e[n].Sb===i&&("function"==typeof t.removeEventListener?t.removeEventListener(e[n].Wa,i):"function"==typeof t.detachEvent&&t.detachEvent("on"+e[n].Wa,i),e.splice(n,1));else{for(var r=0;r<n.length;r++)"function"==typeof t.removeEventListener?t.removeEventListener(n[r],i):"function"==typeof t.detachEvent&&t.detachEvent("on"+n[r],i);e=[]}}},k.qa=function(e){function t(){o.triggerEvent("timeupdate",{id:n,data:r})}var n,i,r=null,o=new k.j.s;this.start=function(){n=setInterval(t,i)},this.stop=function(){clearInterval(n)},this.__defineSetter__("data",function(e){r=e}),this.a=o.a,this.b=o.b,i=e},k.createElement=function(e,t){var n;try{n=document.createElement(e)}catch(t){n=document.createElement("<"+e+">")}if(t)for(var i in"id"in t||n.setAttribute("id",k.Ua()),t)t.hasOwnProperty(i)&&n.setAttribute(i,t[i]);return n},k.sa=function(e,t){if(e)for(var n in t)e.style[n]=t[n]},k.wa=function(e,t){return k.B(e)?e.getElementsByTagName(t):[]},k.S=function(e,t){if(k.B(e))return e.getElementsByTagName(t)[0]},k.T=function(e){if(!e||!e.childNodes[0])return!1;for(var t=e.childNodes.length,n="",i="",r=!1;t--;){if(4===e.childNodes[t].nodeType){i=k.trim(e.childNodes[t].nodeValue);break}3===e.childNodes[t].nodeType&&(n=k.trim(e.childNodes[t].nodeValue))}return 1<e.childNodes.length&&(i=e.textContent),""!==i?r=i:""!==n&&(r=n),r},k.Kb=function(e){if(!e)return!1;for(var t={},n=0;n<e.attributes.length;n++)t[e.attributes[n].name]=e.attributes[n].value;return t},k.trim=function(e){return e.replace(/^\s+|\s+$/g,"")},k.ma=function(e,t){var n,i=e;for(n in t)t.hasOwnProperty(n)&&k.B(t[n])&&(i=i.replace(String(n),String(t[n])));return i},k.Ua=function(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(e){var t=16*Math.random()|0;return("x"==e?t:3&t|8).toString(16)}).toUpperCase()},k.V=function(e){var t=0,n=e.split(".")[0];for(n=e.split(":").reverse(),e=0;e<n.length;e++)t+=parseInt(n[e]*Math.pow(60,e),10);return t},k.fc=function(e,t){if(!e)return e;var n,i=!(!e||-1===e.indexOf("%")),r=parseInt(e,10);return t&&i?("string"==typeof t?n=k.V(t.split(".")[0]):isNaN(t)||(n=parseInt(t,10)),n&&!isNaN(r)?r/100*n:"IGNORE"):isNaN(e)?k.V(e.split(".")[0]):e},k.qc=function(e){return!!k.B(e)&&0<["doubleclick","smartclip.net","adtech","userreport.com"].filter(function(t){return-1<e.indexOf(t)}).length},k.Ob=function(){var e,t=window,n=document;for(e in t={innerWidth:[t.innerWidth,n.body.clientWidth,n.documentElement.clientWidth],innerHeight:[t.innerHeight,n.body.clientHeight,n.documentElement.clientHeight],scrollX:[t.scrollX,n.documentElement.scrollLeft,n.body.scrollLeft],scrollY:[t.scrollY,n.documentElement.scrollTop,n.body.scrollTop]})if(t.hasOwnProperty(e)){for(n=0;n<t[e].length;n++)"number"!=typeof t[e][n]&&(t[e].splice(n,1),n--);t[e]=t[e][0]}},k.getWidth=function(e){return!e||e&&!e.getBoundingClientRect?-1:e.getBoundingClientRect().width},k.getHeight=function(e){return!e||e&&!e.getBoundingClientRect?-1:e.getBoundingClientRect().height},k.isDocumentInFullScreenMode=function(){return document.Ib&&null!==document.Ib||document.mozFullScreen||document.webkitIsFullScreen},k.Wc=function(e){for(var t=window.frameElement,n=window;t;)(e||function(){})(t),t=(n=t.ownerDocument.defaultView).frameElement;return n},k.fb=function(){return window!==top},k.eb=function(){return!k.fb()||k.fb()&&null!==window.frameElement},k.Z=function(e){if(0===e.indexOf("//")){var t=location.protocol;"file:"===t&&(t="https:"),e=t+e}return e},k),R=new e,E=[],x=[];C.find=function(e,t){return Array.prototype.map.call((t||document).querySelectorAll(e),function(e){return e})},C.D=function(e){var t=Object.prototype.toString.call(e);return"[object Function]"===t||"function"==typeof e&&"[object RegExp]"!==t||"undefined"!=typeof window&&(e===window.setTimeout||e===window.alert||e===window.confirm||e===window.prompt)},C.ac=function(e){return C.D(e.canPlayType)&&C.D(e.play)};var S=window.ois=function e(t,n,r){if(C.D(t))return E.forEach(function(e){t(e.fa,e.element,e.ec,{adManager:e.adManager,config:e.Qc})}),x.push(t);if("number"==typeof t||void 0===t)return E[t||0].fa;if(t.nodeType)return null!==t.getAttribute("data-ois-instance-id")?(r=E[t.getAttribute("data-ois-instance-id")],n&&r.v.oa(n),r.fa):n?i(t,n,r):null;if(C.ac(t))return t.nodeType="ois",e(t,n,r);if("string"==typeof t){var o=C.find(t)[0];return o&&e(o,n,r)}return null};S(function(e,t,n,i){var r=i.adManager,o=i.v;return e.load=function(){},e.shutdown=function(){r.destroy(),delete E[t.getAttribute("data-ois-instance-id")],t.removeAttribute("data-ois-instance-id")},e.registerVASTExtension=function(e,t){window[e]=t;var n=o.Lb();n.vastExtensions[e]=!0,o.oa(n)},e.utils=C,e}),S(function(e){function t(n,i){if(e.unsubscribe(t,"AdTagParsed"),(!i||0!==i.ads.length)&&i){for(var r=a=0;r<i.ads.length;r++){var o=i.ads[r].creatives.filter(function(e){return"linear"===e.type}).shift();o&&!o.errorCode&&(a+=o.duration?o.duration:20)}0===a&&(a=-1)}}function n(){"commercial"===e.getVariant()&&o!==this.duration&&0<a&&(a=a-o+this.duration)}var i=null,r=-1,o=-1,a=-1,s=-1,l=null;e.subscribe(function(){(l=e.getVideoSlot()).addEventListener("loadedmetadata",n)},"AdSlotStart"),e.subscribe(function(){e.subscribe(t,"AdTagParsed"),l&&l.removeEventListener("loadedmetadata",n)},"AdSlotComplete"),e.subscribe(function(e,t){i=new Date,o=t.creatives.filter(function(e){return"linear"===e.type}).shift().duration,this.dispatchEvent("AdDurationChange")},"AdLoaded"),e.subscribe(function(){var t=(new Date-i)/1e3;r=o-t;var n=e.Pb();-1<n&&(s=n-t),this.dispatchEvent("AdRemainingTimeChange")},"AdVideoTimeupdate"),e.subscribe(t,"AdTagParsed"),e.getAdRemainingTime=function(){return r},e.getAdDuration=function(){return o},e.Kc=function(){return s},e.Pb=function(){return a}}),S(function(e,t,n,i){function r(t){var n={};if((t=t.getElementsByTagName("OIS"))&&t[0]){for(var i=t[0].children.length-1;0<=i;i--){var r=t[0].children[i];n[r.tagName]=r.textContent}a.oa(n),s=!0,l&&e.startAd()}}function o(){s=!0,l&&e.startAd()}var a=i.v,s=!1,l=!1,c=e.startAd;return e.startAd=function(){l=!0,s&&c.apply(e,[].slice.call(arguments))},function(){var e=n.configXML;e?function(e,t,n){var i="undefined"!=typeof XMLHttpRequest?new XMLHttpRequest:new ActiveXObject("Microsoft.XMLHTTP");i.open("GET",e,!0),i.onreadystatechange=function(){4===i.readyState&&(200===i.status?(t||Function)(i.responseXML):(n||Function)(i.status))},i.send(null)}(e,r,o):s=!0}(),e}),w.API_VERSION="3.0.1",w.API_BUILD="004663",w.IDENTIFIER="OISHTML5VE",w.MediaSelector=function(e,t){function n(e){return"boolean"==typeof e?e:"string"==typeof e&&"true"===e}function i(e){return"string"==typeof e?e.toLowerCase():e}function r(){s&&(l=s.filter(function(e){return function(e){var t=!0;return a.forEach(function(r){var o;e:{for(o in r)break e;o=void 0}if(o=i(o),r=i(r[o]),C.B(o)&&C.B(r))switch(o){case"delivery":case"type":case"format":case"mimeType":case"apiframework":"type"===o&&(o="mimeType"),"mimeType"===o&&(r=r.split("|")),e.hasOwnProperty(o)&&-1===r.indexOf(e[o].toLowerCase())&&(t=!1);break;case"bitrate":case"width":e.hasOwnProperty(o)&&parseInt(e[o],10)>parseInt(r,10)&&(t=!1);break;case"scalable":case"maintainaspectratio":e.hasOwnProperty(o)&&n(e[o])!==n(r)&&(t=!1)}}),t}(e)}))}var o=new C.j.s,a=t.U(),s=e.c()&&0<e.c().creatives.length&&e.J().mediaFiles,l=[];this.a=o.a,this.b=o.b,this.registerGlobalEventDispatcher=o.registerGlobalEventDispatcher,this.sc=function(){l.sort(function(e,t){return parseInt(e.bitrate,10)>parseInt(t.bitrate,10)?1:parseInt(e.bitrate,10)<parseInt(t.bitrate,10)?-1:0})},this.Hb=function(){return t.removeRule("bitrate"),t.addRule({bitrate:C.ba()||5e3}),t.ib(),a=t.U(),r(),1>l.length&&(t.removeRule("bitrate"),t.removeRule("format"),a=t.U(),r()),this},this.Ca=function(){return l}},w.extensions.CustomTrackingEvents=function(e,t,n,i,r){function o(e){switch(e.info){case"creativeView":l.start()}}var a,s,l,c=this,u=[],d=new C.j.s;this.Jb=function(){return{"[sc_systemDomain]":"undefined","[sc_viewtime]":Math.round(100*(s.totalTime-s.la))/100,"[sc_percentvisible]":e.K().A||void 0,"[uif_adslot]":"linear"}},this.setViewport=function(){},this.destroy=function(){},this.a=d.a,this.b=d.b,function(){e.$a(),s=t,(a=i).a("onTrack",o);var d=new w.extensions.CustomTrackingEvents.Parser;n&&(u=d.parse(n)),l=new w.extensions.CustomTrackingEvents.CustomTrackingEventHandler(e.K,u,c,a),r.a("AdStopped",l.destroy)}()},w.extensions.CustomTrackingEvents.Parser=function(){this.parse=function(e){var t,n=[];e=C.wa(e,"Tracking");for(var i=0;i<e.length;i++){var r=e[i];t=C.Kb(r),r=C.T(r),"viewableImpression"===(t=C.extend({},t)).event&&(t.offset=t.offset?1e3*C.V(t.offset):2e3,t.visibility=t.visibility?parseInt(t.visibility,10):50),t.url=r,n.push(t)}return n}},w.extensions.CustomTrackingEvents.CustomTrackingEventHandler=function(e,t,n,i){function r(t){if(t=t.info.data,e().A>t.visibility?t.N++:t.N=0,250*t.N/1e3>=t.offset/1e3){if(C.B(t.url)){var o=C.urlEnrichment.w(C.ma(t.url,n.Jb()));i.callCustomTracker(o,"viewableImpression")}t.o.b("timeupdate",r),t.o.stop()}}var o;this.start=function(){t=t.filter(function(e){return"viewableImpression"===e.event}),e&&t.length&&t.forEach(function(e){(o=new C.qa(250)).data=e,e.o=o,e.N=0,o.a("timeupdate",r),o.start()})},this.destroy=function(){!function(){try{t.forEach(function(e){e.o.b("timeupdate",r),e.o.stop()})}catch(e){}}()}},window.ois(function(e,t){function n(t,n){e.subscribe(function i(){t.apply(this,arguments),e.unsubscribe(i,n)},n)}function i(e){e=e.target.getAttribute("data-program"),e=l[e];for(var t=0;t<e.clickTracking.length;t++)(new Image).src=C.urlEnrichment.w(e.clickTracking[t]);window.open(e.clickThrough,"_blank")}function r(){if(a){for(var e in l){var t,n=l[e],r=document.createElement("img");for(t in n.attributes)n.attributes[t]&&r.setAttribute(t,n.attributes[t]);r.setAttribute("data-program",e),r.style.pointerEvents="auto",r.style.cursor="pointer",r.style.zIndex="10",r.addEventListener("click",i),a.appendChild(r),(new Image).src=C.urlEnrichment.w(n.zc)}a.style.display="block"}}function o(){a&&a.parentNode.removeChild(a)}Number.isFinite=Number.isFinite||function(e){return"number"==typeof e&&isFinite(e)};var a=null,s=[],l={},c={Ea:0,X:0,va:0,Gc:0};n(function(e,n){s=n,(a=document.createElement("div")).setAttribute("style","position:absolute;width:100%;height:100%;top:0;left:0;display:none;pointer-events:none;"),t.parentNode.appendChild(a);for(var i=s.length-1;0<=i;i--){var r=s[i],o=r.program||"unknown-"+i;if(!l[o]){var u={attributes:{},style:{}};u.style.width=parseInt(r.width,10)+"px",u.style.height=parseInt(r.height,10)+"px",u.style.position="absolute";var d=parseInt(r.yPosition,10);Number.isFinite(d)?0<=d?u.style.top=d+"px":u.style.bottom=Math.abs(d)+"px":(u.style.top="top"===r.yPosition?0:"initial",u.style.bottom="bottom"===r.yPosition?0:"initial"),d=parseInt(r.xPosition,10),Number.isFinite(d)?0<=d?u.style.left=d+"px":u.style.right=Math.abs(d)+"px":"left"===r.xPosition?"top"===r.yPosition?(u.style.left=c.Ea+"px",c.Ea+=parseInt(r.width,10)):"bottom"===r.yPosition?(u.style.left=c.va+"px",c.va+=parseInt(r.width,10)):u.style.left=0:"right"===r.xPosition?"top"===r.yPosition?(u.style.right=c.X+"px",c.X+=parseInt(r.width,10)):"bottom"===r.yPosition?(u.style.right=c.Qa+"px",c.Qa+=parseInt(r.width,10)):u.style.right=0:(u.style.top=0,u.style.right=c.X+"px",c.X+=parseInt(r.width,10)),u.attributes.style=JSON.stringify(u.style),u.attributes.style=u.attributes.style.substring(1,JSON.stringify(u.style).length-1),u.attributes.style=u.attributes.style.replace(/\"/gi,"").replace(/\,/gi,";")+";",u.attributes.src=r.staticResource,u.clickThrough=r.iconClickThroughURLTemplate,u.clickTracking=r.iconClickTrackingURLTemplates,u.zc=r.iconViewTrackingURLTemplate,u.offset=new Date("01/01/1970 "+r.offset).getSeconds()||0,u.duration=new Date("01/01/1970 "+r.duration).getSeconds()||-1,l[o]=u}}},4300),n(r,"AdImpression"),n(o,"AdStopped")}),window.ois.MediaFileFormat={WIDE:"wide",SQUARE:"square",VERTICAL:"vertical"},window.ois(function(e,t){function n(t,n){e.subscribe(function i(){t.apply(this,arguments),e.unsubscribe(i,n)},n)}function i(n){if(!e.adManager.isVPAID()&&u[s]&&(n=n.creatives.filter(function(e){return"linear"===e.type}).shift().supportedMediaFiles.filter(function(e){return!e.attributes||e.attributes.format===s})).length){var i=function(){t.removeEventListener("loadedmetadata",i,!1),0>o&&(o=0),t.currentTime=o,void 0===d&&a&&t.pause()},r=C.ba()||5e3;if(n=n.reduce(function(e,t){return Math.abs(t.bitrate-r)<Math.abs(e.bitrate-r)?t:e})){var o=t.currentTime-.5,a=t.paused,l=t.webkitDisplayingFullscreen||!1;if(t.src=C.Z(n.fileURL),t.addEventListener("loadedmetadata",i,!1),t.load(),!c){var d=t.play();void 0!==d&&d.then(function(){var e=t.webkitDisplayingFullscreen||!1;(a||l!=e)&&t.pause()},function(){R.log("MediaElement: The play() request failed.")})}}}}function r(){c=!1}function o(){c=!0}function a(){clearTimeout(l),t.removeEventListener("webkitbeginfullscreen",r),t.removeEventListener("webkitendfullscreen",o)}var s,l=0,c=!1,u={Yc:!1,Vc:!1,Xc:!1};t.addEventListener("webkitbeginfullscreen",r),t.addEventListener("webkitendfullscreen",o),n(function(e,t){t&&t.ads&&t.ads.length&&t.ads.forEach(function(e){var t=e.creatives.filter(function(e){return"linear"===e.type}).shift();!e.errorCode&&0<e.creatives.length&&t.mediaFiles.forEach(function(e){var t=parseInt(e.width,10)/parseInt(e.height,10);e.attributes||(e.attributes={}),1<t?(e.attributes.format=window.ois.MediaFileFormat.WIDE,u.wide=!0):1>t?(e.attributes.format=window.ois.MediaFileFormat.VERTICAL,u.vertical=!0):(e.attributes.format=window.ois.MediaFileFormat.SQUARE,u.square=!0)})})},"AdTagParsed"),n(function e(n,r){var o;l=setTimeout(e,20),(o=1<(o=t.getBoundingClientRect().width/t.getBoundingClientRect().height)?window.ois.MediaFileFormat.WIDE:1>o?window.ois.MediaFileFormat.VERTICAL:window.ois.MediaFileFormat.SQUARE)!==s&&(s=o,i(r))},"AdLoaded"),n(a,"AdSlotComplete"),n(a,"AdError")}),w.extensions.SCAdVisibility=function(e,t,n,i,r){function o(e){switch(e.info){case"creativeView":c.forEach(function(e){var t=new C.qa(e.interval);t.data=e,e.o=t,t.a("timeupdate",s),t.start(),s({info:{data:e}})}),h.start()}}function a(){c.forEach(function(e){e.o.b("timeupdate",s),e.o.stop()})}function s(t){(t=t.info.data.url)&&(t=C.createElement("img",{src:l(t),style:"display:none;",onerror:"this.parentNode.removeChild(this);",onload:"this.parentNode.removeChild(this);"}),e.Da().appendChild(t))}function l(t){var n=e.K().A||void 0;return isNaN(n)?(t=C.ma(t,{"[sc_percentvisible]":"JSINJECTIONERROR"}),a()):t=C.ma(t,f.Xa()),C.urlEnrichment.w(t)}var c,u,d,p,h,f=this,m=new C.j.s;this.Xa=function(){var t=d.v.vb;return{"[sc_systemDomain]":t||"undefined","[sc_viewtime]":Math.round(100*(d.totalTime-d.la))/100,"[sc_percentvisible]":e.K().A||void 0,"[uif_adslot]":"linear"}},this.setViewport=function(){},this.destroy=function(){a()},this.a=m.a,this.b=m.b,function(){e.$a(),d=t,(u=i).a("onTrack",o);var a=new w.extensions.SCAdVisibility.Parser;c=a.parse(n),p=a.hc(n),h=new w.extensions.SCAdVisibility.ViewableImpressionHandler(e.K,p,f,u),r.a("AdStopped",h.destroy)}()},w.extensions.SCAdVisibility.Parser=function(){this.parse=function(e){var t=[];e=C.wa(e,"Tracking");for(var n=0;n<e.length;n++)e[n]&&t.push({interval:parseInt(C.T(C.S(e[n],"Interval")),10),url:C.T(C.S(e[n],"URL"))});return t},this.hc=function(e){var t,n,i,r,o=[];if(t=C.wa(e,"BooleanView"),!C.B(t))return o;for(var a=0;a<t.length;a++)t[a]&&(e={},(n=C.S(t[a],"ViewConditions"))&&(i=parseInt(C.T(C.S(n,"ViewThreshold")),10),r=parseInt(C.T(C.S(n,"ViewTime")),10)),n=C.T(C.S(t[a],"ViewURL")),e.xc=isNaN(i)?50:i,e.yc=isNaN(r)?2e3:r,e.ub=n.length?n:"",o.push(e));return o}},w.extensions.SCAdVisibility.ViewableImpressionHandler=function(e,t,n,i){function r(t){if(t=t.info.data,e().A>t.xc?t.N++:t.N=0,250*t.N/1e3>=t.yc/1e3){if(C.B(t.ub)){var o=C.urlEnrichment.w(C.ma(t.ub,n.Xa()));i.callCustomTracker(o,"viewableImpression")}t.o.b("timeupdate",r),t.o.stop()}}var o;this.start=function(){e&&t.length&&t.forEach(function(e){(o=new C.qa(250)).data=e,e.o=o,e.N=0,o.a("timeupdate",r),o.start()})},this.destroy=function(){!function(){try{t.forEach(function(e){e.o.b("timeupdate",r),e.o.stop()})}catch(e){}}()}},function(){function e(){this.attributes={},this.children=[]}function t(){this.id=null,this.height=this.width=0,this.companionClickThroughURLTemplate=this.iframeResource=this.htmlResource=this.staticResource=this.type=null,this.trackingEvents={}}function n(){this.program=null,this.yPosition=this.xPosition=this.width=this.height=0,this.offset=this.apiFramework=null,this.duration=0,this.iconClickThroughURLTemplate=this.iframeResource=this.htmlResource=this.staticResource=this.type=null,this.iconClickTrackingURLTemplates=[],this.iconViewTrackingURLTemplate=null}function i(){this.viewableImpression=this.flashResource=this.javascriptResource=this.vendor=null}function r(){this.fileURL=this.id=null,this.deliveryType="progressive",this.codec=this.mimeType=null,this.height=this.width=this.maxBitrate=this.minBitrate=this.bitrate=0,this.maintainAspectRatio=this.scalable=this.apiFramework=null}function o(e){e=void 0===e?{}:e,this.id=e.id||null,this.adId=e.adId||null,this.sequence=e.sequence||null,this.apiFramework=e.apiFramework||null,this.trackingEvents={}}function a(e){e=void 0===e?{}:e,o.call(this,e),this.type="linear",this.duration=0,this.skipDelay=null,this.mediaFiles=[],this.videoClickThroughURLTemplate=null,this.videoClickTrackingURLTemplates=[],this.videoCustomClickURLTemplates=[],this.adParameters=null,this.icons=[]}function s(e){e=void 0===e?{}:e,o.call(this,e),this.type="nonlinear",this.variations=[],this.videoClickTrackingURLTemplates=[]}function l(e){e=void 0===e?{}:e,o.call(this,e),this.type="companion",this.variations=[],this.videoClickTrackingURLTemplates=[]}function c(){this.survey=this.pricing=this.advertiser=this.description=this.title=this.system=this.sequence=this.id=this.url=null,this.errorURLTemplates=[],this.impressionURLTemplates=[],this.creatives=[],this.extensions=[],this.adVerifications=[],this.wrappers=[],this.fetch=function(){},this.fetched=!1}function u(){this.id=null,this.expandedHeight=this.expandedWidth=this.height=this.width=0,this.maintainAspectRatio=this.scalable=!0,this.minSuggestedDuration=0,this.apiFramework="static",this.nonlinearClickThroughURLTemplate=this.iframeResource=this.htmlResource=this.staticResource=this.type=null,this.nonlinearClickTrackingURLTemplates=[],this.adParameters=null}function d(){this.value=this.name=null,this.attributes={},this.children=[]}function p(){this.ads=[],this.errorURLTemplates=[]}function h(){}function f(){}function m(){}function g(){}function v(){this.maxWrapperDepth=10,this.blockInsecureURL=!1,this.currentWrapperDepth=0,this.URLTemplateFilters=[],this.wrapperCallbackHandlers=[],k.EventDispatcher.prototype.apply(this)}var b={scope:{},getGlobal:function(e){return"undefined"!=typeof window&&window===e?e:"undefined"!=typeof global?global:e}};b.global=b.getGlobal(this),b.initSymbol=function(){b.global.Symbol||(b.global.Symbol=b.Symbol),b.initSymbol=function(){}},b.symbolCounter_=0,b.Symbol=function(e){return"jscomp_symbol_"+e+b.symbolCounter_++},b.initSymbolIterator=function(){b.initSymbol(),b.global.Symbol.iterator||(b.global.Symbol.iterator=b.global.Symbol("iterator")),b.initSymbolIterator=function(){}},b.makeIterator=function(e){if(b.initSymbolIterator(),e[b.global.Symbol.iterator])return e[b.global.Symbol.iterator]();if(!(e instanceof Array||"string"==typeof e||e instanceof String))throw new TypeError(e+" is not iterable");var t=0;return{next:function(){return t==e.length?{done:!0}:{done:!1,value:e[t++]}}}},b.arrayFromIterator=function(e){for(var t,n=[];!(t=e.next()).done;)n.push(t.value);return n},b.arrayFromIterable=function(e){return e instanceof Array?e:b.arrayFromIterator(b.makeIterator(e))},b.arrayFromArguments=function(e){for(var t=[],n=0;n<e.length;n++)t.push(e[n]);return t},b.inherits=function(e,t){function n(){}for(var i in n.prototype=t.prototype,e.prototype=new n,e.prototype.constructor=e,t)if(b.global.Object.defineProperties){var r=b.global.Object.getOwnPropertyDescriptor(t,i);void 0!==r&&b.global.Object.defineProperty(e,i,r)}else e[i]=t[i]},Object.defineProperties(t.prototype,{hasCreatives:{configurable:!0,enumerable:!0,get:function(){return this.staticResource||this.htmlResource||this.iframeResource}}}),b.inherits(a,o),b.inherits(s,o),b.inherits(l,o),Object.defineProperties(c.prototype,{hasError:{configurable:!0,enumerable:!0,get:function(){return!isNaN(this.errorCode)}}});var y={isSecureURL:function(e){return"https:"===window.location.protocol&&0!==(e+"").indexOf("http://")||"https:"!==window.location.protocol}},A={extend:function e(t){var n=[];return n.forEach.call(n.slice.call(arguments,1),function(n){if(n)for(var i in n)({}).hasOwnProperty.call(n,i)&&(t[i]="object"==typeof t[i]&&"object"==typeof n[i]&&null!==n[i]?e(t[i],n[i]):n[i])}),t}},T=function(e,t){if(0===e.indexOf("//")){var n=location.protocol;return"file:"===n&&(n="https:"),n+e}return-1===e.indexOf("://")?t.slice(0,t.lastIndexOf("/"))+"/"+e:e},w=function(e){if("string"==typeof e==!1)return e;var t=null;return window.DOMParser?t=(new DOMParser).parseFromString(e,"text/xml"):(t=new ActiveXObject("Microsoft.XMLDOM")).loadXML(e),t};h.prototype.xdr=function(){return window.XDomainRequest?new window.XDomainRequest:null},h.supported=function(){return!!(new h).xdr()},h.prototype.get=function(e,t,n){if("function"!=typeof window.ActiveXObject)n();else{var i=new window.ActiveXObject("b");i.async=!1,xdr=this.xdr(),xdr.open("GET",e),xdr.timeout=t.timeout||0,xdr.withCredentials=!1!==t.withCredentials,xdr.onprogress=function(){},xdr.onload=function(){i.loadXML(xdr.responseText),n(null,i)},xdr.send()}},f.prototype.xhr=function(){var e=new window.XMLHttpRequest;return"withCredentials"in e?e:null},f.supported=function(){return!!(new f).xhr()},f.prototype.get=function(e,t,n){try{var i=this,r=this.xhr();r.open("GET",e),r.timeout=t.timeout||0,r.withCredentials=!1!==t.withCredentials,r.overrideMimeType&&r.overrideMimeType("text/xml"),r.onreadystatechange=function(){if(4===r.readyState)if(200===r.status){var o=r.responseXML;!o&&r.responseText&&(o=w(r.responseText)),o?n(null,o):(r.statusText="Response contains neither 'responseXML' nor 'responseText'",n(Error("XHRURLHandler: "+r.statusText)))}else 0===r.status&&r.withCredentials?((o=JSON.parse(JSON.stringify(t))).withCredentials=!1,i.get(e,o,n)):n(Error("XHRURLHandler: "+r.statusText))},r.send()}catch(e){n(e)}},m.prototype.get=function(e,t,n){var i=n,r=t;return n||("function"==typeof t&&(i=t),r={}),i?(t=r.urlhandler,r.response?(i(null,w(r.response)),null):t&&t.supported()?(new t).get(e,r,i):f.supported()?(new f).get(e,r,i):h.supported()?(new h).get(e,r,i):i()):null};var k={};g.prototype={constructor:g,apply:function(e){e.addEventListener=g.prototype.addEventListener,e.hasEventListener=g.prototype.hasEventListener,e.removeEventListener=g.prototype.removeEventListener,e.dispatchEvent=g.prototype.dispatchEvent},addEventListener:function(e,t){this._listeners||(this._listeners={});var n=this._listeners;n[e]||(n[e]=[]),-1===n[e].indexOf(t)&&n[e].push(t)},hasEventListener:function(e,t){if(!this._listeners)return!1;var n=this._listeners;return!(!n[e]||-1===n[e].indexOf(t))},removeEventListener:function(e,t){if(this._listeners){var n=this._listeners[e];if(n){var i=n.indexOf(t);-1!==i&&n.splice(i,1)}}},dispatchEvent:function(e){if(this._listeners){var t=this._listeners[e];if(t){var n=t.length,i=[],r=0;for(r=0;r<n;r++)i[r]=t[r];for(t=0;t<n;t++)(i[t]||function(){}).apply(this,[].slice.call(arguments,1))}}}},k.EventDispatcher=g,v.prototype.trackError=function(e,t,n,i){this.dispatchEvent("VAST-error",{response:JSON.parse(JSON.stringify(e)),errorCode:n,errorURLTemplates:t,silent:i})},v.prototype.addURLTemplateFilter=function(e){"function"==typeof e&&this.URLTemplateFilters.push(e)},v.prototype.removeURLTemplateFilter=function(){return this.URLTemplateFilters.pop()},v.prototype.countURLTemplateFilters=function(){return this.URLTemplateFilters.length},v.prototype.clearUrlTemplateFilters=function(){this.URLTemplateFilters=[]},v.prototype.addWrapperCallbackHandler=function(e){"function"==typeof e&&this.wrapperCallbackHandlers.push(e)},v.prototype.removeWrapperCallbackHandler=function(){return this.wrapperCallbackHandlers.pop()},v.prototype.countWrapperCallbackHandlers=function(){return this.wrapperCallbackHandlers.length},v.prototype.clearWrapperCallbackHandlers=function(){this.wrapperCallbackHandlers=[]},v.prototype.parseXPosition=function(e){return-1!==["left","right"].indexOf(e)?e:parseInt(e,10)||0},v.prototype.parseYPosition=function(e){return-1!==["top","bottom"].indexOf(e)?e:parseInt(e,10)||0},v.prototype.parseNodeText=function(e){return e&&(e.textContent||e.text||"").trim()},v.prototype.copyNodeAttribute=function(e,t,n){(t=t.getAttribute(e))&&n.setAttribute(e,t)},v.prototype.parseDuration=function(e){if(!e)return-1;if(isNaN(parseFloat(e))&&isFinite(e))return parseInt(e,10);var t=e.split(":");if(3!==t.length)return-1;var n=t[2].split(".");return e=parseInt(n[0],10),2===n.length&&(e+=parseFloat("0."+n[1])),n=parseInt(60*t[1],10),t=parseInt(3600*t[0],10),isNaN(t)||isNaN(n)||isNaN(e)||3600<n||60<e?-1:t+n+e},v.prototype.parseBoolean=function(e,t){return-1<["true","1"].indexOf((e+"").toLowerCase())||!(-1<["false","0"].indexOf((e+"").toLowerCase()))&&(t||!1)},v.prototype.childByName=function(e,t){for(var n=0;n<e.childNodes.length;n++){var i=e.childNodes.item(n);if(i.nodeName===t)return i}return null},v.prototype.childsByName=function(e,t){for(var n=[],i=0;i<e.childNodes.length;i++){var r=e.childNodes.item(i);r.nodeName===t&&n.push(r)}return n},v.prototype.parseNextWrapperURL=function(e){var t=null,n=this.childByName(e,"VASTAdTagURI");return n?t=this.parseNodeText(n):(n=this.childByName(e,"VASTAdTagURL"))&&(t=this.parseNodeText(this.childByName(n,"URL"))),t},v.prototype.parseWrapperElement=function(e){var t=this.parseInLineElement(e);t.nextWrapperURL=this.parseNextWrapperURL(e),t.videoClickTrackingURLTemplates||(t.videoClickTrackingURLTemplates=[]),t.videoCustomClickURLTemplates||(t.videoCustomClickURLTemplates=[]),e=t.creatives;for(var n=0;n<e.length;n++){var i=e[n],r=null;"linear"!==i.type&&"nonlinear"!==i.type||(r=i)&&(r.trackingEvents&&(t.trackingEvents||(t.trackingEvents={}),t.trackingEvents[r.type]=r.trackingEvents),r.videoClickTrackingURLTemplates&&(t.videoClickTrackingURLTemplates=r.videoClickTrackingURLTemplates.concat(t.videoClickTrackingURLTemplates)),r.videoClickThroughURLTemplate&&(t.videoClickThroughURLTemplate=r.videoClickThroughURLTemplate),r.videoCustomClickURLTemplates&&(t.videoCustomClickURLTemplates=r.videoCustomClickURLTemplates.concat(t.videoCustomClickURLTemplates)))}return t.nextWrapperURL?t:null},v.prototype.parseSkipOffset=function(e,t){var n=null;return(n=t.getAttribute("skipoffset"))?"%"===n.charAt(n.length-1)&&-1!==e.duration?(percent=parseInt(n,10),n=percent/100*e.duration):n=this.parseDuration(n):n=null,n},v.prototype.parseVideoClicks=function(e){var t={videoClickTrackingURLTemplates:[],videoCustomClickURLTemplates:[]};if(e=this.childByName(e,"VideoClicks")){t.videoClickThroughURLTemplate=this.parseNodeText(this.childByName(e,"ClickThrough"));for(var n=this.childsByName(e,"ClickTracking"),i=0;i<n.length;i++)t.videoClickTrackingURLTemplates.push(this.parseNodeText(n[i]));for(e=this.childsByName(e,"CustomClick"),n=0;n<e.length;n++)t.videoCustomClickURLTemplates.push(this.parseNodeText(e[n]))}return t},v.prototype.parseTrackingEvents=function(e){var t={};e=this.childsByName(e,"TrackingEvents");for(var n=0;n<e.length;n++)for(var i=this.childsByName(e[n],"Tracking"),r=0;r<i.length;r++){var o=i[r],a=o.getAttribute("event"),s=this.parseNodeText(o);if(a&&s){if("progress"===a){if(!(o=o.getAttribute("offset")))continue;a="%"===o.charAt(o.length-1)?"progress-"+o:"progress-"+Math.round(this.parseDuration(o))}t[a]||(t[a]=[]),t[a].push(s)}}return t},v.prototype.parseMediaFileScalable=function(e){return!(e=e.getAttribute("scalable"))||"string"!=typeof e||"false"!==(e=e.toLowerCase())},v.prototype.parseMediaFileMaintainAspectRatio=function(e){return!(e=e.getAttribute("maintainAspectRatio"))||"string"!=typeof e||"false"!==(e=e.toLowerCase())},v.prototype.parseMediaFiles=function(e){var t=[];e=this.childsByName(e,"MediaFiles");for(var n=0;n<e.length;n++)for(var i=this.childsByName(e[n],"MediaFile"),o=0;o<i.length;o++){var a=i[o],s=new r;s.id=a.getAttribute("id"),s.fileURL=this.parseNodeText(a),s.deliveryType=a.getAttribute("delivery"),s.codec=a.getAttribute("codec"),s.mimeType=a.getAttribute("type"),s.apiFramework=a.getAttribute("apiFramework"),s.bitrate=parseInt(a.getAttribute("bitrate")||0,10),s.minBitrate=parseInt(a.getAttribute("minBitrate")||0,10),s.maxBitrate=parseInt(a.getAttribute("maxBitrate")||0,10),s.width=parseInt(a.getAttribute("width")||0,10),s.height=parseInt(a.getAttribute("height")||0,10),s.scalable=this.parseMediaFileScalable(a),s.maintainAspectRatio=this.parseMediaFileMaintainAspectRatio(a),t.push(s)}return t},v.prototype.parseIcons=function(e){var t=[];if(e=this.childByName(e,"Icons")){e=this.childsByName(e,"Icon");for(var i=0;i<e.length;i++){var r=e[i];(o=new n).program=r.getAttribute("program"),o.height=parseInt(r.getAttribute("height"),10)||0,o.width=parseInt(r.getAttribute("width"),10)||0,o.xPosition=this.parseXPosition(r.getAttribute("xPosition")),o.yPosition=this.parseYPosition(r.getAttribute("yPosition")),o.apiFramework=r.getAttribute("apiFramework"),o.offset=this.parseDuration(r.getAttribute("offset")),o.duration=this.parseDuration(r.getAttribute("duration"));var o=A.extend(o,this.parseResourceAdType(r));if(a=this.childByName(r,"IconClicks")){o.iconClickThroughURLTemplate=this.parseNodeText(this.childByName(a,"IconClickThrough"));for(var a=this.childsByName(a,"IconClickTracking"),s=0;s<a.length;s++)o.iconClickTrackingURLTemplates.push(this.parseNodeText(a[s]))}o.iconViewTrackingURLTemplate=this.parseNodeText(this.childByName(r,"IconViewTracking")),t.push(o)}}return t},v.prototype.parseCreativeLinearElement=function(e,t){var n=new a(t=void 0===t?{}:t);n.duration=this.parseDuration(this.parseNodeText(this.childByName(e,"Duration"))),n.skipDelay=this.parseSkipOffset(n,e);var i=this.parseVideoClicks(e);if(n.videoClickThroughURLTemplate=i.videoClickThroughURLTemplate,n.videoClickTrackingURLTemplates=n.videoClickTrackingURLTemplates.concat(i.videoClickTrackingURLTemplates),n.videoCustomClickURLTemplates=n.videoCustomClickURLTemplates.concat(i.videoCustomClickURLTemplates),n.trackingEvents=this.parseTrackingEvents(e),n.mediaFiles=n.mediaFiles.concat(this.parseMediaFiles(e)),n.icons=n.icons.concat(this.parseIcons(e)),i=this.childByName(e,"AdParameters"))for(n.adParameters=this.parseNodeText(i),i=0;i<n.mediaFiles.length;i++)n.mediaFiles[i].adParameters=n.adParameters;return n},v.prototype.parseResourceAdType=function(e){for(var t={},n=this.childsByName(e,"HTMLResource"),i=0;i<n.length;i++){var r=n[i];t.type=r.getAttribute("creativeType")||"text/html",t.htmlResource=this.parseNodeText(r)}for(n=this.childsByName(e,"IFrameResource"),i=0;i<n.length;i++)r=n[i],t.type=r.getAttribute("creativeType")||0,t.iframeResource=this.parseNodeText(r);for(e=this.childsByName(e,"StaticResource"),n=0;n<e.length;n++)i=e[n],t.type=i.getAttribute("creativeType")||0,t.staticResource=this.parseNodeText(i);return t},v.prototype.parseNonLinear=function(e,t){var n=new s(t=void 0===t?{}:t);n.trackingEvents=this.parseTrackingEvents(e);for(var i=this.childsByName(e,"NonLinear"),r=0;r<i.length;r++){var o=i[r];(a=new u).id=o.getAttribute("id")||null,a.width=o.getAttribute("width"),a.height=o.getAttribute("height"),a.expandedWidth=o.getAttribute("expandedWidth"),a.expandedHeight=o.getAttribute("expandedHeight"),a.scalable=this.parseBoolean(o.getAttribute("scalable")),a.maintainAspectRatio=this.parseBoolean(o.getAttribute("maintainAspectRatio")),a.minSuggestedDuration=o.getAttribute("minSuggestedDuration"),a.apiFramework=o.getAttribute("apiFramework");var a=A.extend(a,this.parseResourceAdType(o)),l=this.childByName(o,"AdParameters");for(l&&(a.adParameters=this.parseNodeText(l)),a.nonlinearClickThroughURLTemplate=this.parseNodeText(this.childByName(o,"NonLinearClickThrough")),l=(o=b.makeIterator(this.childsByName(o,"NonLinearClickTracking"))).next();!l.done;l=o.next())a.nonlinearClickTrackingURLTemplates.push(this.parseNodeText(l.value));n.variations.push(a)}return n},v.prototype.parseCompanionAd=function(e,n){for(var i=new l(n=void 0===n?{}:n),r=this.childsByName(e,"Companion"),o=0;o<r.length;o++){var a=r[o];(s=new t).id=a.getAttribute("id")||null,s.width=a.getAttribute("width"),s.height=a.getAttribute("height"),s.companionClickTrackingURLTemplates=[];for(var s=A.extend(s,this.parseResourceAdType(a)),c=this.childsByName(a,"TrackingEvents"),u=0;u<c.length;u++)for(var d=this.childsByName(c[u],"Tracking"),p=0;p<d.length;p++){var h=(f=d[p]).getAttribute("event"),f=this.parseNodeText(f);h&&f&&(s.trackingEvents[h]||(s.trackingEvents[h]=[]),s.trackingEvents[h].push(f))}for(u=(c=b.makeIterator(this.childsByName(a,"CompanionClickTracking"))).next();!u.done;u=c.next())s.companionClickTrackingURLTemplates.push(this.parseNodeText(u.value));s.companionClickThroughURLTemplate=this.parseNodeText(this.childByName(a,"CompanionClickThrough")),s.companionClickTrackingURLTemplate=this.parseNodeText(this.childByName(a,"CompanionClickTracking")),i.variations.push(s)}return i},v.prototype.parseCreativeAdIdAttribute=function(e){if(!e.hasAttributes())return null;e=Array.prototype.slice.call(e.attributes);for(var t=0;t<e.length;t++){var n=e[t];if(n&&n.name){var i=n.value;if("adid"===n.name.toLowerCase())return i}}return null},v.prototype.parseCreativeElement=function(e,t){for(var n=this.childsByName(t,"Creative"),i=0;i<n.length;i++)for(var r=(o=n[i]).childNodes,o={id:o.getAttribute("id")||null,adId:this.parseCreativeAdIdAttribute(o),sequence:parseInt(o.getAttribute("sequence"),10),apiFramework:o.getAttribute("apiFramework")||null},a=0;a<r.length;a++){var s=r.item(a),l=null;switch(s.nodeName){case"Linear":l=this.parseCreativeLinearElement(s,o);break;case"NonLinearAds":l=this.parseNonLinear(s,o);break;case"CompanionAds":l=this.parseCompanionAd(s,o)}l&&e.creatives.push(l)}},v.prototype.parseExtensionChild=function(e,t){for(var n=t.childNodes,i=0;i<n.length;i++){var r=n.item(i),o=this.parseNodeText(r);if("#comment"!==r.nodeName&&""!==o||r.attributes){var a=new d;if(a.name=r.nodeName,a.value=o,r.attributes){o=r.attributes;for(var s=0;s<o.length;s++){var l=o.item(s);a.attributes[l.nodeName]=l.nodeValue}}r.childNodes&&0<r.childNodes.length&&this.parseExtensionChild(a.children,r),e.push(a)}}},v.prototype.parseExtension=function(t,n){for(var i=0;i<n.length;i++){var r=n[i],o=new e;if(r.attributes)for(var a=r.attributes,s=0;s<a.length;s++){var l=a.item(s);o.attributes[l.nodeName]=l.nodeValue}this.parseExtensionChild(o.children,r),t.push(o)}},v.prototype.parseAdVerifications=function(e,t){for(var n=0;n<t.length;n++){var r=t[n],o=new i,a={};o.vendor=r.getAttribute("vendor")||null;var s=this.childByName(r,"JavaScriptResource");if(s&&(a.url=this.parseNodeText(s),a.apiFramework=s.getAttribute("apiFramework")||"VPAID",o.javascriptResource=a,(r=this.childByName(r,"AdParameters"))&&r.hasChildNodes()))for(var l in r.childNodes)(a=r.childNodes[l]).nodeType===Node.ELEMENT_NODE&&(o.adParameters||(o.adParameters={}),o.adParameters[a.nodeName]=this.parseNodeText(a));e.push(o)}},v.prototype.parseInLineElement=function(e){var t=new c;t.id=e.getAttribute("id")||null,t.sequence=parseInt(e.getAttribute("sequence"),10),t.fallbackType=e.getAttribute("fallbackType")||"replace",t.fallbackOnNoAd=this.parseBoolean(e.getAttribute("fallbackOnNoAd"),!1),t.followAdditionalWrappers=this.parseBoolean(e.getAttribute("followAdditionalWrappers"),!0),t.allowMultipleAds=this.parseBoolean(e.getAttribute("allowMultipleAds"),!1),e=e.childNodes;for(var n=0;n<e.length;n++){var i=e.item(n);switch(i.nodeName){case"Error":(i=this.parseNodeText(i))&&i.length&&t.errorURLTemplates.push(i);break;case"Impression":t.impressionURLTemplates.push(this.parseNodeText(i));break;case"AdVerifications":this.parseAdVerifications(t.adVerifications,this.childsByName(i,"Verification"));break;case"Creatives":this.parseCreativeElement(t,i);break;case"Extensions":this.parseExtension(t.extensions,this.childsByName(i,"Extension"));break;case"AdSystem":t.system={value:this.parseNodeText(i),version:i.getAttribute("version")||null};break;case"AdTitle":t.title=this.parseNodeText(i);break;case"Description":t.description=this.parseNodeText(i);break;case"Advertiser":t.advertiser=this.parseNodeText(i);break;case"Pricing":t.pricing={value:this.parseNodeText(i),model:i.getAttribute("model")||null,currency:i.getAttribute("currency")||null};break;case"Survey":t.survey=this.parseNodeText(i)}}return t},v.prototype.parseAdElement=function(e){for(var t=e.childNodes,n=0;n<t.length;n++){var i=t.item(n);if("Wrapper"===i.nodeName||"InLine"===i.nodeName){if(this.copyNodeAttribute("id",e,i),this.copyNodeAttribute("sequence",e,i),this.copyNodeAttribute("fallbackOnNoAd",e,i),this.copyNodeAttribute("fallbackType",e,i),this.copyNodeAttribute("followAdditionalWrappers",e,i),this.copyNodeAttribute("allowMultipleAds",e,i),"Wrapper"===i.nodeName)return this.parseWrapperElement(i);if("InLine"===i.nodeName)return this.parseInLineElement(i)}}return null},v.prototype.mergeWrapperAdData=function(e,t){e.wrappers=t.wrappers.concat(e.wrappers),e.errorURLTemplates=t.errorURLTemplates.concat(e.errorURLTemplates),e.impressionURLTemplates=t.impressionURLTemplates.concat(e.impressionURLTemplates),e.extensions=t.extensions.concat(e.extensions),e.adVerifications=t.adVerifications.concat(e.adVerifications),e.sequence=t.sequence,e.fallbackType=t.fallbackType,e.fallbackOnNoAd=t.fallbackOnNoAd||this.parseBoolean(e.fallbackOnNoAd,!1),e.followAdditionalWrappers=t.followAdditionalWrappers||this.parseBoolean(e.followAdditionalWrappers,!0),e.allowMultipleAds=t.allowMultipleAds||this.parseBoolean(e.allowMultipleAds,!1);var n=t.creatives.filter(function(e){return"companion"===e.type}).shift(),i=e.creatives.filter(function(e){return"companion"===e.type}).shift();n&&i?i.variations=n.variations.concat(i.variations):n&&!i&&((i=new l).variations=n.variations.concat(i.variations),e.creatives.push(i)),t.trackingEvents&&e.creatives.map(function(e){t.trackingEvents[e.type]&&Object.keys(t.trackingEvents[e.type]).map(function(n){e.trackingEvents[n]||(e.trackingEvents[n]=[]),e.trackingEvents[n]=e.trackingEvents[n].concat(t.trackingEvents[e.type][n])})}),e.creatives.map(function(e){t.creatives.map(function(t){e.icons=(e.icons||[]).concat(t.icons||[])})}),t.videoClickTrackingURLTemplates&&e.creatives.map(function(e){"linear"===e.type&&(e.videoClickTrackingURLTemplates=e.videoClickTrackingURLTemplates.concat(t.videoClickTrackingURLTemplates))}),t.videoClickThroughURLTemplate&&e.creatives.map(function(e){"linear"!==e.type||e.videoClickThroughURLTemplate||(e.videoClickThroughURLTemplate=t.videoClickThroughURLTemplate)})},v.prototype.urlResponseHandler=function(e,t,n,i,r,o){function a(){for(var e=u.ads.length-1;0<=e;e--){var n=u.ads[e];if(n.nextWrapperURL){for(e=JSON.parse(JSON.stringify(n)),n.VASTAdTagURI=t[1],n.wrappers.push(e),n=s.wrapperCallbackHandlers.length-1;0<=n;n--)(0,s.wrapperCallbackHandlers[n])(e,s.currentWrapperDepth);return}}0!==u.ads.length&&(u.ads.map(function(e){u.errorURLTemplates.map(function(t){-1===e.errorURLTemplates.indexOf(t)&&e.errorURLTemplates.push(t)})}),u.errorURLTemplates=[]),0===l?0===u.ads.length?(s.trackError(u,u.errorURLTemplates,303),i(r,u)):(u.ads.filter(function(e){return!s.isBrokenAd(e)}).map(function(e){e.creatives.map(function(t){var n=0<(t.mediaFiles||[]).filter(function(e){return!y.isSecureURL(e.fileURL)}).length;t=0<(t.variations||[]).filter(function(e){return!y.isSecureURL(e.fileURL)}).length,s.blockInsecureURL&&(n||t)&&(e.errorCode=405)})}),u.ads.map(function(e){var t=void 0;s.hasValidCreatives(e)||(t=400),s.isBrokenAd(e)&&(t=303),!isNaN(t)&&isNaN(e.errorCode)&&e.fetched&&(e.errorCode=t)}),s.handleFallbackOnNoAdFlag(u.ads),n=u.ads.filter(function(e){return!1===e.fetched&&!e.hasError}),0===u.ads.filter(function(e){return e.hasError&&e.fallbackOnNoAd}).length&&(n=[]),e=function(){s.deleteNeedlessBuffetAds(u.ads),u.ads.map(function(e){e.hasError&&(e.creatives=[])}),u.ads.sort(s.bySequence),1===u.ads.length&&u.ads[0].errorCode&&(0===u.errorURLTemplates.length?s.trackError(u,u.ads[0].errorURLTemplates,u.ads[0].errorCode):s.trackError(u,u.errorURLTemplates,u.ads[0].errorCode),u.ads.splice(0,1)),i(r,u)},0<n.length?(n=n.shift(),e=u.ads.indexOf(n),n.fetch(function(e,t){0<t.ads.length&&(u.ads[e]=t.ads[0]),a()}.bind(s,e))):e()):i(r,u)}var s=this,l=this.currentWrapperDepth++;if(r)return i(r);delete n.response;var u=new p;if(!o||!o.documentElement||"VAST"!==o.documentElement.nodeName)return i();for(var d=0;d<o.documentElement.childNodes.length;d++){var h=o.documentElement.childNodes.item(d);"Error"===h.nodeName&&u.errorURLTemplates.push(this.parseNodeText(h))}for(d=0;d<o.documentElement.childNodes.length;d++)"Ad"===(h=o.documentElement.childNodes.item(d)).nodeName&&((h=this.parseAdElement(h))?(h.url=h.nextWrapperURL?T(h.nextWrapperURL,e):e,h.fetched=!0,u.ads.push(h)):this.trackError(u,u.errorURLTemplates,101));for(o=u.ads.length,d={$jscomp$this$5:void 0};o--;)d.$jscomp$this$5=this,(h=u.ads[o]).nextWrapperURL&&(function(i){return function(r){if(t.length-1>=i.$jscomp$this$5.maxWrapperDepth||r.nextWrapperURL in t)r.errorCode=302,delete r.nextWrapperURL;else if(r.followAdditionalWrappers){e&&(r.nextWrapperURL=T(r.nextWrapperURL,e));var o=function(e,n){if(delete r.nextWrapperURL,e)return r.errorCode=e.errorCode||301,e.message&&-1!==e.message.indexOf("Invalid URL")&&(r.errorCode=303),a();if(n&&n.errorURLTemplates&&(u.errorURLTemplates=u.errorURLTemplates.concat(n.errorURLTemplates)),n&&0!==n.ads.length){var o=u.ads.indexOf(r);u.ads.splice(o,1),n.ads.map(function(e){return function(n){e.$jscomp$this$5.mergeWrapperAdData(n,r),n.VASTAdTagURI=t[1],u.ads.splice(++o,0,n)}}(i))}else r.creatives=[];return a()},s=0<u.ads.filter(function(e){return!isNaN(e.sequence)}).length;isNaN(r.sequence)&&!n.prefetchBuffets&&s?(o=new p,r.fetched=!1,r.fetchURL=r.nextWrapperURL,delete r.nextWrapperURL,r.fetch=function(e){return function(i){e.$jscomp$this$5.parse(r.fetchURL,n,function(t,n){if(0<n.ads.length)n.ads.map(function(e){return function(t){e.$jscomp$this$5.mergeWrapperAdData(t,r),t.VASTAdTagURI=r.url}}(e));else{var o=new c;o.errorURLTemplates=r.errorURLTemplates.concat(n.errorURLTemplates),o.errorCode=303,o.sequence=r.sequence,o.fetched=!0,o.fallbackOnNoAd=!0,n.ads.push(o)}i(n)},t)}}(i),o.ads.push(r)):i.$jscomp$this$5.parse(r.nextWrapperURL,n,o.bind(i.$jscomp$this$5),t)}else delete r.nextWrapperURL,i.$jscomp$this$5.isBrokenAd(r)&&isNaN(r.errorCode)&&(r.errorCode=303)}}(d)(h),d={$jscomp$this$5:d.$jscomp$this$5});return a()},v.prototype.handleFallbackOnNoAdFlag=function(e){var t=this;e.sort(this.bySequence);var n=e.filter(function(e){return isNaN(e.sequence)&&!t.isBrokenAd(e)}),i=e.filter(function(e){return t.isBrokenAd(e)&&e.fallbackOnNoAd&&e.sequence&&!e.replaced}),r=e.filter(function(e){return e.fallbackOnNoAd&&e.sequence});if(0!==r.length){var o=parseInt(r[r.length-1].sequence,10);if(0===i.length)return this.deleteNeedlessBuffetAds(e);i.forEach(function(t){var i=n.shift();if(i){var r=e.indexOf(t);i.sequence=t.sequence+.1,t.fallbackType&&"waterfall"===t.fallbackType&&(r=e.indexOf(i),i.sequence=o++),t.replaced=!0,e.splice(r,i)}})}},v.prototype.deleteNeedlessBuffetAds=function(e){if(0!==e.length&&!isNaN(e[0].sequence))for(var t=e.length;t--;)isNaN(e[t].sequence)&&e.splice(t,1)},v.prototype.bySequence=function(e,t){return e.sequence-t.sequence||(e.sequence||1/0)-(t.sequence||1/0)||0},v.prototype.hasValidCreatives=function(e){return 0<e.creatives.filter(function(e,t,n){t=e.mediaFiles&&0<e.mediaFiles.length;var i=e.variations&&0<e.variations.length;return!!(0<n.length&&(t||i))&&(!(i&&!t)||0<e.variations.filter(function(e){return!0===e.hasCreative}).length)}).length},v.prototype.isBrokenAd=function(e){return!e||e.hasError||e.fetched&&!this.hasValidCreatives(e)},v.prototype.getClosestIndexOfNextValidAd=function(e,t){var n=this,i=1/0;return e.map(function(e,r){var o=Math.abs(i-t),a=Math.abs(r-t);!n.isBrokenAd(e)&&a<o&&r!==t&&(i=r)}),1/0===i?-1:i},v.prototype.parse=function(e,t,n,i){i=void 0===i?[]:i;var r=e;n=void 0===n?function(){}:n;var o=t=void 0===t?{}:t;for("function"==typeof t&&(n=t,o={}),this.blockInsecureURL=o.blockInsecureURL||!1,this.maxWrapperDepth=o.maxWrapperDepth||10,t=this.URLTemplateFilters.length-1;0<=t;t--)r=(0,this.URLTemplateFilters[t])(e);i.push(r),this.blockInsecureURL&&!y.isSecureURL(r)?n({errorCode:310,errorMessage:"Mixed Content: This request has been blocked; the ad-request must be served over HTTPS."},null):(new m).get(r,o,this.urlResponseHandler.bind(this,e,i,o,n))},window.VASTParser=v}()}(),window.ois(function(e,t,n,i){function r(e,t){return Object.keys(e).filter(function(n){return t(n,e[n])}).reduce(function(t,n){return t[n]=e[n],t},{})}function o(e){return Array.prototype.map.call(document.querySelectorAll(e.split("/").join("\\/")),function(e){return e})}e.subscribe(function(e,t){for(var n={a:void 0},a=0;a<t.variations.length;n={a:n.a},a++){var s=t.variations[a],l=document.createElement("iframe");if(l.src=s.iframeResource,l.width=s.width,l.height=s.height,l.frameBorder=0,l.setAttribute("scrolling","no"),l.setAttribute("margin","0"),l.setAttribute("allowtransparency","true"),n.a=r(s.trackingEvents,function(e){return-1!==["creativeView","impression","start"].indexOf(e)}),l.onload=function(e){return function(){var t,n=i.adManager.trackingController();for(t in e.a)({}).hasOwnProperty.call(e.a,t)&&n.callCustomTracker(e.a[t],"Companion"+t)}}(n),t.customaid){var c=document.createElement("script");c.src=t.customaid,document.body.appendChild(c)}(s=o("#"+s.zone).shift())&&s.appendChild(l)}},"AdCompanionsDetected"),e.subscribe(function(e,t){t&&t.extensions&&0<t.extensions.length&&t.extensions.filter(function(e,t){if("Videoplaza"===t.attributes.name||"SXP"===t.attributes.name)return 1<=t.children.filter(function(t){if("AdInfo"===t.name&&t.attributes.hasOwnProperty("customaid")){var n=t.attributes.customaid;t.children.filter(function(t){if("Companions"===t.name)for(var i={b:void 0},r=0;r<t.children.length;i={b:i.b},r++){var o=t.children[r];i.b={zone:o.attributes.zone,id:o.attributes.id},(o=e.creatives.filter(function(e){return"companion"===e.type}).shift())&&(o.variations.filter(function(e){return function(t){return t.id===e.b.id}}(i)).shift().zone=i.b.zone,o.customaid=n.replace(/(^.*\[|\].*$)/g,""))}})}return!1}).length}.bind(this,t))},"AdLoaded")}),window.ois(function(e,t,n,i){function r(e,t){var n=t.extensions.filter(function(n){return("Videoplaza"===n.attributes.name||"SXP"===n.attributes.name)&&1<=n.children.filter(function(n){if("AdInfo"===n.name){for(var i in t.info=t.info||{},n.attributes)"variant"===i?t.variant=d[n.attributes[i].toUpperCase()]:t.info[i]=n.attributes[i];if(t.variant||(t.variant=l.NORMAL),t.variant.toUpperCase()===e.toUpperCase())return!0}return!1}).length});return t.variant&&t.variant!==l.NORMAL?n=1<=n.length:(t.variant=l.NORMAL,n=t.variant.toUpperCase()===e.toUpperCase()),n}function o(t,n){function a(e,t){switch(t.info=t.info||{},t.info.c=e.toLowerCase(),t.info.f=e.toLowerCase(),t.info.g=e.toLowerCase(),e.toLowerCase()){case l.OPENER:n.ads.unshift(t);break;case l.CLOSER:n.ads.push(t);break;case l.PREBUMPER:var i=n.ads.findIndex(r.bind(this,l.BUMPER));if(-1!==i){if(0===i&&-1===(i=n.ads.findIndex(r.bind(this,l.NORMAL))))break;n.ads.splice(i,0,t)}}}if(e.unsubscribe(o,"AdTagParsed"),0!==n.ads.length){var s=n.ads.filter(r.bind(this,l.NORMAL));n.ads.filter(r.bind(this,l.BUMPER)),function(e){for(var t=f=0;t<e.length;t++){var n=e[t].creatives.filter(function(e){return"linear"===e.type}).shift();n&&!n.errorCode&&(f+=n.duration?n.duration:20)}0===f&&(f=-1)}(s);var d=i.adManager.getAdConfig(),p={hls:"application/x-mpegURL",progressive:"video/mp4",dash:"application/dash+xml",webm:"video/webm",ogg:"video/ogg"};if(n.ads.filter(function(e){return!e.hasError}).shift()){for(var h in l){var m=l[h];if(d[m]){var g=JSON.parse(JSON.stringify(u));for(var v in g.variant=m,g.id=m,d[m])if(p.hasOwnProperty(v)){var b=JSON.parse(JSON.stringify(c));b.fileURL=d[m][v],b.mimeType=p[v],g.creatives[0].mediaFiles.push(b),a(m,g)}}}var y=0,A=0,T=n.ads.length;n.ads.forEach(function(e,t){A++,e.sequence=""+(t+1),e.info=e.info||{},e.info.currentClip=A,e.info.totalClips=T,e.info.currentCommercial=-1,e.info.totalCommercials=s.length,e.info.totalCommercialsDuration=f,e.variant&&e.variant!==l.NORMAL||(y++,e.info.currentCommercial=y)})}}}function a(){e.getVariant()===l.NORMAL&&h!==parseInt(this.duration,10)&&0<f&&(f=f-h+this.duration)}function s(){e.getVariant()===l.NORMAL&&(g=isNaN(g)?0:g,m=f-(g+v.currentTime))}var l=e.VARIANTS={PREBUMPER:"bumper",OPENER:"opener",CLOSER:"closer",NORMAL:"commercial",BUMPER:"sponsored"},c={apiFramework:null,bitrate:731,codec:null,deliveryType:"progressive",fileURL:"",height:360,id:null,maintainAspectRatio:!0,maxBitrate:0,mimeType:"video/mp4",minBitrate:0,scalable:!0,width:640},u={creatives:[{adParameters:null,duration:20,icons:[],mediaFiles:[],skipDelay:null,trackingEvents:{},type:"linear",videoClickThroughURLTemplate:"",videoClickTrackingURLTemplates:[],videoCustomClickURLTemplates:[]}],errorURLTemplates:[],extensions:[],id:"xxx",impressionURLTemplates:[],sequence:"0",info:{currentCommercial:-1,totalCommercials:-1,totalCommercialsDuration:-1,offset:0}},d={NORMAL:l.NORMAL,BUMPER:l.BUMPER},p=null,h=-1,f=-1,m=-1,g=-1,v=null;e.subscribe(o,"AdTagParsed"),e.subscribe(function(e,t){p=t,h=t.creatives[0].duration},"AdLoaded"),e.subscribe(function(t,n){e.getVariant()===l.NORMAL&&n&&!n.errorCode&&(g+=v.duration)},"AdStopped"),e.subscribe(function(){g=0,m=f,(v=e.getVideoSlot()).addEventListener("loadedmetadata",a),v.addEventListener("timeupdate",s)},"AdSlotStart"),e.subscribe(function(){e.subscribe(o,"AdTagParsed"),v&&(v.removeEventListener("loadedmetadata",a),v.removeEventListener("timeupdate",s))},"AdSlotComplete"),e.getVariant=function(){return p&&p.variant?p.variant:l.NORMAL},e.getSlotRemainingTime=function(){return m},e.getSlotDuration=function(){return f},Array.prototype.findIndex||Object.defineProperty(Array.prototype,"findIndex",{value:function(e,t){if(null==this)throw new TypeError('"this" is null or not defined');var n=Object(this),i=n.length>>>0;if("function"!=typeof e)throw new TypeError("predicate must be a function");for(var r=0;r<i;){if(e.call(t,n[r],r,n))return r;r++}return-1}})}),(window.ElementLocator=function e(t,n){function i(e,t){return void 0===e?t:e}function r(){}function o(e){for(var t=[];e.parentNode;){if(null!==e.getAttribute("id")){t.unshift("#"+e.getAttribute("id"));break}if(e===e.ownerDocument.documentElement)t.unshift(e.tagName.toLowerCase());else{var n=e,i=1;for(i=1;n.previousElementSibling;i++)n=n.previousElementSibling;t.unshift(e.tagName.toLowerCase()+":nth-child("+i+")")}e=e.parentNode}return t.join(">")}function a(e,t){var n=e.getBoundingClientRect(),i=t.getBoundingClientRect();return n.top<i.top?-1:n.top>i.top?1:0}function s(){var e=function(){if(!v)return null;var e=Array.prototype.slice.call(y.querySelectorAll("img")),t={};return Array.prototype.slice.call(y.querySelectorAll("p")).forEach(function(e){var n=o(e.parentNode);t[n]=t[n]||{a:0,height:0},t[n].a+=1,t[n].height+=e.getBoundingClientRect().height,t[n].node=e.parentNode}),e.forEach(function(e){for(var n=e;n.parentNode;){var i=o(n.parentNode);if(t[i]){t[i].a+=1,t[i].height+=e.getBoundingClientRect().height;break}n=n.parentNode}}),(e=Object.keys(t).sort(function(e,n){return t[n].height-t[e].height}))&&0<e.length?t[e[0]]:null}();A("located content block",e);var t=0,n=null,i=["div","p","section"].map(function(e){return 0<m.length?e+m.split("/").join("\\/"):e}),r=y.body.getBoundingClientRect(),s=y;if(e&&(s=e.node),e=Array.prototype.slice.call(s.querySelectorAll(i.join(","))),[].sort.call(e,a),0<m.length&&1===e.length)return A("only located one element based on",m,"stopping further checks"),e[0];for(f&&(d=b+d,b=0),i=[],A("elements found in the content block",e),s=0;s<e.length;s++){var l=e[s].getBoundingClientRect(),c=(l=e[s].offsetTop||l.top-r.top,e[s].offsetWidth);c<=p?A("skipping element",e[s],"because it does not match height or is smaller than",p):l>b&&l<b+d&&(A(e[s],"in close inspection"),c>=t&&(t=c,i.push(e[s]),A("selected",e[s],t,c)))}return 0<i.length&&(n=i[Math.floor(i.length/2)],A("suitableElements collected",i,"and in the end",n,"selected")),n}var l={},c=i(n,{}),u=i(t,e.b),d=i(c.scanPixelsBelowViewport,600),p=i(c.minimumElementWidth,320),h=i(c.elementFloat,"none"),f=i(c.allowInViewport,!1),m=i(c.elementSelector,""),g=i(c.insertPosition,"afterend"),v=i(c.locateContent,!0),b=0,y=document,A=(i(c.debug,!1)?console.log:r||r).bind(console,"[ElementLocator (unversioned-dev)]");return l.c=function(){return"unversioned-dev"},function(){for(var e=window.frameElement,t=window;e;)e=(t=e.ownerDocument.defaultView).frameElement;y=t.document,b=y.documentElement.clientHeight,(e=s())?((t=y.createElement("div")).setAttribute("id",u),t.style.cssFloat=h,e.insertAdjacentHTML?e.insertAdjacentHTML(g,t.outerHTML):e.appendChild(t),l.element=e,l.container=y.querySelector("#"+t.getAttribute("id")),l.containerId=t.getAttribute("id")):(A("could not locate a suitable element, bailing"),A("innerHeight",b,"options",n))}(),l}).b=window.ElementLocator.generateRandomID=function(){return"sc-"+Math.random().toString(36).substring(7)},function(e,t,n,i){function r(e,t,n){return setTimeout(c(e,n),t)}function o(e,t,n){return!!Array.isArray(e)&&(a(e,n[t],n),!0)}function a(e,t,n){var r;if(e)if(e.forEach)e.forEach(t,n);else if(e.length!==i)for(r=0;r<e.length;)t.call(n,e[r],r,e),r++;else for(r in e)e.hasOwnProperty(r)&&t.call(n,e[r],r,e)}function s(t,n,i){var r="DEPRECATED METHOD: "+n+"\n"+i+" AT \n";return function(){var n=(n=Error("get-stack-trace"))&&n.stack?n.stack.replace(/^[^\(]+?[\n$]/gm,"").replace(/^\s+at\s+/gm,"").replace(/^Object.<anonymous>\s*\(/gm,"{anonymous}()@"):"Unknown Stack Trace",i=e.console&&(e.console.warn||e.console.log);return i&&i.call(e.console,r,n),t.apply(this,arguments)}}function l(e,t,n){var i;t=t.prototype,(i=e.prototype=Object.create(t)).constructor=e,i._super=t,n&&Q(i,n)}function c(e,t){return function(){return e.apply(t,arguments)}}function u(e,t){return"function"==typeof e?e.apply(t&&t[0]||i,t):e}function d(e,t,n){a(f(t),function(t){e.addEventListener(t,n,!1)})}function p(e,t,n){a(f(t),function(t){e.removeEventListener(t,n,!1)})}function h(e,t){for(;e;){if(e==t)return!0;e=e.parentNode}return!1}function f(e){return e.trim().split(/\s+/g)}function m(e,t,n){if(e.indexOf&&!n)return e.indexOf(t);for(var i=0;i<e.length;){if(n&&e[i][n]==t||!n&&e[i]===t)return i;i++}return-1}function g(e){return Array.prototype.slice.call(e,0)}function v(e,t,n){for(var i=[],r=[],o=0;o<e.length;){var a=t?e[o][t]:e[o];0>m(r,a)&&i.push(e[o]),r[o]=a,o++}return n&&(i=t?i.sort(function(e,n){return e[t]>n[t]}):i.sort()),i}function b(e,t){for(var n,r=t[0].toUpperCase()+t.slice(1),o=0;o<q.length;){if((n=(n=q[o])?n+r:t)in e)return n;o++}return i}function y(t){return(t=t.ownerDocument||t).defaultView||t.parentWindow||e}function A(e,t){var n=this;this.manager=e,this.callback=t,this.element=e.element,this.target=e.options.inputTarget,this.domHandler=function(t){u(e.options.enable,[e])&&n.handler(t)},this.init()}function T(e){var t=e.options.inputClass;return new(t||(re?L:oe?I:ie?V:S))(e,w)}function w(e,t,n){var r,o,a=n.pointers.length,s=n.changedPointers.length;r=1&t&&0==a-s,n.isFirst=!!r,n.isFinal=!!(12&t&&0==a-s),r&&(e.session={}),n.eventType=t,t=e.session,s=(a=n.pointers).length,t.firstInput||(t.firstInput=k(n)),1<s&&!t.firstMultiple?t.firstMultiple=k(n):1===s&&(t.firstMultiple=!1),r=t.firstInput,o=(s=t.firstMultiple)?s.center:r.center;var l=n.center=C(a);n.timeStamp=K(),n.deltaTime=n.timeStamp-r.timeStamp,n.angle=x(o,l),n.distance=E(o,l),r=n.center,o=t.offsetDelta||{};l=t.prevDelta||{};var c=t.prevInput||{};1!==n.eventType&&4!==c.eventType||(l=t.prevDelta={x:c.deltaX||0,y:c.deltaY||0},o=t.offsetDelta={x:r.x,y:r.y}),n.deltaX=l.x+(r.x-o.x),n.deltaY=l.y+(r.y-o.y),n.offsetDirection=R(n.deltaX,n.deltaY),o=n.deltaTime,r=n.deltaX/o||0,o=n.deltaY/o||0,n.overallVelocityX=r,n.overallVelocityY=o,n.overallVelocity=$(r)>$(o)?r:o,s?(r=s.pointers,r=E(a[0],a[1],se)/E(r[0],r[1],se)):r=1,n.scale=r,s?(s=s.pointers,a=x(a[1],a[0],se)+x(s[1],s[0],se)):a=0,n.rotation=a,n.maxPointers=t.prevInput?n.pointers.length>t.prevInput.maxPointers?n.pointers.length:t.prevInput.maxPointers:n.pointers.length,o=t.lastInterval||n,a=n.timeStamp-o.timeStamp,8!=n.eventType&&(25<a||o.velocity===i)?(r=n.deltaX-o.deltaX,c=(o=n.deltaY-o.deltaY)/a||0,a=l=r/a||0,s=c,l=$(l)>$(c)?l:c,r=R(r,o),t.lastInterval=n):(l=o.velocity,a=o.velocityX,s=o.velocityY,r=o.direction),n.velocity=l,n.velocityX=a,n.velocityY=s,n.direction=r,t=e.element,h(n.srcEvent.target,t)&&(t=n.srcEvent.target),n.target=t,e.emit("hammer.input",n),e.recognize(n),e.session.prevInput=n}function k(e){for(var t=[],n=0;n<e.pointers.length;)t[n]={clientX:_(e.pointers[n].clientX),clientY:_(e.pointers[n].clientY)},n++;return{timeStamp:K(),pointers:t,center:C(t),deltaX:e.deltaX,deltaY:e.deltaY}}function C(e){var t=e.length;if(1===t)return{x:_(e[0].clientX),y:_(e[0].clientY)};for(var n=0,i=0,r=0;r<t;)n+=e[r].clientX,i+=e[r].clientY,r++;return{x:_(n/t),y:_(i/t)}}function R(e,t){return e===t?1:$(e)>=$(t)?0>e?2:4:0>t?8:16}function E(e,t,n){n||(n=ae);var i=t[n[0]]-e[n[0]];return e=t[n[1]]-e[n[1]],Math.sqrt(i*i+e*e)}function x(e,t,n){return n||(n=ae),180*Math.atan2(t[n[1]]-e[n[1]],t[n[0]]-e[n[0]])/Math.PI}function S(){this.evEl=ce,this.evWin=ue,this.pressed=!1,A.apply(this,arguments)}function L(){this.evEl=he,this.evWin=fe,A.apply(this,arguments),this.store=this.manager.session.pointerEvents=[]}function N(){this.evTarget="touchstart",this.evWin="touchstart touchmove touchend touchcancel",this.started=!1,A.apply(this,arguments)}function I(){this.evTarget=ve,this.targetIds={},A.apply(this,arguments)}function V(){A.apply(this,arguments);var e=c(this.handler,this);this.touch=new I(this.manager,e),this.mouse=new S(this.manager,e),this.primaryTouch=null,this.lastTouches=[]}function U(e){if((e=e.changedPointers[0]).identifier===this.primaryTouch){var t={x:e.clientX,y:e.clientY};this.lastTouches.push(t);var n=this.lastTouches;setTimeout(function(){var e=n.indexOf(t);-1<e&&n.splice(e,1)},2500)}}function O(e,t){this.manager=e,this.set(t)}function F(e){this.options=Q({},this.defaults,e||{}),this.id=ne++,this.manager=null,e=this.options.enable,this.options.enable=e===i||e,this.state=1,this.simultaneous={},this.requireFail=[]}function D(e){return 16&e?"cancel":8&e?"end":4&e?"move":2&e?"start":""}function M(e){return 16==e?"down":8==e?"up":2==e?"left":4==e?"right":""}function W(e,t){var n=t.manager;return n?n.get(e):e}function P(){F.apply(this,arguments)}function B(){P.apply(this,arguments),this.pY=this.pX=null}function j(){P.apply(this,arguments)}function X(){F.apply(this,arguments),this._input=this._timer=null}function G(){P.apply(this,arguments)}function H(){P.apply(this,arguments)}function Z(){F.apply(this,arguments),this.pCenter=this.pTime=!1,this._input=this._timer=null,this.count=0}function Y(e,t){var n=(t=t||{}).recognizers;return t.recognizers=n===i?Y.defaults.preset:n,new z(e,t)}function z(e,t){this.options=Q({},Y.defaults,t||{}),this.options.inputTarget=this.options.inputTarget||e,this.handlers={},this.session={},this.recognizers=[],this.oldCssProps={},this.element=e,this.input=T(this),this.touchAction=new O(this,this.options.touchAction),J(this,!0),a(this.options.recognizers,function(e){var t=this.add(new e[0](e[1]));e[2]&&t.recognizeWith(e[2]),e[3]&&t.requireFailure(e[3])},this)}function J(e,t){var n,i=e.element;i.style&&(a(e.options.cssProps,function(r,o){n=b(i.style,o),t?(e.oldCssProps[n]=i.style[n],i.style[n]=r):i.style[n]=e.oldCssProps[n]||""}),t||(e.oldCssProps={}))}var q=" webkit Moz MS ms o".split(" ");n=t.createElement("div");var Q,_=Math.round,$=Math.abs,K=Date.now;Q="function"!=typeof Object.assign?function(e){if(e===i||null===e)throw new TypeError("Cannot convert undefined or null to object");for(var t=Object(e),n=1;n<arguments.length;n++){var r=arguments[n];if(r!==i&&null!==r)for(var o in r)r.hasOwnProperty(o)&&(t[o]=r[o])}return t}:Object.assign;var ee=s(function(e,t,n){for(var r=Object.keys(t),o=0;o<r.length;)(!n||n&&e[r[o]]===i)&&(e[r[o]]=t[r[o]]),o++;return e},"extend","Use `assign`."),te=s(function(e,t){return ee(e,t,!0)},"merge","Use `assign`."),ne=1,ie="ontouchstart"in e,re=b(e,"PointerEvent")!==i,oe=ie&&/mobile|tablet|ip(ad|hone|od)|android/i.test(navigator.userAgent),ae=["x","y"],se=["clientX","clientY"];A.prototype={handler:function(){},init:function(){this.evEl&&d(this.element,this.evEl,this.domHandler),this.evTarget&&d(this.target,this.evTarget,this.domHandler),this.evWin&&d(y(this.element),this.evWin,this.domHandler)},destroy:function(){this.evEl&&p(this.element,this.evEl,this.domHandler),this.evTarget&&p(this.target,this.evTarget,this.domHandler),this.evWin&&p(y(this.element),this.evWin,this.domHandler)}};var le={mousedown:1,mousemove:2,mouseup:4},ce="mousedown",ue="mousemove mouseup";l(S,A,{handler:function(e){var t=le[e.type];1&t&&0===e.button&&(this.pressed=!0),2&t&&1!==e.which&&(t=4),this.pressed&&(4&t&&(this.pressed=!1),this.callback(this.manager,t,{pointers:[e],changedPointers:[e],pointerType:"mouse",srcEvent:e}))}});var de={pointerdown:1,pointermove:2,pointerup:4,pointercancel:8,pointerout:8},pe={2:"touch",3:"pen",4:"mouse",5:"kinect"},he="pointerdown",fe="pointermove pointerup pointercancel";e.MSPointerEvent&&!e.PointerEvent&&(he="MSPointerDown",fe="MSPointerMove MSPointerUp MSPointerCancel"),l(L,A,{handler:function(e){var t=this.store,n=!1,i=e.type.toLowerCase().replace("ms",""),r=(i=de[i],pe[e.pointerType]||e.pointerType),o="touch"==r,a=m(t,e.pointerId,"pointerId");1&i&&(0===e.button||o)?0>a&&(t.push(e),a=t.length-1):12&i&&(n=!0),0>a||(t[a]=e,this.callback(this.manager,i,{pointers:t,changedPointers:[e],pointerType:r,srcEvent:e}),n&&t.splice(a,1))}});var me={touchstart:1,touchmove:2,touchend:4,touchcancel:8};l(N,A,{handler:function(e){var t=me[e.type];if(1===t&&(this.started=!0),this.started){var n;n=g(e.touches);var i=g(e.changedTouches);12&t&&(n=v(n.concat(i),"identifier",!0)),n=[n,i],12&t&&0==n[0].length-n[1].length&&(this.started=!1),this.callback(this.manager,t,{pointers:n[0],changedPointers:n[1],pointerType:"touch",srcEvent:e})}}});var ge={touchstart:1,touchmove:2,touchend:4,touchcancel:8},ve="touchstart touchmove touchend touchcancel";l(I,A,{handler:function(e){var t=ge[e.type],n=function(e,t){var n=g(e.touches),i=this.targetIds;if(3&t&&1===n.length)return i[n[0].identifier]=!0,[n,n];var r,o=g(e.changedTouches),a=[],s=this.target;if(r=n.filter(function(e){return h(e.target,s)}),1===t)for(n=0;n<r.length;)i[r[n].identifier]=!0,n++;for(n=0;n<o.length;)i[o[n].identifier]&&a.push(o[n]),12&t&&delete i[o[n].identifier],n++;return a.length?[v(r.concat(a),"identifier",!0),a]:void 0}.call(this,e,t);n&&this.callback(this.manager,t,{pointers:n[0],changedPointers:n[1],pointerType:"touch",srcEvent:e})}}),l(V,A,{handler:function(e,t,n){var i="touch"==n.pointerType;if(!((r="mouse"==n.pointerType)&&n.sourceCapabilities&&n.sourceCapabilities.firesTouchEvents)){if(i)1&t?(this.primaryTouch=n.changedPointers[0].identifier,U.call(this,n)):12&t&&U.call(this,n);else{if(i=r)e:{i=n.srcEvent.clientX;for(var r=n.srcEvent.clientY,o=0;o<this.lastTouches.length;o++){var a=this.lastTouches[o],s=Math.abs(r-a.y);if(25>=Math.abs(i-a.x)&&25>=s){i=!0;break e}}i=!1}if(i)return}this.callback(e,t,n)}},destroy:function(){this.touch.destroy(),this.mouse.destroy()}});var be=b(n.style,"touchAction"),ye=be!==i,Ae=function(){if(!ye)return!1;var t={},n=e.CSS&&e.CSS.supports;return"auto;manipulation;pan-y;pan-x;pan-x pan-y;none".split(";").forEach(function(i){t[i]=!n||e.CSS.supports("touch-action",i)}),t}();O.prototype={set:function(e){"compute"==e&&(e=this.compute()),ye&&this.manager.element.style&&Ae[e]&&(this.manager.element.style[be]=e),this.actions=e.toLowerCase().trim()},update:function(){this.set(this.manager.options.touchAction)},compute:function(){var e=[];return a(this.manager.recognizers,function(t){u(t.options.enable,[t])&&(e=e.concat(t.getTouchAction()))}),function(e){if(-1<e.indexOf("none"))return"none";var t=-1<e.indexOf("pan-x"),n=-1<e.indexOf("pan-y");return t&&n?"none":t||n?t?"pan-x":"pan-y":-1<e.indexOf("manipulation")?"manipulation":"auto"}(e.join(" "))},preventDefaults:function(e){var t=e.srcEvent,n=e.offsetDirection;if(this.manager.session.prevented)t.preventDefault();else{var i=-1<(o=this.actions).indexOf("none")&&!Ae.none,r=-1<o.indexOf("pan-y")&&!Ae["pan-y"],o=-1<o.indexOf("pan-x")&&!Ae["pan-x"];if(i){var a=2>e.distance,s=250>e.deltaTime;if(1===e.pointers.length&&a&&s)return}if((!o||!r)&&(i||r&&6&n||o&&24&n))return this.preventSrc(t)}},preventSrc:function(e){this.manager.session.prevented=!0,e.preventDefault()}},F.prototype={defaults:{},set:function(e){return Q(this.options,e),this.manager&&this.manager.touchAction.update(),this},recognizeWith:function(e){if(o(e,"recognizeWith",this))return this;var t=this.simultaneous;return t[(e=W(e,this)).id]||(t[e.id]=e,e.recognizeWith(this)),this},dropRecognizeWith:function(e){return o(e,"dropRecognizeWith",this)?this:(e=W(e,this),delete this.simultaneous[e.id],this)},requireFailure:function(e){if(o(e,"requireFailure",this))return this;var t=this.requireFail;return-1===m(t,e=W(e,this))&&(t.push(e),e.requireFailure(this)),this},dropRequireFailure:function(e){return o(e,"dropRequireFailure",this)?this:(e=W(e,this),-1<(e=m(this.requireFail,e))&&this.requireFail.splice(e,1),this)},hasRequireFailures:function(){return 0<this.requireFail.length},canRecognizeWith:function(e){return!!this.simultaneous[e.id]},emit:function(e){function t(t){n.manager.emit(t,e)}var n=this,i=this.state;8>i&&t(n.options.event+D(i)),t(n.options.event),e.additionalEvent&&t(e.additionalEvent),8<=i&&t(n.options.event+D(i))},tryEmit:function(e){if(this.canEmit())return this.emit(e);this.state=32},canEmit:function(){for(var e=0;e<this.requireFail.length;){if(!(33&this.requireFail[e].state))return!1;e++}return!0},recognize:function(e){e=Q({},e),u(this.options.enable,[this,e])?(56&this.state&&(this.state=1),this.state=this.process(e),30&this.state&&this.tryEmit(e)):(this.reset(),this.state=32)},process:function(){},getTouchAction:function(){},reset:function(){}},l(P,F,{defaults:{pointers:1},attrTest:function(e){var t=this.options.pointers;return 0===t||e.pointers.length===t},process:function(e){var t=this.state,n=e.eventType,i=6&t;return e=this.attrTest(e),i&&(8&n||!e)?16|t:i||e?4&n?8|t:2&t?4|t:2:32}}),l(B,P,{defaults:{event:"pan",threshold:10,pointers:1,direction:30},getTouchAction:function(){var e=this.options.direction,t=[];return 6&e&&t.push("pan-y"),24&e&&t.push("pan-x"),t},directionTest:function(e){var t=this.options,n=!0,i=e.distance,r=e.direction,o=e.deltaX,a=e.deltaY;return r&t.direction||(6&t.direction?(r=0===o?1:0>o?2:4,n=o!=this.pX,i=Math.abs(e.deltaX)):(r=0===a?1:0>a?8:16,n=a!=this.pY,i=Math.abs(e.deltaY))),e.direction=r,n&&i>t.threshold&&r&t.direction},attrTest:function(e){return P.prototype.attrTest.call(this,e)&&(2&this.state||!(2&this.state)&&this.directionTest(e))},emit:function(e){this.pX=e.deltaX,this.pY=e.deltaY;var t=M(e.direction);t&&(e.additionalEvent=this.options.event+t),this._super.emit.call(this,e)}}),l(j,P,{defaults:{event:"pinch",threshold:0,pointers:2},getTouchAction:function(){return["none"]},attrTest:function(e){return this._super.attrTest.call(this,e)&&(Math.abs(e.scale-1)>this.options.threshold||2&this.state)},emit:function(e){1!==e.scale&&(e.additionalEvent=this.options.event+(1>e.scale?"in":"out")),this._super.emit.call(this,e)}}),l(X,F,{defaults:{event:"press",pointers:1,time:251,threshold:9},getTouchAction:function(){return["auto"]},process:function(e){var t=this.options,n=e.pointers.length===t.pointers,i=e.distance<t.threshold,o=e.deltaTime>t.time;if(this._input=e,!i||!n||12&e.eventType&&!o)this.reset();else if(1&e.eventType)this.reset(),this._timer=r(function(){this.state=8,this.tryEmit()},t.time,this);else if(4&e.eventType)return 8;return 32},reset:function(){clearTimeout(this._timer)},emit:function(e){8===this.state&&(e&&4&e.eventType?this.manager.emit(this.options.event+"up",e):(this._input.timeStamp=K(),this.manager.emit(this.options.event,this._input)))}}),l(G,P,{defaults:{event:"rotate",threshold:0,pointers:2},getTouchAction:function(){return["none"]},attrTest:function(e){return this._super.attrTest.call(this,e)&&(Math.abs(e.rotation)>this.options.threshold||2&this.state)}}),l(H,P,{defaults:{event:"swipe",threshold:10,velocity:.3,direction:30,pointers:1},getTouchAction:function(){return B.prototype.getTouchAction.call(this)},attrTest:function(e){var t,n=this.options.direction;return 30&n?t=e.overallVelocity:6&n?t=e.overallVelocityX:24&n&&(t=e.overallVelocityY),this._super.attrTest.call(this,e)&&n&e.offsetDirection&&e.distance>this.options.threshold&&e.maxPointers==this.options.pointers&&$(t)>this.options.velocity&&4&e.eventType},emit:function(e){var t=M(e.offsetDirection);t&&this.manager.emit(this.options.event+t,e),this.manager.emit(this.options.event,e)}}),l(Z,F,{defaults:{event:"tap",pointers:1,taps:1,interval:300,time:250,threshold:9,posThreshold:10},getTouchAction:function(){return["manipulation"]},process:function(e){var t=this.options,n=e.pointers.length===t.pointers,i=e.distance<t.threshold,o=e.deltaTime<t.time;if(this.reset(),1&e.eventType&&0===this.count)return this.failTimeout();if(i&&o&&n){if(4!=e.eventType)return this.failTimeout();if(n=!this.pTime||e.timeStamp-this.pTime<t.interval,i=!this.pCenter||E(this.pCenter,e.center)<t.posThreshold,this.pTime=e.timeStamp,this.pCenter=e.center,this.count=i&&n?this.count+1:1,this._input=e,0==this.count%t.taps)return this.hasRequireFailures()?(this._timer=r(function(){this.state=8,this.tryEmit()},t.interval,this),2):8}return 32},failTimeout:function(){return this._timer=r(function(){this.state=32},this.options.interval,this),32},reset:function(){clearTimeout(this._timer)},emit:function(){8==this.state&&(this._input.tapCount=this.count,this.manager.emit(this.options.event,this._input))}}),Y.VERSION="2.0.7",Y.defaults={domEvents:!1,touchAction:"compute",enable:!0,inputTarget:null,inputClass:null,preset:[[G,{enable:!1}],[j,{enable:!1},["rotate"]],[H,{direction:6}],[B,{direction:6},["swipe"]],[Z],[Z,{event:"doubletap",taps:2},["tap"]],[X]],cssProps:{userSelect:"none",touchSelect:"none",touchCallout:"none",contentZooming:"none",userDrag:"none",tapHighlightColor:"rgba(0,0,0,0)"}},z.prototype={set:function(e){return Q(this.options,e),e.touchAction&&this.touchAction.update(),e.inputTarget&&(this.input.destroy(),this.input.target=e.inputTarget,this.input.init()),this},stop:function(e){this.session.stopped=e?2:1},recognize:function(e){var t=this.session;if(!t.stopped){this.touchAction.preventDefaults(e);var n,i=this.recognizers,r=t.curRecognizer;(!r||r&&8&r.state)&&(r=t.curRecognizer=null);for(var o=0;o<i.length;)n=i[o],2===t.stopped||r&&n!=r&&!n.canRecognizeWith(r)?n.reset():n.recognize(e),!r&&14&n.state&&(r=t.curRecognizer=n),o++}},get:function(e){if(e instanceof F)return e;for(var t=this.recognizers,n=0;n<t.length;n++)if(t[n].options.event==e)return t[n];return null},add:function(e){if(o(e,"add",this))return this;var t=this.get(e.options.event);return t&&this.remove(t),this.recognizers.push(e),e.manager=this,this.touchAction.update(),e},remove:function(e){if(o(e,"remove",this))return this;if(e=this.get(e)){var t=this.recognizers;-1!==(e=m(t,e))&&(t.splice(e,1),this.touchAction.update())}return this},on:function(e,t){if(e!==i&&t!==i){var n=this.handlers;return a(f(e),function(e){n[e]=n[e]||[],n[e].push(t)}),this}},off:function(e,t){if(e!==i){var n=this.handlers;return a(f(e),function(e){t?n[e]&&n[e].splice(m(n[e],t),1):delete n[e]}),this}},emit:function(e,n){this.options.domEvents&&function(e,n){var i=t.createEvent("Event");i.initEvent(e,!0,!0),i.gesture=n,n.target.dispatchEvent(i)}(e,n);var i=this.handlers[e]&&this.handlers[e].slice();if(i&&i.length){n.type=e,n.preventDefault=function(){n.srcEvent.preventDefault()};for(var r=0;r<i.length;)i[r](n),r++}},destroy:function(){this.element&&J(this,!1),this.handlers={},this.session={},this.input.destroy(),this.element=null}},Q(Y,{INPUT_START:1,INPUT_MOVE:2,INPUT_END:4,INPUT_CANCEL:8,STATE_POSSIBLE:1,STATE_BEGAN:2,STATE_CHANGED:4,STATE_ENDED:8,STATE_RECOGNIZED:8,STATE_CANCELLED:16,STATE_FAILED:32,DIRECTION_NONE:1,DIRECTION_LEFT:2,DIRECTION_RIGHT:4,DIRECTION_UP:8,DIRECTION_DOWN:16,DIRECTION_HORIZONTAL:6,DIRECTION_VERTICAL:24,DIRECTION_ALL:30,Manager:z,Input:A,TouchAction:O,TouchInput:I,MouseInput:S,PointerEventInput:L,TouchMouseInput:V,SingleTouchInput:N,Recognizer:F,AttrRecognizer:P,Tap:Z,Pan:B,Swipe:H,Pinch:j,Rotate:G,Press:X,on:d,off:p,each:a,merge:te,extend:ee,assign:Q,inherit:l,bindFn:c,prefixed:b}),(void 0!==e?e:"undefined"!=typeof self?self:{}).Hammer=Y}(window,document,"Hammer"),function(){function e(e,t){var n={},i=1/0,r=void 0;return n.isSticky=!1,n.isStickyTop=!1,n.isStickyBottom=!1,n.$placeHolder=!1,n.init=function(){i=1/0,n.isSticky=!1,r=setInterval(n.onScroll,16)},n.onChange=function(){},n.onStartScroll=function(){},n.addPlaceHolder=function(){var e=s.elements.iframe.contentWindow.document.body.querySelector("video");n.$placeHolder=document.createElement("canvas"),n.$placeHolder.width=s.size.width,n.$placeHolder.height=s.size.height,n.$placeHolder.style.cssText="position:absolute;",n.$placeHolder.getContext("2d").drawImage(e,0,0,s.size.width,s.size.height),e=s.elements.backdrop.parentNode.style.transitionDuration,s.elements.backdrop.parentNode.style.transitionDuration="0s",s.elements.backdrop.parentNode.style.paddingBottom=parseInt(c.$placeHolder.height,10)-parseInt(s.size.height,10)+"px",s.elements.backdrop.parentNode.style.transitionDuration=e,s.elements.backdrop.insertAdjacentElement("afterend",n.$placeHolder)},n.removePlaceHolder=function(){n.$placeHolder&&(n.$placeHolder.parentNode.removeChild(n.$placeHolder),s.elements.backdrop.parentNode.style.paddingBottom="0px"),n.$placeHolder=!1},n.enter=function(){t.style.position="fixed",n.$placeHolder||n.addPlaceHolder(),u?(s.elements.iframe.style.left=e.getBoundingClientRect().left+"px",n.isStickyTop?(t.style.top=0,t.style.bottom="auto"):(t.style.bottom=0,t.style.top="auto")):(s.elements.iframe.style.top="auto",s.elements.iframe.style.left="auto",s.elements.iframe.style.bottom=o.sticky.marginBottom,s.elements.iframe.style.right=o.sticky.marginRight)},n.leave=function(){t.style.transition="none",t.style.position="relative",t.style.top="auto",t.style.bottom="auto",s.elements.iframe.style.left="auto",s.elements.iframe.style.right="auto"},n.onScroll=function(){var t=e.getBoundingClientRect().top,r=e.getBoundingClientRect().bottom,a=document.documentElement.clientHeight;i!==t&&(i=t,n.onStartScroll(),!n.isSticky&&("top"===o.sticky.position||"both"===o.sticky.position)&&0>=t&&!n.isStickyTop||("bottom"===o.sticky.position||"both"===o.sticky.position)&&r>=a&&!n.isStickyBottom?(n.isSticky=!0,n.isStickyTop=0>=t,n.isStickyBottom=!n.isStickyTop,n.enter()):("bottom"===o.sticky.position||"both"===o.sticky.position)&&r<a&&n.isStickyBottom&&(n.isSticky=!1,n.isStickyTop=!1,n.isStickyBottom=!1,n.leave()),n.onChange(n.isSticky))},n.shutdown=function(){clearInterval(r)},n.init(),n}function t(e,t,n){function i(){a||(r.onSwipeFinal(),a=!0)}var r={},o=void 0,a=!1;return r.isShuttingDown=!1,r.isEnabled=!0,r.enable=function(){r.isEnabled=!0},r.disable=function(){r.isEnabled=!1},r.init=function(){(o=new Hammer(e)).on("tap",function(e){r.onTap(e)}),o.on("panleft panright",r.onSwipe),o.on("panend",r.onSwipeEnd),a=!1,r.isShuttingDown=!1},r.resetPosition=function(){r.isShuttingDown||(t.style.transition="none",t.style.transform="translateX(0)")},r.onTap=function(){},r.onSwipeFinal=function(){},r.onSwipe=function(e){if(r.isEnabled&&c.isSticky&&(r.isShuttingDown||(t.style.transition="none",t.style.transform="translateX("+e.deltaX+"px)"),n/100*66<Math.abs(e.deltaX))){t.addEventListener("transitionend",i),r.isShuttingDown=!0,t.style.transition="transform .5s ease-in-out";var o=window.innerWidth;t.style.transform=0<e.deltaX?"translateX("+o+"px)":"translateX("+-o+"px)"}},r.onSwipeEnd=function(){r.isShuttingDown||(t.style.transition="transform .5s ease-in-out",t.style.transform="translateX(0)")},r.shutdown=function(){m&&(m.style.zIndex="auto",m.style.overflow="auto"),t&&(t.style.transform="translateX(0)",t.style.transition="transform .5s ease-in-out"),o.off("tap"),o.off("panleft panright"),o.off("panend"),t&&t.removeEventListener("transitionend",i)},r.init(),r}function n(){var n={},i=void 0;return m=s.elements.iframe.parentNode,d=s.publisherConfig.behaviourMatrix.offScreen.paused,p=s.publisherConfig.behaviourMatrix.offScreen.muted,h=s.elements.iframe.contentDocument.body.style.background,f=s.size.width+"px",n.init=function(){if(o.sticky.enabled){c=new e(s.elements.backdrop,s.elements.iframe),m.style.zIndex=9999,m.style.textAlign="start",m.style.overflow="visible";var n=s.elements.iframe.contentWindow.document.body.querySelector("#click-slot");n&&(n.style.cursor="pointer"),c.onStartScroll=function(){i&&(i.resetPosition(),i.disable())},c.onChange=function(e){!u&&e&&(500<s.size.width&&(s.elements.backdrop.parentNode.style.transitionDuration="0s",s.elements.backdrop.parentNode.style.width=e?"500px":f),c.$placeHolder&&(s.elements.backdrop.parentNode.style.transitionDuration="0s",s.elements.backdrop.parentNode.style.paddingBottom=parseInt(c.$placeHolder.height,10)-parseInt(s.size.height,10)+"px"),r(e)),e?(s.publisherConfig.behaviourMatrix.offScreen.paused=!1,s.publisherConfig.visibilityThreshold=-1,s.publisherConfig.requiredVisibility=-1,a.getAdVolume()&&!s.environmentVars.muted&&(s.publisherConfig.behaviourMatrix.offScreen.muted=!1,s.publisherConfig.behaviourMatrix.onScreen.muted=!1)):(s.publisherConfig.behaviourMatrix.offScreen.paused=!0,s.publisherConfig.behaviourMatrix.offScreen.muted=!0),i&&i.enable()}}o.swipeable.enabled&&(s.elements.iframe.contentDocument.body.style.background="transparent",(i=new t(s.elements.iframe.contentWindow.document.body.querySelector("#slots-wrapper"),s.elements.iframe.contentDocument.body,m.getBoundingClientRect().width)).onSwipeFinal=function(){a.skipAd()})},n.shutdown=function(){s.publisherConfig.behaviourMatrix.offScreen.paused=d,s.publisherConfig.behaviourMatrix.offScreen.muted=p,s.elements.iframe.contentDocument.body.style.background=h,s.elements.backdrop.parentNode.style.width="",s.elements.backdrop.parentNode.style.height="",s.elements.iframe.style.left="auto",r(!1),i&&i.shutdown(),c&&(c.leave(),c.shutdown())},n.init(),n}function i(){var e=void 0;return l.extensions.map(function(t){"SmartPlayConfig"===t.attributes.name&&t.children.map(function(t){"featureMatrix"===t.name&&t.children.map(function(t){e||(e={}),e[t.name]=t.attributes})})}),function(e){if(e){switch(e.sticky||(e.sticky={}),e.sticky.enabled="true"===(e.sticky.enabled+"").toLowerCase(),e.swipeable.enabled="true"===(e.swipeable.enabled+"").toLowerCase(),a.adManager.isVPAID()&&(e.swipeable.enabled=!1),u||(e.swipeable.enabled=!1),e.sticky.marginBottom=parseInt(e.sticky.marginBottom,10),e.sticky.marginBottom=(Number.isFinite(e.sticky.marginBottom)?e.sticky.marginBottom:100)+"px",e.sticky.marginRight=parseInt(e.sticky.marginRight,10),e.sticky.marginRight=(Number.isFinite(e.sticky.marginRight)?e.sticky.marginRight:30)+"px",(e.sticky.position+"").toLowerCase()){case"bottom":e.sticky.position="bottom";break;case"both":e.sticky.position="both";break;default:e.sticky.position="top"}return e}}(e)}function r(e){var t=s.elements.iframeDocument.querySelector("#skip");e?(s.publisherConfig.skipOffset&&0>s.publisherConfig.skipOffset&&(s.publisherConfig.skipOffset=6),t.classList.add("active")):t.classList.remove("active")}var o,a,s,l=void 0,c=void 0,u=/mobile/i.test(navigator.userAgent),d=void 0,p=void 0,h=void 0,f=void 0,m=void 0;window.ois(function(e){var t=void 0;(a=e).subscribe(function(){c&&c.removePlaceHolder(),t&&t.shutdown()},"AdStopped"),a.subscribe(function(e,t){l=t,o=i()},"AdLoaded"),a.subscribe(function(){o&&window.SmartPlay(function(e){s=e,t=new n})},"AdVideoStart")})}(),window.ois(function(e){function t(){r("AdSizeChange")}function n(){o.map(function(t){return e.subscribe(r,t)}),e.getVideoSlot().addEventListener("fullscreenchange",t),e.getVideoSlot().addEventListener("mozfullscreenchange",t),e.getVideoSlot().addEventListener("webkitfullscreenchange",t)}function i(t){var n=a[t];n.api=n.contentWindow.vendorAdapter.getAPI(),n.b=n.api.handshakeVersion("1.0.0"),0!==n.b.indexOf("1.")?(console.warn(">> Meetrics.js::initAdVerificationAdapter() - adapter",t,"has handshake",n.b,"does not match ours","1.0.0"),n.isValidHandshake=!1):(n.isValidHandshake=!0,n.api.subscribe("VendorReady",function(){n.api.getInstructions()}),t=e.getSlot(),e.adManager.isVPAID()||document.body.appendChild(t),n.api.initService({vendorData:{},slots:{slot:t,videoSlot:e.getPlayerSlot()},timeout:500}))}function r(n){var i={type:n,timestamp:(new Date).getTime(),data:{adData:{viewMode:"normal",adWidth:e.utils.getWidth(),adVolume:e.getAdMutedState()?0:e.getAdVolume(),adSkippableState:!1,adRemainingTime:e.getAdRemainingTime(),remainingTime:e.getAdRemainingTime(),adLinear:"linear"===(s.creatives[0].type||"").toLowerCase(),adHeight:e.utils.getHeight(),adExpanded:!1,adDuration:e.getAdDuration()},eventData:{}}};switch(n){case"AdInteraction":i.data.eventData.Id="";break;case"AdError":i.data.eventData.message="";break;case"AdClickThru":i.data.eventData.url="",i.data.eventData.Id="",i.data.eventData.playerHandles="";break;case"AdStopped":e.getVideoSlot()&&(e.getVideoSlot().removeEventListener("fullscreenchange",t),e.getVideoSlot().removeEventListener("mozfullscreenchange",t),e.getVideoSlot().removeEventListener("webkitfullscreenchange",t)),o.map(function(t){e.unsubscribe(r,t)})}a.map(function(e){e.a||(e.a=[]),e.api&&e.isValidHandshake?(0<e.a.length&&(e.a.map(function(t){e.api.update(t)}),e.a=[]),e.api.update(i)):e.a.push(i)})}var o="AdLoaded AdStarted AdStopped AdSkipped AdSkippableStateChange AdSizeChange AdLinearChange AdDurationChange AdExpandedChange AdRemainingTimeChange AdVolumeChange AdImpression AdVideoStart AdVideoFirstQuartile AdVideoMidpoint AdVideoThirdQuartile AdVideoComplete AdClickThru AdInteraction AdUserAcceptInvitation AdUserMinimize AdUserClose AdPaused AdPlaying AdLog AdError".split(" "),a=void 0,s=void 0;e.getVideoSlot&&e.subscribe(function(e,t){a=[],0!==(a=(a=(a=(s=t)&&s.adVerifications?s.adVerifications.filter(function(e){return"meetrics"===(e.vendor+"").toLowerCase()&&e.javascriptResource&&0<(e.javascriptResource.url+"").length}):[]).concat(function(){var e=[];return s&&s.extensions&&s.extensions.map(function(t){"smartadverifications"===(t.attributes.name+"").toLowerCase()&&t.children.map(function(t){"meetrics"===(t.attributes.vendor+"").toLowerCase()&&e.push({vendor:t.attributes.vendor,javascriptResource:{url:t.value}})})}),e}())).filter(function(e){return 0<e.javascriptResource.url.length})).length&&(n(),a.map(function(e,t){var n=e.javascriptResource.url,r="";0===(n+"").toLowerCase().indexOf("//")&&(r="file:"===location.protocol?"https:":location.protocol),function(e,t){var n=document.createElement("iframe");n.style.cssText="width:0;height:0;top:0;left:0;position:absolute;overflow:hidden;border:none; visibility:hidden",n.id="adverificationloaderframe"+t,document.body.appendChild(n),n.contentWindow.document.write('<script src="'+e+'"><\/script>'),isNaN(a[t].c)&&(a[t].c=5),function e(){n&&n.contentWindow.vendorAdapter&&n.contentWindow.vendorAdapter.getAPI&&"function"==typeof n.contentWindow.vendorAdapter.getAPI?(a[t].f=n,a[t].contentWindow=n.contentWindow,i(t)):0<a[t].c--&&setTimeout(e,100)}()}(r+n,t)}))},"AdLoaded")}),window.ois(function(e,t,n,i){function r(){var t=p.handshakeVersion("1.0.0");console.info(">> Meetrics.js::initAdVerificationAdapter() - handshakeVersion:",t),0!==t.indexOf("1.")?l():(p.subscribe("VendorReady",function(){p.getInstructions()}),t=e.getSlot(),e.adManager.isVPAID()||document.body.appendChild(t),p.initService({vendorData:{},slots:{slot:t,videoSlot:e.getVideoSlot()},timeout:500}),e.getVideoSlot().addEventListener("fullscreenchange",o),e.getVideoSlot().addEventListener("mozfullscreenchange",o),e.getVideoSlot().addEventListener("webkitfullscreenchange",o))}function o(){s("AdSizeChange")}function a(){c.map(function(t){return e.subscribe(s,t)})}function s(t,n){var i={type:t,timestamp:(new Date).getTime(),data:{adData:{viewMode:"normal",adWidth:e.utils.getWidth(),adVolume:e.getAdVolume(),adSkippableState:!1,adRemainingTime:e.getAdRemainingTime(),remainingTime:e.getAdRemainingTime(),adLinear:"linear"===(h.creatives[0].type||"").toLowerCase(),adHeight:e.utils.getHeight(),adExpanded:!1,adDuration:e.getAdDuration()},eventData:{}}};switch(t){case"AdInteraction":i.data.eventData.Id="";break;case"AdError":i.data.eventData.message="";break;case"AdClickThru":i.data.eventData.url="",i.data.eventData.Id="",i.data.eventData.playerHandles="";break;case"AdStopped":l()}"AdRemainingTimeChange"!==t&&"AdDurationChange"!==t&&console.warn(">> Meetrics.js::()",i,n),p?(0<u.length&&(u.map(function(e){p.update(e)}),u=[]),p.update(i)):u.push(i)}function l(){console.info(">> Meetrics.js::dispose()"),c.map(function(t){e.unsubscribe(s,t)}),u=[],p=d=null}var c="AdLoaded AdStarted AdStopped AdSkipped AdSkippableStateChange AdSizeChange AdLinearChange AdDurationChange AdExpandedChange AdRemainingTimeChange AdVolumeChange AdImpression AdVideoStart AdVideoFirstQuartile AdVideoMidpoint AdVideoThirdQuartile AdVideoComplete AdClickThru AdInteraction AdUserAcceptInvitation AdUserMinimize AdUserClose AdPaused AdPlaying AdLog AdError".split(" "),u=void 0,d=void 0,p=void 0,h=void 0;e.getVideoSlot&&e.subscribe(function(e,t){i.config.adVerification.meetrics&&(u=[],h=t,d=function(){if(h&&h.adVerifications)return h.adVerifications.filter(function(e){return"meetrics"===(e.vendor+"").toLowerCase()&&e.javascriptResource&&0<(e.javascriptResource.url+"").length})[0]}())&&(a(),function(){var e=d.javascriptResource.url+"&meetricsDebug=true",t=document.createElement("iframe");t.style="width:0;height:0;top:0;left:0;position:absolute;overflow:hidden;border:none; visibility:hidden",t.id="adverificationloaderframe",document.body.appendChild(t),t.contentWindow.document.write('<script src="'+e+'"><\/script>');var n=setInterval(function(){t.contentWindow&&t.contentWindow.vendorAdapter&&t.contentWindow.vendorAdapter.getAPI&&"function"==typeof t.contentWindow.vendorAdapter.getAPI&&(clearInterval(n),p=t.contentWindow.vendorAdapter.getAPI(),r())},20)}())},"AdLoaded")}),window.ois(function(e){function t(e){var t=["PartnerCode","Advertiser","Campaign","LineItem","Creative"];return t.filter(function(t){return e[t]&&0<(e[t]+"").length}).length===t.length}function n(){o.map(function(t){return e.subscribe(r,t)})}function i(t,n){var i=document.createElement("iframe");i.style.cssText="width:0;height:0;top:0;left:0;position:absolute;overflow:hidden;border:none; visibility:hidden",i.id="adverificationMoat"+n,document.body.appendChild(i),i.contentWindow.document.write('<script src="'+t+'"><\/script>'),function t(){if(i&&i.contentWindow.initMoatTracking){s[n].c=i,s[n].contentWindow=i.contentWindow;var r=e.getPlayerSlot();s[n].b=s[n].contentWindow.initMoatTracking(r,{level1:s[n].adParameters.Advertiser,level2:s[n].adParameters.Campaign,level3:s[n].adParameters.LineItem,level4:s[n].adParameters.Creative,slicer1:s[n].adParameters.Site,slicer2:s[n].adParameters.Placement},a.creatives[0].duration,s[n].adParameters.PartnerCode,void 0)}else setTimeout(t,100)}()}function r(t){var n={type:t,adVolume:e.getAdMutedState()?0:e.getAdVolume()};s.map(function(e){e.a||(e.a=[]),e.b?(0<e.a.length&&(e.a.map(function(t){e.b.dispatchEvent(t)}),e.a=[]),e.b.dispatchEvent(n)):e.a.push(n)}),"AdVideoComplete"===t&&(o.map(function(t){e.unsubscribe(r,t)}),s=null)}var o="AdStopped AdVideoStart AdVideoFirstQuartile AdVideoMidpoint AdVideoThirdQuartile AdVideoComplete AdPaused AdPlaying AdVolumeChange".split(" "),a=void 0,s=[];e.getVideoSlot&&e.subscribe(function(e,r){s=[],0!==(s=(s=(a=r)&&a.adVerifications?a.adVerifications.filter(function(e){return"moat"===(e.vendor+"").toLowerCase()&&e.javascriptResource&&0<(e.javascriptResource.url+"").length&&e.adParameters&&t(e.adParameters)}):[]).concat(function(){var e=[];return a&&a.extensions&&a.extensions.map(function(n){"smartadverifications"===(n.attributes.name+"").toLowerCase()&&n.children.map(function(n){if("moat"===(n.attributes.vendor+"").toLowerCase()){var i=n.children.map(function(e){if("AdParameters"===e.name){var t={};return e.children.map(function(e){t[e.name]=e.value}),t}}).filter(function(e){return e&&t(e)})[0],r=n.children.map(function(e){if("JavaScriptResource"===e.name)return e.value}).filter(function(e){return!!e})[0];i&&r&&e.push({vendor:n.attributes.vendor,javascriptResource:{url:r},adParameters:i})}})}),e}())).length&&(n(),s.map(function(e,t){var n=e.javascriptResource.url,r="";0===(n+"").toLowerCase().indexOf("//")&&(r="file:"===location.protocol?"https:":location.protocol),i(r+n,t)}))},"AdLoaded")}),function(){function e(){this.attributes={},this.children=[]}function t(){this.id=null,this.height=this.width=0,this.companionClickThroughURLTemplate=this.iframeResource=this.htmlResource=this.staticResource=this.type=null,this.trackingEvents={}}function n(){this.program=null,this.yPosition=this.xPosition=this.width=this.height=0,this.offset=this.apiFramework=null,this.duration=0,this.iconClickThroughURLTemplate=this.iframeResource=this.htmlResource=this.staticResource=this.type=null,this.iconClickTrackingURLTemplates=[],this.iconViewTrackingURLTemplate=null}function i(){this.viewableImpression=this.flashResource=this.javascriptResource=this.vendor=null}function r(){this.fileURL=this.id=null,this.deliveryType="progressive",this.codec=this.mimeType=null,this.height=this.width=this.maxBitrate=this.minBitrate=this.bitrate=0,this.maintainAspectRatio=this.scalable=this.apiFramework=null}function o(e){e=void 0===e?{}:e,this.id=e.id||null,this.adId=e.adId||null,this.sequence=e.sequence||null,this.apiFramework=e.apiFramework||null,this.trackingEvents={}}function a(e){e=void 0===e?{}:e,o.call(this,e),this.type="linear",this.duration=0,this.skipDelay=null,this.mediaFiles=[],this.videoClickThroughURLTemplate=null,this.videoClickTrackingURLTemplates=[],this.videoCustomClickURLTemplates=[],this.adParameters=null,this.icons=[]}function s(e){e=void 0===e?{}:e,o.call(this,e),this.type="nonlinear",this.variations=[],this.videoClickTrackingURLTemplates=[]}function l(e){e=void 0===e?{}:e,o.call(this,e),this.type="companion",this.variations=[],this.videoClickTrackingURLTemplates=[]}function c(){this.survey=this.pricing=this.advertiser=this.description=this.title=this.system=this.sequence=this.id=this.url=null,this.errorURLTemplates=[],this.impressionURLTemplates=[],this.creatives=[],this.extensions=[],this.adVerifications=[],this.wrappers=[],this.fetch=function(){},this.fetched=!1}function u(){this.id=null,this.expandedHeight=this.expandedWidth=this.height=this.width=0,this.maintainAspectRatio=this.scalable=!0,this.minSuggestedDuration=0,this.apiFramework="static",this.nonlinearClickThroughURLTemplate=this.iframeResource=this.htmlResource=this.staticResource=this.type=null,this.nonlinearClickTrackingURLTemplates=[],this.adParameters=null}function d(){this.value=this.name=null,this.attributes={},this.children=[]}function p(){this.ads=[],this.errorURLTemplates=[]}function h(){}function f(){}function m(){}function g(){}function v(){this.maxWrapperDepth=10,this.blockInsecureURL=!1,this.currentWrapperDepth=0,this.URLTemplateFilters=[],this.wrapperCallbackHandlers=[],k.EventDispatcher.prototype.apply(this)}var b={scope:{},getGlobal:function(e){return"undefined"!=typeof window&&window===e?e:"undefined"!=typeof global?global:e}};b.global=b.getGlobal(this),b.initSymbol=function(){b.global.Symbol||(b.global.Symbol=b.Symbol),b.initSymbol=function(){}},b.symbolCounter_=0,b.Symbol=function(e){return"jscomp_symbol_"+e+b.symbolCounter_++},b.initSymbolIterator=function(){b.initSymbol(),b.global.Symbol.iterator||(b.global.Symbol.iterator=b.global.Symbol("iterator")),b.initSymbolIterator=function(){}},b.makeIterator=function(e){if(b.initSymbolIterator(),e[b.global.Symbol.iterator])return e[b.global.Symbol.iterator]();if(!(e instanceof Array||"string"==typeof e||e instanceof String))throw new TypeError(e+" is not iterable");var t=0;return{next:function(){return t==e.length?{done:!0}:{done:!1,value:e[t++]}}}},b.arrayFromIterator=function(e){for(var t,n=[];!(t=e.next()).done;)n.push(t.value);return n},b.arrayFromIterable=function(e){return e instanceof Array?e:b.arrayFromIterator(b.makeIterator(e))},b.arrayFromArguments=function(e){for(var t=[],n=0;n<e.length;n++)t.push(e[n]);return t},b.inherits=function(e,t){function n(){}for(var i in n.prototype=t.prototype,e.prototype=new n,e.prototype.constructor=e,t)if(b.global.Object.defineProperties){var r=b.global.Object.getOwnPropertyDescriptor(t,i);void 0!==r&&b.global.Object.defineProperty(e,i,r)}else e[i]=t[i]},Object.defineProperties(t.prototype,{hasCreatives:{configurable:!0,enumerable:!0,get:function(){return this.staticResource||this.htmlResource||this.iframeResource}}}),b.inherits(a,o),b.inherits(s,o),b.inherits(l,o),Object.defineProperties(c.prototype,{hasError:{configurable:!0,enumerable:!0,get:function(){return!isNaN(this.errorCode)}}});var y={isSecureURL:function(e){return"https:"===window.location.protocol&&0!==(e+"").indexOf("http://")||"https:"!==window.location.protocol}},A={extend:function e(t){var n=[];return n.forEach.call(n.slice.call(arguments,1),function(n){if(n)for(var i in n)({}).hasOwnProperty.call(n,i)&&(t[i]="object"==typeof t[i]&&"object"==typeof n[i]&&null!==n[i]?e(t[i],n[i]):n[i])}),t}},T=function(e,t){if(0===e.indexOf("//")){var n=location.protocol;return"file:"===n&&(n="https:"),n+e}return-1===e.indexOf("://")?t.slice(0,t.lastIndexOf("/"))+"/"+e:e},w=function(e){if("string"==typeof e==!1)return e;var t=null;return window.DOMParser?t=(new DOMParser).parseFromString(e,"text/xml"):(t=new ActiveXObject("Microsoft.XMLDOM")).loadXML(e),t};h.prototype.xdr=function(){return window.XDomainRequest?new window.XDomainRequest:null},h.supported=function(){return!!(new h).xdr()},h.prototype.get=function(e,t,n){if("function"!=typeof window.ActiveXObject)n();else{var i=new window.ActiveXObject("b");i.async=!1,xdr=this.xdr(),xdr.open("GET",e),xdr.timeout=t.timeout||0,xdr.withCredentials=!1!==t.withCredentials,xdr.onprogress=function(){},xdr.onload=function(){i.loadXML(xdr.responseText),n(null,i)},xdr.send()}},f.prototype.xhr=function(){var e=new window.XMLHttpRequest;return"withCredentials"in e?e:null},f.supported=function(){return!!(new f).xhr()},f.prototype.get=function(e,t,n){try{var i=this,r=this.xhr();r.open("GET",e),r.timeout=t.timeout||0,r.withCredentials=!1!==t.withCredentials,r.overrideMimeType&&r.overrideMimeType("text/xml"),r.onreadystatechange=function(){if(4===r.readyState)if(200===r.status){var o=r.responseXML;!o&&r.responseText&&(o=w(r.responseText)),o?n(null,o):(r.statusText="Response contains neither 'responseXML' nor 'responseText'",n(Error("XHRURLHandler: "+r.statusText)))}else 0===r.status&&r.withCredentials?((o=JSON.parse(JSON.stringify(t))).withCredentials=!1,i.get(e,o,n)):n(Error("XHRURLHandler: "+r.statusText))},r.send()}catch(e){n(e)}},m.prototype.get=function(e,t,n){var i=n,r=t;return n||("function"==typeof t&&(i=t),r={}),i?(t=r.urlhandler,r.response?(i(null,w(r.response)),null):t&&t.supported()?(new t).get(e,r,i):f.supported()?(new f).get(e,r,i):h.supported()?(new h).get(e,r,i):i()):null};var k={};g.prototype={constructor:g,apply:function(e){e.addEventListener=g.prototype.addEventListener,e.hasEventListener=g.prototype.hasEventListener,e.removeEventListener=g.prototype.removeEventListener,e.dispatchEvent=g.prototype.dispatchEvent},addEventListener:function(e,t){this._listeners||(this._listeners={});var n=this._listeners;n[e]||(n[e]=[]),-1===n[e].indexOf(t)&&n[e].push(t)},hasEventListener:function(e,t){if(!this._listeners)return!1;var n=this._listeners;return!(!n[e]||-1===n[e].indexOf(t))},removeEventListener:function(e,t){if(this._listeners){var n=this._listeners[e];if(n){var i=n.indexOf(t);-1!==i&&n.splice(i,1)}}},dispatchEvent:function(e){if(this._listeners){var t=this._listeners[e];if(t){var n=t.length,i=[],r=0;for(r=0;r<n;r++)i[r]=t[r];for(t=0;t<n;t++)(i[t]||function(){}).apply(this,[].slice.call(arguments,1))}}}},k.EventDispatcher=g,v.prototype.trackError=function(e,t,n,i){this.dispatchEvent("VAST-error",{response:JSON.parse(JSON.stringify(e)),errorCode:n,errorURLTemplates:t,silent:i})},v.prototype.addURLTemplateFilter=function(e){"function"==typeof e&&this.URLTemplateFilters.push(e)},v.prototype.removeURLTemplateFilter=function(){return this.URLTemplateFilters.pop()},v.prototype.countURLTemplateFilters=function(){return this.URLTemplateFilters.length},v.prototype.clearUrlTemplateFilters=function(){this.URLTemplateFilters=[]},v.prototype.addWrapperCallbackHandler=function(e){"function"==typeof e&&this.wrapperCallbackHandlers.push(e)},v.prototype.removeWrapperCallbackHandler=function(){return this.wrapperCallbackHandlers.pop()},v.prototype.countWrapperCallbackHandlers=function(){return this.wrapperCallbackHandlers.length},v.prototype.clearWrapperCallbackHandlers=function(){this.wrapperCallbackHandlers=[]},v.prototype.parseXPosition=function(e){return-1!==["left","right"].indexOf(e)?e:parseInt(e,10)||0},v.prototype.parseYPosition=function(e){return-1!==["top","bottom"].indexOf(e)?e:parseInt(e,10)||0},v.prototype.parseNodeText=function(e){return e&&(e.textContent||e.text||"").trim()},v.prototype.copyNodeAttribute=function(e,t,n){(t=t.getAttribute(e))&&n.setAttribute(e,t)},v.prototype.parseDuration=function(e){if(!e)return-1;if(isNaN(parseFloat(e))&&isFinite(e))return parseInt(e,10);var t=e.split(":");if(3!==t.length)return-1;var n=t[2].split(".");return e=parseInt(n[0],10),2===n.length&&(e+=parseFloat("0."+n[1])),n=parseInt(60*t[1],10),t=parseInt(3600*t[0],10),isNaN(t)||isNaN(n)||isNaN(e)||3600<n||60<e?-1:t+n+e},v.prototype.parseBoolean=function(e,t){return-1<["true","1"].indexOf((e+"").toLowerCase())||!(-1<["false","0"].indexOf((e+"").toLowerCase()))&&(t||!1)},v.prototype.childByName=function(e,t){for(var n=0;n<e.childNodes.length;n++){var i=e.childNodes.item(n);if(i.nodeName===t)return i}return null},v.prototype.childsByName=function(e,t){for(var n=[],i=0;i<e.childNodes.length;i++){var r=e.childNodes.item(i);r.nodeName===t&&n.push(r)}return n},v.prototype.parseNextWrapperURL=function(e){var t=null,n=this.childByName(e,"VASTAdTagURI");return n?t=this.parseNodeText(n):(n=this.childByName(e,"VASTAdTagURL"))&&(t=this.parseNodeText(this.childByName(n,"URL"))),t},v.prototype.parseWrapperElement=function(e){var t=this.parseInLineElement(e);t.nextWrapperURL=this.parseNextWrapperURL(e),t.videoClickTrackingURLTemplates||(t.videoClickTrackingURLTemplates=[]),t.videoCustomClickURLTemplates||(t.videoCustomClickURLTemplates=[]),e=t.creatives;for(var n=0;n<e.length;n++){var i=e[n],r=null;"linear"!==i.type&&"nonlinear"!==i.type||(r=i)&&(r.trackingEvents&&(t.trackingEvents||(t.trackingEvents={}),t.trackingEvents[r.type]=r.trackingEvents),r.videoClickTrackingURLTemplates&&(t.videoClickTrackingURLTemplates=r.videoClickTrackingURLTemplates.concat(t.videoClickTrackingURLTemplates)),r.videoClickThroughURLTemplate&&(t.videoClickThroughURLTemplate=r.videoClickThroughURLTemplate),r.videoCustomClickURLTemplates&&(t.videoCustomClickURLTemplates=r.videoCustomClickURLTemplates.concat(t.videoCustomClickURLTemplates)))}return t.nextWrapperURL?t:null},v.prototype.parseSkipOffset=function(e,t){var n=null;return(n=t.getAttribute("skipoffset"))?"%"===n.charAt(n.length-1)&&-1!==e.duration?(percent=parseInt(n,10),n=percent/100*e.duration):n=this.parseDuration(n):n=null,n},v.prototype.parseVideoClicks=function(e){var t={videoClickTrackingURLTemplates:[],videoCustomClickURLTemplates:[]};if(e=this.childByName(e,"VideoClicks")){t.videoClickThroughURLTemplate=this.parseNodeText(this.childByName(e,"ClickThrough"));for(var n=this.childsByName(e,"ClickTracking"),i=0;i<n.length;i++)t.videoClickTrackingURLTemplates.push(this.parseNodeText(n[i]));for(e=this.childsByName(e,"CustomClick"),n=0;n<e.length;n++)t.videoCustomClickURLTemplates.push(this.parseNodeText(e[n]))}return t},v.prototype.parseTrackingEvents=function(e){var t={};e=this.childsByName(e,"TrackingEvents");for(var n=0;n<e.length;n++)for(var i=this.childsByName(e[n],"Tracking"),r=0;r<i.length;r++){var o=i[r],a=o.getAttribute("event"),s=this.parseNodeText(o);if(a&&s){if("progress"===a){if(!(o=o.getAttribute("offset")))continue;a="%"===o.charAt(o.length-1)?"progress-"+o:"progress-"+Math.round(this.parseDuration(o))}t[a]||(t[a]=[]),t[a].push(s)}}return t},v.prototype.parseMediaFileScalable=function(e){return!(e=e.getAttribute("scalable"))||"string"!=typeof e||"false"!==(e=e.toLowerCase())},v.prototype.parseMediaFileMaintainAspectRatio=function(e){return!(e=e.getAttribute("maintainAspectRatio"))||"string"!=typeof e||"false"!==(e=e.toLowerCase())},v.prototype.parseMediaFiles=function(e){var t=[];e=this.childsByName(e,"MediaFiles");for(var n=0;n<e.length;n++)for(var i=this.childsByName(e[n],"MediaFile"),o=0;o<i.length;o++){var a=i[o],s=new r;s.id=a.getAttribute("id"),s.fileURL=this.parseNodeText(a),s.deliveryType=a.getAttribute("delivery"),s.codec=a.getAttribute("codec"),s.mimeType=a.getAttribute("type"),s.apiFramework=a.getAttribute("apiFramework"),s.bitrate=parseInt(a.getAttribute("bitrate")||0,10),s.minBitrate=parseInt(a.getAttribute("minBitrate")||0,10),s.maxBitrate=parseInt(a.getAttribute("maxBitrate")||0,10),s.width=parseInt(a.getAttribute("width")||0,10),s.height=parseInt(a.getAttribute("height")||0,10),s.scalable=this.parseMediaFileScalable(a),s.maintainAspectRatio=this.parseMediaFileMaintainAspectRatio(a),t.push(s)}return t},v.prototype.parseIcons=function(e){var t=[];if(e=this.childByName(e,"Icons")){e=this.childsByName(e,"Icon");for(var i=0;i<e.length;i++){var r=e[i];(o=new n).program=r.getAttribute("program"),o.height=parseInt(r.getAttribute("height"),10)||0,o.width=parseInt(r.getAttribute("width"),10)||0,o.xPosition=this.parseXPosition(r.getAttribute("xPosition")),o.yPosition=this.parseYPosition(r.getAttribute("yPosition")),o.apiFramework=r.getAttribute("apiFramework"),o.offset=this.parseDuration(r.getAttribute("offset")),o.duration=this.parseDuration(r.getAttribute("duration"));var o=A.extend(o,this.parseResourceAdType(r));if(a=this.childByName(r,"IconClicks")){o.iconClickThroughURLTemplate=this.parseNodeText(this.childByName(a,"IconClickThrough"));for(var a=this.childsByName(a,"IconClickTracking"),s=0;s<a.length;s++)o.iconClickTrackingURLTemplates.push(this.parseNodeText(a[s]))}o.iconViewTrackingURLTemplate=this.parseNodeText(this.childByName(r,"IconViewTracking")),t.push(o)}}return t},v.prototype.parseCreativeLinearElement=function(e,t){var n=new a(t=void 0===t?{}:t);n.duration=this.parseDuration(this.parseNodeText(this.childByName(e,"Duration"))),n.skipDelay=this.parseSkipOffset(n,e);var i=this.parseVideoClicks(e);if(n.videoClickThroughURLTemplate=i.videoClickThroughURLTemplate,n.videoClickTrackingURLTemplates=n.videoClickTrackingURLTemplates.concat(i.videoClickTrackingURLTemplates),n.videoCustomClickURLTemplates=n.videoCustomClickURLTemplates.concat(i.videoCustomClickURLTemplates),n.trackingEvents=this.parseTrackingEvents(e),n.mediaFiles=n.mediaFiles.concat(this.parseMediaFiles(e)),n.icons=n.icons.concat(this.parseIcons(e)),i=this.childByName(e,"AdParameters"))for(n.adParameters=this.parseNodeText(i),i=0;i<n.mediaFiles.length;i++)n.mediaFiles[i].adParameters=n.adParameters;return n},v.prototype.parseResourceAdType=function(e){for(var t={},n=this.childsByName(e,"HTMLResource"),i=0;i<n.length;i++){var r=n[i];t.type=r.getAttribute("creativeType")||"text/html",t.htmlResource=this.parseNodeText(r)}for(n=this.childsByName(e,"IFrameResource"),i=0;i<n.length;i++)r=n[i],t.type=r.getAttribute("creativeType")||0,t.iframeResource=this.parseNodeText(r);for(e=this.childsByName(e,"StaticResource"),n=0;n<e.length;n++)i=e[n],t.type=i.getAttribute("creativeType")||0,t.staticResource=this.parseNodeText(i);return t},v.prototype.parseNonLinear=function(e,t){var n=new s(t=void 0===t?{}:t);n.trackingEvents=this.parseTrackingEvents(e);for(var i=this.childsByName(e,"NonLinear"),r=0;r<i.length;r++){var o=i[r];(a=new u).id=o.getAttribute("id")||null,a.width=o.getAttribute("width"),a.height=o.getAttribute("height"),a.expandedWidth=o.getAttribute("expandedWidth"),a.expandedHeight=o.getAttribute("expandedHeight"),a.scalable=this.parseBoolean(o.getAttribute("scalable")),a.maintainAspectRatio=this.parseBoolean(o.getAttribute("maintainAspectRatio")),a.minSuggestedDuration=o.getAttribute("minSuggestedDuration"),a.apiFramework=o.getAttribute("apiFramework");var a=A.extend(a,this.parseResourceAdType(o)),l=this.childByName(o,"AdParameters");for(l&&(a.adParameters=this.parseNodeText(l)),a.nonlinearClickThroughURLTemplate=this.parseNodeText(this.childByName(o,"NonLinearClickThrough")),l=(o=b.makeIterator(this.childsByName(o,"NonLinearClickTracking"))).next();!l.done;l=o.next())a.nonlinearClickTrackingURLTemplates.push(this.parseNodeText(l.value));n.variations.push(a)}return n},v.prototype.parseCompanionAd=function(e,n){for(var i=new l(n=void 0===n?{}:n),r=this.childsByName(e,"Companion"),o=0;o<r.length;o++){var a=r[o];(s=new t).id=a.getAttribute("id")||null,s.width=a.getAttribute("width"),s.height=a.getAttribute("height"),s.companionClickTrackingURLTemplates=[];for(var s=A.extend(s,this.parseResourceAdType(a)),c=this.childsByName(a,"TrackingEvents"),u=0;u<c.length;u++)for(var d=this.childsByName(c[u],"Tracking"),p=0;p<d.length;p++){var h=(f=d[p]).getAttribute("event"),f=this.parseNodeText(f);h&&f&&(s.trackingEvents[h]||(s.trackingEvents[h]=[]),s.trackingEvents[h].push(f))}for(u=(c=b.makeIterator(this.childsByName(a,"CompanionClickTracking"))).next();!u.done;u=c.next())s.companionClickTrackingURLTemplates.push(this.parseNodeText(u.value));s.companionClickThroughURLTemplate=this.parseNodeText(this.childByName(a,"CompanionClickThrough")),s.companionClickTrackingURLTemplate=this.parseNodeText(this.childByName(a,"CompanionClickTracking")),i.variations.push(s)}return i},v.prototype.parseCreativeAdIdAttribute=function(e){if(!e.hasAttributes())return null;e=Array.prototype.slice.call(e.attributes);for(var t=0;t<e.length;t++){var n=e[t];if(n&&n.name){var i=n.value;if("adid"===n.name.toLowerCase())return i}}return null},v.prototype.parseCreativeElement=function(e,t){for(var n=this.childsByName(t,"Creative"),i=0;i<n.length;i++)for(var r=(o=n[i]).childNodes,o={id:o.getAttribute("id")||null,adId:this.parseCreativeAdIdAttribute(o),sequence:parseInt(o.getAttribute("sequence"),10),apiFramework:o.getAttribute("apiFramework")||null},a=0;a<r.length;a++){var s=r.item(a),l=null;switch(s.nodeName){case"Linear":l=this.parseCreativeLinearElement(s,o);break;case"NonLinearAds":l=this.parseNonLinear(s,o);break;case"CompanionAds":l=this.parseCompanionAd(s,o)}l&&e.creatives.push(l)}},v.prototype.parseExtensionChild=function(e,t){for(var n=t.childNodes,i=0;i<n.length;i++){var r=n.item(i),o=this.parseNodeText(r);if("#comment"!==r.nodeName&&""!==o||r.attributes){var a=new d;if(a.name=r.nodeName,a.value=o,r.attributes){o=r.attributes;for(var s=0;s<o.length;s++){var l=o.item(s);a.attributes[l.nodeName]=l.nodeValue}}r.childNodes&&0<r.childNodes.length&&this.parseExtensionChild(a.children,r),e.push(a)}}},v.prototype.parseExtension=function(t,n){for(var i=0;i<n.length;i++){var r=n[i],o=new e;if(r.attributes)for(var a=r.attributes,s=0;s<a.length;s++){var l=a.item(s);o.attributes[l.nodeName]=l.nodeValue}this.parseExtensionChild(o.children,r),t.push(o)}},v.prototype.parseAdVerifications=function(e,t){for(var n=0;n<t.length;n++){var r=t[n],o=new i,a={};o.vendor=r.getAttribute("vendor")||null;var s=this.childByName(r,"JavaScriptResource");if(s&&(a.url=this.parseNodeText(s),a.apiFramework=s.getAttribute("apiFramework")||"VPAID",o.javascriptResource=a,(r=this.childByName(r,"AdParameters"))&&r.hasChildNodes()))for(var l in r.childNodes)(a=r.childNodes[l]).nodeType===Node.ELEMENT_NODE&&(o.adParameters||(o.adParameters={}),o.adParameters[a.nodeName]=this.parseNodeText(a));e.push(o)}},v.prototype.parseInLineElement=function(e){var t=new c;t.id=e.getAttribute("id")||null,t.sequence=parseInt(e.getAttribute("sequence"),10),t.fallbackType=e.getAttribute("fallbackType")||"replace",t.fallbackOnNoAd=this.parseBoolean(e.getAttribute("fallbackOnNoAd"),!1),t.followAdditionalWrappers=this.parseBoolean(e.getAttribute("followAdditionalWrappers"),!0),t.allowMultipleAds=this.parseBoolean(e.getAttribute("allowMultipleAds"),!1),e=e.childNodes;for(var n=0;n<e.length;n++){var i=e.item(n);switch(i.nodeName){case"Error":(i=this.parseNodeText(i))&&i.length&&t.errorURLTemplates.push(i);break;case"Impression":t.impressionURLTemplates.push(this.parseNodeText(i));break;case"AdVerifications":this.parseAdVerifications(t.adVerifications,this.childsByName(i,"Verification"));break;case"Creatives":this.parseCreativeElement(t,i);break;case"Extensions":this.parseExtension(t.extensions,this.childsByName(i,"Extension"));break;case"AdSystem":t.system={value:this.parseNodeText(i),version:i.getAttribute("version")||null};break;case"AdTitle":t.title=this.parseNodeText(i);break;case"Description":t.description=this.parseNodeText(i);break;case"Advertiser":t.advertiser=this.parseNodeText(i);break;case"Pricing":t.pricing={value:this.parseNodeText(i),model:i.getAttribute("model")||null,currency:i.getAttribute("currency")||null};break;case"Survey":t.survey=this.parseNodeText(i)}}return t},v.prototype.parseAdElement=function(e){for(var t=e.childNodes,n=0;n<t.length;n++){var i=t.item(n);if("Wrapper"===i.nodeName||"InLine"===i.nodeName){if(this.copyNodeAttribute("id",e,i),this.copyNodeAttribute("sequence",e,i),this.copyNodeAttribute("fallbackOnNoAd",e,i),this.copyNodeAttribute("fallbackType",e,i),this.copyNodeAttribute("followAdditionalWrappers",e,i),this.copyNodeAttribute("allowMultipleAds",e,i),"Wrapper"===i.nodeName)return this.parseWrapperElement(i);if("InLine"===i.nodeName)return this.parseInLineElement(i)}}return null},v.prototype.mergeWrapperAdData=function(e,t){e.wrappers=t.wrappers.concat(e.wrappers),e.errorURLTemplates=t.errorURLTemplates.concat(e.errorURLTemplates),e.impressionURLTemplates=t.impressionURLTemplates.concat(e.impressionURLTemplates),e.extensions=t.extensions.concat(e.extensions),e.adVerifications=t.adVerifications.concat(e.adVerifications),e.sequence=t.sequence,e.fallbackType=t.fallbackType,e.fallbackOnNoAd=t.fallbackOnNoAd||this.parseBoolean(e.fallbackOnNoAd,!1),e.followAdditionalWrappers=t.followAdditionalWrappers||this.parseBoolean(e.followAdditionalWrappers,!0),e.allowMultipleAds=t.allowMultipleAds||this.parseBoolean(e.allowMultipleAds,!1);var n=t.creatives.filter(function(e){return"companion"===e.type}).shift(),i=e.creatives.filter(function(e){return"companion"===e.type}).shift();n&&i?i.variations=n.variations.concat(i.variations):n&&!i&&((i=new l).variations=n.variations.concat(i.variations),e.creatives.push(i)),t.trackingEvents&&e.creatives.map(function(e){t.trackingEvents[e.type]&&Object.keys(t.trackingEvents[e.type]).map(function(n){e.trackingEvents[n]||(e.trackingEvents[n]=[]),e.trackingEvents[n]=e.trackingEvents[n].concat(t.trackingEvents[e.type][n])})}),e.creatives.map(function(e){t.creatives.map(function(t){e.icons=(e.icons||[]).concat(t.icons||[])})}),t.videoClickTrackingURLTemplates&&e.creatives.map(function(e){"linear"===e.type&&(e.videoClickTrackingURLTemplates=e.videoClickTrackingURLTemplates.concat(t.videoClickTrackingURLTemplates))}),t.videoClickThroughURLTemplate&&e.creatives.map(function(e){"linear"!==e.type||e.videoClickThroughURLTemplate||(e.videoClickThroughURLTemplate=t.videoClickThroughURLTemplate)})},v.prototype.urlResponseHandler=function(e,t,n,i,r,o){function a(){for(var e=u.ads.length-1;0<=e;e--){var n=u.ads[e];if(n.nextWrapperURL){for(e=JSON.parse(JSON.stringify(n)),n.VASTAdTagURI=t[1],n.wrappers.push(e),n=s.wrapperCallbackHandlers.length-1;0<=n;n--)(0,s.wrapperCallbackHandlers[n])(e,s.currentWrapperDepth);return}}0!==u.ads.length&&(u.ads.map(function(e){u.errorURLTemplates.map(function(t){-1===e.errorURLTemplates.indexOf(t)&&e.errorURLTemplates.push(t)})}),u.errorURLTemplates=[]),0===l?0===u.ads.length?(s.trackError(u,u.errorURLTemplates,303),i(r,u)):(u.ads.filter(function(e){return!s.isBrokenAd(e)}).map(function(e){e.creatives.map(function(t){var n=0<(t.mediaFiles||[]).filter(function(e){return!y.isSecureURL(e.fileURL)}).length;t=0<(t.variations||[]).filter(function(e){return!y.isSecureURL(e.fileURL)}).length,s.blockInsecureURL&&(n||t)&&(e.errorCode=405)})}),u.ads.map(function(e){var t=void 0;s.hasValidCreatives(e)||(t=400),s.isBrokenAd(e)&&(t=303),!isNaN(t)&&isNaN(e.errorCode)&&e.fetched&&(e.errorCode=t)}),s.handleFallbackOnNoAdFlag(u.ads),n=u.ads.filter(function(e){return!1===e.fetched&&!e.hasError}),0===u.ads.filter(function(e){return e.hasError&&e.fallbackOnNoAd}).length&&(n=[]),e=function(){s.deleteNeedlessBuffetAds(u.ads),u.ads.map(function(e){e.hasError&&(e.creatives=[])}),u.ads.sort(s.bySequence),1===u.ads.length&&u.ads[0].errorCode&&(0===u.errorURLTemplates.length?s.trackError(u,u.ads[0].errorURLTemplates,u.ads[0].errorCode):s.trackError(u,u.errorURLTemplates,u.ads[0].errorCode),u.ads.splice(0,1)),i(r,u)},0<n.length?(n=n.shift(),e=u.ads.indexOf(n),n.fetch(function(e,t){0<t.ads.length&&(u.ads[e]=t.ads[0]),a()}.bind(s,e))):e()):i(r,u)}var s=this,l=this.currentWrapperDepth++;if(r)return i(r);delete n.response;var u=new p;if(!o||!o.documentElement||"VAST"!==o.documentElement.nodeName)return i();for(var d=0;d<o.documentElement.childNodes.length;d++){var h=o.documentElement.childNodes.item(d);"Error"===h.nodeName&&u.errorURLTemplates.push(this.parseNodeText(h))}for(d=0;d<o.documentElement.childNodes.length;d++)"Ad"===(h=o.documentElement.childNodes.item(d)).nodeName&&((h=this.parseAdElement(h))?(h.url=h.nextWrapperURL?T(h.nextWrapperURL,e):e,h.fetched=!0,u.ads.push(h)):this.trackError(u,u.errorURLTemplates,101));for(o=u.ads.length,d={$jscomp$this$5:void 0};o--;)d.$jscomp$this$5=this,(h=u.ads[o]).nextWrapperURL&&(function(i){return function(r){if(t.length-1>=i.$jscomp$this$5.maxWrapperDepth||r.nextWrapperURL in t)r.errorCode=302,delete r.nextWrapperURL;else if(r.followAdditionalWrappers){e&&(r.nextWrapperURL=T(r.nextWrapperURL,e));var o=function(e,n){if(delete r.nextWrapperURL,e)return r.errorCode=e.errorCode||301,e.message&&-1!==e.message.indexOf("Invalid URL")&&(r.errorCode=303),a();if(n&&n.errorURLTemplates&&(u.errorURLTemplates=u.errorURLTemplates.concat(n.errorURLTemplates)),n&&0!==n.ads.length){var o=u.ads.indexOf(r);u.ads.splice(o,1),n.ads.map(function(e){return function(n){e.$jscomp$this$5.mergeWrapperAdData(n,r),n.VASTAdTagURI=t[1],u.ads.splice(++o,0,n)}}(i))}else r.creatives=[];return a()},s=0<u.ads.filter(function(e){return!isNaN(e.sequence)}).length;isNaN(r.sequence)&&!n.prefetchBuffets&&s?(o=new p,r.fetched=!1,r.fetchURL=r.nextWrapperURL,delete r.nextWrapperURL,r.fetch=function(e){return function(i){e.$jscomp$this$5.parse(r.fetchURL,n,function(t,n){if(0<n.ads.length)n.ads.map(function(e){return function(t){e.$jscomp$this$5.mergeWrapperAdData(t,r),t.VASTAdTagURI=r.url}}(e));else{var o=new c;o.errorURLTemplates=r.errorURLTemplates.concat(n.errorURLTemplates),o.errorCode=303,o.sequence=r.sequence,o.fetched=!0,o.fallbackOnNoAd=!0,n.ads.push(o)}i(n)},t)}}(i),o.ads.push(r)):i.$jscomp$this$5.parse(r.nextWrapperURL,n,o.bind(i.$jscomp$this$5),t)}else delete r.nextWrapperURL,i.$jscomp$this$5.isBrokenAd(r)&&isNaN(r.errorCode)&&(r.errorCode=303)}}(d)(h),d={$jscomp$this$5:d.$jscomp$this$5});return a()},v.prototype.handleFallbackOnNoAdFlag=function(e){var t=this;e.sort(this.bySequence);var n=e.filter(function(e){return isNaN(e.sequence)&&!t.isBrokenAd(e)}),i=e.filter(function(e){return t.isBrokenAd(e)&&e.fallbackOnNoAd&&e.sequence&&!e.replaced}),r=e.filter(function(e){return e.fallbackOnNoAd&&e.sequence});if(0!==r.length){var o=parseInt(r[r.length-1].sequence,10);if(0===i.length)return this.deleteNeedlessBuffetAds(e);i.forEach(function(t){var i=n.shift();if(i){var r=e.indexOf(t);i.sequence=t.sequence+.1,t.fallbackType&&"waterfall"===t.fallbackType&&(r=e.indexOf(i),i.sequence=o++),t.replaced=!0,e.splice(r,i)}})}},v.prototype.deleteNeedlessBuffetAds=function(e){if(0!==e.length&&!isNaN(e[0].sequence))for(var t=e.length;t--;)isNaN(e[t].sequence)&&e.splice(t,1)},v.prototype.bySequence=function(e,t){return e.sequence-t.sequence||(e.sequence||1/0)-(t.sequence||1/0)||0},v.prototype.hasValidCreatives=function(e){return 0<e.creatives.filter(function(e,t,n){t=e.mediaFiles&&0<e.mediaFiles.length;var i=e.variations&&0<e.variations.length;return!!(0<n.length&&(t||i))&&(!(i&&!t)||0<e.variations.filter(function(e){return!0===e.hasCreative}).length)}).length},v.prototype.isBrokenAd=function(e){return!e||e.hasError||e.fetched&&!this.hasValidCreatives(e)},v.prototype.getClosestIndexOfNextValidAd=function(e,t){var n=this,i=1/0;return e.map(function(e,r){var o=Math.abs(i-t),a=Math.abs(r-t);!n.isBrokenAd(e)&&a<o&&r!==t&&(i=r)}),1/0===i?-1:i},v.prototype.parse=function(e,t,n,i){i=void 0===i?[]:i;var r=e;n=void 0===n?function(){}:n;var o=t=void 0===t?{}:t;for("function"==typeof t&&(n=t,o={}),this.blockInsecureURL=o.blockInsecureURL||!1,this.maxWrapperDepth=o.maxWrapperDepth||10,t=this.URLTemplateFilters.length-1;0<=t;t--)r=(0,this.URLTemplateFilters[t])(e);i.push(r),this.blockInsecureURL&&!y.isSecureURL(r)?n({errorCode:310,errorMessage:"Mixed Content: This request has been blocked; the ad-request must be served over HTTPS."},null):(new m).get(r,o,this.urlResponseHandler.bind(this,e,i,o,n))},window.VASTParser=v}()}();